2026-02-25 15:45:53,713 - Engine.KC - INFO - =============================================
2026-02-25 15:45:53,713 - Engine.KC - INFO - === Starting CommodityEngine [KC] ===
2026-02-25 15:45:53,713 - Engine.KC - INFO - =============================================
2026-02-25 15:45:53,713 - Engine.KC - INFO - Data directory: /home/rodrigo/real_options/data/KC
2026-02-25 15:45:53,713 - trading_bot.state_manager - INFO - StateManager data_dir set to: /home/rodrigo/real_options/data/KC
2026-02-25 15:45:53,714 - trading_bot.task_tracker - INFO - TaskTracker data_dir set to: /home/rodrigo/real_options/data/KC
2026-02-25 15:45:53,714 - trading_bot.decision_signals - INFO - DecisionSignals data_dir set to: /home/rodrigo/real_options/data/KC
2026-02-25 15:45:53,714 - OrderManager - INFO - OrderManager capital state dir set to: /home/rodrigo/real_options/data/KC
2026-02-25 15:45:53,714 - trading_bot.sentinel_stats - INFO - SentinelStats data_dir set to: /home/rodrigo/real_options/data/KC
2026-02-25 15:45:53,714 - trading_bot.utils - INFO - Utils data_dir set to: /home/rodrigo/real_options/data/KC
2026-02-25 15:45:53,714 - trading_bot.tms - INFO - TMS default path set to: /home/rodrigo/real_options/data/KC/tms
2026-02-25 15:45:53,714 - trading_bot.brier_bridge - INFO - BrierBridge data_dir set to: /home/rodrigo/real_options/data/KC
2026-02-25 15:45:53,714 - trading_bot.brier_scoring - INFO - BrierScoring data_dir set to: /home/rodrigo/real_options/data/KC
2026-02-25 15:45:53,715 - trading_bot.weighted_voting - INFO - WeightedVoting data_dir set to: /home/rodrigo/real_options/data/KC
2026-02-25 15:45:53,715 - trading_bot.router_metrics - INFO - RouterMetrics data_dir set to: /home/rodrigo/real_options/data/KC
2026-02-25 15:45:53,716 - trading_bot.agents - INFO - Agents provenance log set to: /home/rodrigo/real_options/data/KC/research_provenance.log
2026-02-25 15:45:53,716 - trading_bot.prompt_trace - INFO - PromptTrace data_dir set to: /home/rodrigo/real_options/data/KC
2026-02-25 15:45:53,720 - trading_bot.data_dir_context - INFO - Engine data_dir set to: /home/rodrigo/real_options/data/KC
2026-02-25 15:45:53,720 - trading_bot.data_dir_context - INFO - Legacy data directories configured for: /home/rodrigo/real_options/data/KC
2026-02-25 15:45:53,781 - trading_bot.drawdown_circuit_breaker - INFO - Loaded drawdown state: PANIC (-5.92%)
2026-02-25 15:45:53,781 - trading_bot.data_dir_context - INFO - EngineRuntime set for [KC]
2026-02-25 15:45:53,782 - Engine.KC - WARNING - ============================================================
2026-02-25 15:45:53,782 - Engine.KC - WARNING -   IB GATEWAY: REMOTE/PAPER (100.102.50.16)
2026-02-25 15:45:53,782 - Engine.KC - WARNING -   Client IDs: DEV range (10-79)
2026-02-25 15:45:53,782 - Engine.KC - WARNING -   Trading Mode: LIVE
2026-02-25 15:45:53,782 - Engine.KC - WARNING - ============================================================
2026-02-25 15:45:53,782 - Engine.KC - INFO - Budget Guard initialized. Daily limit: $15.0
2026-02-25 15:45:53,782 - Engine.KC - INFO - Drawdown Guard initialized.
2026-02-25 15:45:53,782 - Engine.KC - INFO - Expiry filter window: 45-365 DTE
2026-02-25 15:45:53,894 - Orchestrator - INFO - --- Processing Deferred Triggers ---
2026-02-25 15:45:53,895 - Orchestrator - INFO - No deferred triggers to process.
2026-02-25 15:45:53,895 - Orchestrator - INFO - Built session schedule: 17 tasks for KC (04:15-13:30 ET)
2026-02-25 15:45:53,895 - Engine.KC - INFO - Environment: DEV. Applying 0 minute 'Civil War' avoidance offset.
2026-02-25 15:45:53,898 - Engine.KC - WARNING - LATE START DETECTED: 7 scheduled tasks already passed:\n  - 03:30 ET: start_monitoring\n  - 03:31 ET: process_deferred_triggers\n  - 04:00 ET: cleanup_orphaned_theses\n  - 04:42 ET: signal_open\n  - 07:01 ET: signal_early\n  - 08:52 ET: audit_mid_session\n  - 09:20 ET: signal_mid
2026-02-25 15:45:53,900 - Orchestrator - INFO - --- Recovery: Evaluating 7 missed tasks ---
2026-02-25 15:45:53,900 - Orchestrator - INFO - üîÑ RECOVERY: Running missed start_monitoring [start_monitoring] (was scheduled 03:30 ET)
2026-02-25 15:45:53,900 - Orchestrator - INFO - System shutdown flag CLEARED ‚Äî new trading day beginning
2026-02-25 15:45:53,901 - Orchestrator - INFO - --- Starting position monitoring process ---
2026-02-25 15:45:53,902 - Orchestrator - INFO - Successfully started position monitor with PID: 2566805
2026-02-25 15:45:53,902 - Orchestrator - INFO - Started position monitoring service.
2026-02-25 15:45:53,905 - Orchestrator - INFO - ‚úÖ RECOVERY: start_monitoring completed
2026-02-25 15:45:57,645 - Orchestrator - INFO - 2026-02-25 15:45:57,644 - ConfigLoader - INFO - Config loaded successfully. Mode: LIVE. Providers: gemini, anthropic, openai, xai
2026-02-25 15:45:57,645 - Orchestrator - INFO - 2026-02-25 15:45:57,645 - __main__ - INFO - Position monitor connection attempt 1/5...
2026-02-25 15:45:57,647 - Orchestrator - INFO - 2026-02-25 15:45:57,646 - trading_bot.connection_pool - INFO - Connecting IB (monitor) ID: 29 [REMOTE/PAPER]...
2026-02-25 15:45:57,769 - Orchestrator - INFO - 2026-02-25 15:45:57,769 - trading_bot.connection_pool - INFO - IB (monitor) connected successfully with ID 29
2026-02-25 15:45:57,774 - Orchestrator - INFO - 2026-02-25 15:45:57,774 - trading_bot.utils - INFO - üõ†Ô∏è FORCE_DELAYED_DATA enabled: Using Delayed Market Data (Type 3)
2026-02-25 15:45:57,775 - Orchestrator - INFO - 2026-02-25 15:45:57,774 - __main__ - INFO - Position monitor connected and watching open positions.
2026-02-25 15:45:57,775 - Orchestrator - INFO - 2026-02-25 15:45:57,774 - root - INFO - Starting intraday P&L monitor. Stop: 50% (Max Risk), Profit: 80% (Capture), Interval: 600s
2026-02-25 15:45:57,775 - Orchestrator - INFO - 2026-02-25 15:45:57,774 - root - INFO - Order status and execution event handlers registered.
2026-02-25 15:45:57,881 - Orchestrator - INFO - 2026-02-25 15:45:57,880 - root - INFO - --- Risk Monitor: Checking 0 combo position(s) ---
2026-02-25 15:45:59,906 - Orchestrator - INFO - üîÑ RECOVERY: Running missed process_deferred_triggers [process_deferred_triggers] (was scheduled 03:31 ET)
2026-02-25 15:45:59,908 - Orchestrator - INFO - --- Processing Deferred Triggers ---
2026-02-25 15:45:59,908 - Orchestrator - INFO - No deferred triggers to process.
2026-02-25 15:45:59,911 - Orchestrator - INFO - ‚úÖ RECOVERY: process_deferred_triggers completed
2026-02-25 15:46:05,914 - Orchestrator - INFO - üîÑ RECOVERY: Running missed cleanup_orphaned_theses [cleanup_orphaned_theses] (was scheduled 04:00 ET)
2026-02-25 15:46:05,915 - Orchestrator - INFO - --- AUTOMATED THESIS CLEANUP ---
2026-02-25 15:46:05,916 - trading_bot.connection_pool - INFO - Connecting IB (KC_cleanup) ID: 83 [REMOTE/PAPER]...
2026-02-25 15:46:06,313 - trading_bot.connection_pool - INFO - IB (KC_cleanup) connected successfully with ID 83
2026-02-25 15:46:06,334 - chromadb.telemetry.product.posthog - INFO - Anonymized telemetry enabled. See                     https://docs.trychroma.com/telemetry for more information.
2026-02-25 15:46:06,420 - trading_bot.tms - INFO - TMS initialized at /home/rodrigo/real_options/data/KC/tms
2026-02-25 15:46:06,475 - Orchestrator - INFO - Thesis cleanup: no orphans found
2026-02-25 15:46:06,475 - trading_bot.connection_pool - INFO - Disconnecting IB (KC_cleanup)...
2026-02-25 15:46:09,480 - Orchestrator - INFO - ‚úÖ RECOVERY: cleanup_orphaned_theses completed
2026-02-25 15:46:15,483 - Orchestrator - INFO - ‚úÖ ALREADY RAN: signal_open completed earlier today (before restart). Skipping re-execution.
2026-02-25 15:46:15,483 - Orchestrator - INFO - ‚úÖ ALREADY RAN: signal_early completed earlier today (before restart). Skipping re-execution.
2026-02-25 15:46:15,483 - Orchestrator - INFO - üîÑ RECOVERY: Running missed audit_mid_session [run_position_audit_cycle] (was scheduled 08:52 ET)
2026-02-25 15:46:15,484 - Orchestrator - INFO - --- POSITION AUDIT CYCLE (Scheduled) ---
2026-02-25 15:46:15,484 - trading_bot.connection_pool - INFO - Connecting IB (KC_audit) ID: 66 [REMOTE/PAPER]...
2026-02-25 15:46:15,946 - trading_bot.connection_pool - INFO - IB (KC_audit) connected successfully with ID 66
2026-02-25 15:46:15,952 - trading_bot.utils - INFO - üõ†Ô∏è FORCE_DELAYED_DATA enabled: Using Delayed Market Data (Type 3)
2026-02-25 15:46:16,065 - trading_bot.tms - INFO - TMS initialized at /home/rodrigo/real_options/data/KC/tms
2026-02-25 15:46:16,085 - Orchestrator - WARNING - State sync discrepancy: IBKR has 0 positions but ledger shows 4 open
2026-02-25 15:46:16,404 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-02-25 15:46:16,406 - Orchestrator - WARNING - Proceeding with audit despite 1 discrepancies. IBKR positions are source of truth.
2026-02-25 15:46:16,409 - Orchestrator - INFO - No open positions to audit.
2026-02-25 15:46:16,411 - trading_bot.connection_pool - INFO - Disconnecting IB (KC_audit)...
2026-02-25 15:46:19,416 - Orchestrator - INFO - ‚úÖ RECOVERY: audit_mid_session completed
2026-02-25 15:46:25,417 - Orchestrator - INFO - ‚úÖ ALREADY RAN: signal_mid completed earlier today (before restart). Skipping re-execution.
2026-02-25 15:46:25,417 - Orchestrator - INFO - System restarted with 7 missed tasks.\n‚úÖ 4 recovered | ‚è≠Ô∏è 0 skipped | ‚úîÔ∏è 3 already ran
2026-02-25 15:46:25,640 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-02-25 15:46:25,642 - Engine.KC - INFO - Running TopicDiscoveryAgent on startup...
2026-02-25 15:46:25,673 - trading_bot.topic_discovery - INFO - Starting Topic Discovery Scan...
2026-02-25 15:46:37,514 - trading_bot.tms - INFO - TMS initialized at /home/rodrigo/real_options/data/KC/tms
2026-02-25 15:46:37,517 - Engine.KC - INFO - Startup TopicDiscovery: 4 topics, No changes
2026-02-25 15:46:37,519 - Engine.KC - INFO - Next task 'signal_late' (Signal: Late) scheduled for 2026-02-25 16:39:00 UTC. Waiting for 0.87 hours.
2026-02-25 15:46:37,519 - Orchestrator - INFO - --- Starting Sentinel Array ---
2026-02-25 15:46:37,848 - Orchestrator - INFO - Market Open: Establishing Sentinel IB connection...
2026-02-25 15:46:37,849 - trading_bot.connection_pool - INFO - Connecting IB (KC_sentinel) ID: 21 [REMOTE/PAPER]...
2026-02-25 15:46:37,849 - trading_bot.self_healing - INFO - Self-Healing Monitor started
2026-02-25 15:46:38,234 - trading_bot.connection_pool - INFO - IB (KC_sentinel) connected successfully with ID 21
2026-02-25 15:46:38,241 - trading_bot.utils - INFO - üõ†Ô∏è FORCE_DELAYED_DATA enabled: Using Delayed Market Data (Type 3)
2026-02-25 15:46:38,244 - Orchestrator - INFO - Sentinel IB connected and injected into PriceSentinel.
2026-02-25 15:46:38,244 - Orchestrator - INFO - SENTINEL SAFETY NET: First market-open transition ‚Äî processing deferred triggers
2026-02-25 15:46:38,248 - Orchestrator - INFO - --- Processing Deferred Triggers ---
2026-02-25 15:46:38,249 - Orchestrator - INFO - No deferred triggers to process.
2026-02-25 15:46:38,250 - root - INFO - Fetching 1 active futures contracts for KC on NYBOT...
2026-02-25 15:46:38,258 - ConfigLoader - INFO - Config loaded successfully. Mode: LIVE. Providers: gemini, anthropic, openai, xai
2026-02-25 15:46:38,375 - root - INFO - Skipping contract KCH6 (Exp: 20260319): Expires < 45 days.
2026-02-25 15:46:38,377 - root - INFO - Found 10 active tradeable contracts (>=45d exp). Returning the first 1.
2026-02-25 15:46:38,378 - Orchestrator - INFO - Refreshed contract cache: KCK6
2026-02-25 15:46:38,378 - Orchestrator - INFO - Market Open: Engaging Microstructure Sentinel
2026-02-25 15:46:38,380 - trading_bot.connection_pool - INFO - Connecting IB (KC_microstructure) ID: 56 [REMOTE/PAPER]...
2026-02-25 15:46:38,684 - trading_bot.connection_pool - INFO - IB (KC_microstructure) connected successfully with ID 56
2026-02-25 15:46:38,690 - trading_bot.utils - INFO - üõ†Ô∏è FORCE_DELAYED_DATA enabled: Using Delayed Market Data (Type 3)
2026-02-25 15:46:44,487 - trading_bot.rate_limiter - INFO - GlobalRateLimiter initialized: ['gemini', 'openai', 'anthropic', 'xai']
2026-02-25 15:47:17,470 - Orchestrator - INFO - XSentimentSentinel: trigger detected (severity=6)
2026-02-25 15:47:17,513 - trading_bot.state_manager - INFO - Logged sentinel event from XSentimentSentinel to history.
2026-02-25 15:47:17,584 - Orchestrator - WARNING - Drawdown Circuit Breaker ACTIVE (PANIC) - Skipping Emergency Cycle
2026-02-25 15:47:17,584 - Orchestrator - INFO - Post-cycle debounce: 0s (gate-blocked (no debounce))
2026-02-25 15:51:20,539 - Orchestrator - INFO - Sentinel loop heartbeat: iteration=5, market_open=True, trading_day=True
2026-02-25 15:55:57,954 - Orchestrator - INFO - 2026-02-25 15:55:57,953 - root - INFO - --- Risk Monitor: Checking 0 combo position(s) ---
2026-02-25 15:56:22,761 - Orchestrator - INFO - Sentinel loop heartbeat: iteration=10, market_open=True, trading_day=True
2026-02-25 15:56:22,987 - Orchestrator - INFO - MICROSTRUCTURE NOTE: Liquidity Depletion: 41% of average (Sev: 5)
2026-02-25 15:56:22,994 - trading_bot.state_manager - INFO - Logged sentinel event from MicrostructureSentinel to history.
2026-02-25 16:01:24,820 - Orchestrator - INFO - Sentinel loop heartbeat: iteration=15, market_open=True, trading_day=True
2026-02-25 16:05:57,999 - Orchestrator - INFO - 2026-02-25 16:05:57,999 - root - INFO - --- Risk Monitor: Checking 0 combo position(s) ---
2026-02-25 16:06:27,262 - Orchestrator - INFO - Sentinel loop heartbeat: iteration=20, market_open=True, trading_day=True
2026-02-25 16:08:28,047 - Orchestrator - INFO - MICROSTRUCTURE NOTE: Liquidity Depletion: 42% of average (Sev: 5)
2026-02-25 16:08:28,052 - trading_bot.state_manager - INFO - Logged sentinel event from MicrostructureSentinel to history.
2026-02-25 16:11:28,519 - Orchestrator - INFO - Sentinel loop heartbeat: iteration=25, market_open=True, trading_day=True
2026-02-25 16:15:29,778 - Orchestrator - INFO - MICROSTRUCTURE NOTE: Liquidity Depletion: 44% of average (Sev: 5)
2026-02-25 16:15:29,783 - trading_bot.state_manager - INFO - Logged sentinel event from MicrostructureSentinel to history.
2026-02-25 16:15:58,104 - Orchestrator - INFO - 2026-02-25 16:15:58,104 - root - INFO - --- Risk Monitor: Checking 0 combo position(s) ---
2026-02-25 16:16:29,789 - Orchestrator - INFO - Sentinel loop heartbeat: iteration=30, market_open=True, trading_day=True
2026-02-25 16:21:31,036 - Orchestrator - INFO - Sentinel loop heartbeat: iteration=35, market_open=True, trading_day=True
2026-02-25 16:25:58,199 - Orchestrator - INFO - 2026-02-25 16:25:58,199 - root - INFO - --- Risk Monitor: Checking 0 combo position(s) ---
2026-02-25 16:26:32,303 - Orchestrator - INFO - Sentinel loop heartbeat: iteration=40, market_open=True, trading_day=True
2026-02-25 16:27:32,865 - Orchestrator - INFO - MICROSTRUCTURE NOTE: Liquidity Depletion: 41% of average (Sev: 5)
2026-02-25 16:27:32,868 - trading_bot.state_manager - INFO - Logged sentinel event from MicrostructureSentinel to history.
2026-02-25 16:31:33,563 - Orchestrator - INFO - Sentinel loop heartbeat: iteration=45, market_open=True, trading_day=True
2026-02-25 16:35:34,868 - Orchestrator - INFO - MICROSTRUCTURE NOTE: Liquidity Depletion: 40% of average (Sev: 5)
2026-02-25 16:35:34,872 - trading_bot.state_manager - INFO - Logged sentinel event from MicrostructureSentinel to history.
2026-02-25 16:35:58,207 - Orchestrator - INFO - 2026-02-25 16:35:58,206 - root - INFO - --- Risk Monitor: Checking 0 combo position(s) ---
2026-02-25 16:36:34,879 - Orchestrator - INFO - Sentinel loop heartbeat: iteration=50, market_open=True, trading_day=True
2026-02-25 16:39:00,001 - Engine.KC - INFO - --- Running scheduled task: signal_late [guarded_generate_orders] ---
2026-02-25 16:39:00,004 - Orchestrator - WARNING - Signal cycle BLOCKED by PortfolioRiskGuard: Portfolio circuit breaker: PANIC
2026-02-25 16:39:00,009 - Engine.KC - INFO - Next task 'audit_pre_close' (Audit: Pre-Close) scheduled for 2026-02-25 17:55:00 UTC. Waiting for 1.27 hours.
2026-02-25 16:41:36,183 - Orchestrator - INFO - Sentinel loop heartbeat: iteration=55, market_open=True, trading_day=True
2026-02-25 16:45:58,272 - Orchestrator - INFO - 2026-02-25 16:45:58,271 - root - INFO - --- Risk Monitor: Checking 0 combo position(s) ---
2026-02-25 16:46:37,435 - Orchestrator - INFO - Sentinel loop heartbeat: iteration=60, market_open=True, trading_day=True
2026-02-25 16:51:38,689 - Orchestrator - INFO - Sentinel loop heartbeat: iteration=65, market_open=True, trading_day=True
2026-02-25 16:52:39,234 - Orchestrator - INFO - MICROSTRUCTURE NOTE: Liquidity Depletion: 38% of average (Sev: 6)
2026-02-25 16:52:39,237 - trading_bot.state_manager - INFO - Logged sentinel event from MicrostructureSentinel to history.
2026-02-25 16:55:58,348 - Orchestrator - INFO - 2026-02-25 16:55:58,347 - root - INFO - --- Risk Monitor: Checking 0 combo position(s) ---
2026-02-25 16:56:39,941 - Orchestrator - INFO - Sentinel loop heartbeat: iteration=70, market_open=True, trading_day=True
2026-02-25 17:01:41,192 - Orchestrator - INFO - Sentinel loop heartbeat: iteration=75, market_open=True, trading_day=True
2026-02-25 17:05:58,393 - Orchestrator - INFO - 2026-02-25 17:05:58,392 - root - INFO - --- Risk Monitor: Checking 0 combo position(s) ---
2026-02-25 17:06:42,432 - Orchestrator - INFO - Sentinel loop heartbeat: iteration=80, market_open=True, trading_day=True
2026-02-25 17:11:43,806 - Orchestrator - INFO - Sentinel loop heartbeat: iteration=85, market_open=True, trading_day=True
2026-02-25 17:15:58,459 - Orchestrator - INFO - 2026-02-25 17:15:58,459 - root - INFO - --- Risk Monitor: Checking 0 combo position(s) ---
2026-02-25 17:16:45,086 - Orchestrator - INFO - Sentinel loop heartbeat: iteration=90, market_open=True, trading_day=True
2026-02-25 17:22:11,452 - Orchestrator - INFO - Sentinel loop heartbeat: iteration=95, market_open=True, trading_day=True
2026-02-25 17:25:58,560 - Orchestrator - INFO - 2026-02-25 17:25:58,559 - root - INFO - --- Risk Monitor: Checking 0 combo position(s) ---
2026-02-25 17:27:12,713 - Orchestrator - INFO - Sentinel loop heartbeat: iteration=100, market_open=True, trading_day=True
2026-02-25 17:28:13,277 - Orchestrator - INFO - MICROSTRUCTURE NOTE: Liquidity Depletion: 38% of average (Sev: 6)
2026-02-25 17:28:13,282 - trading_bot.state_manager - INFO - Logged sentinel event from MicrostructureSentinel to history.
