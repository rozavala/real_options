2026-02-19 16:27:04,587 - Orchestrator - INFO - =============================================
2026-02-19 16:27:04,588 - Orchestrator - INFO - === Starting Trading Bot Orchestrator [KC] ===
2026-02-19 16:27:04,588 - Orchestrator - INFO - =============================================
2026-02-19 16:27:04,588 - Orchestrator - INFO - Data directory: /home/rodrigo/real_options/data/KC
2026-02-19 16:27:04,589 - ConfigLoader - INFO - Config loaded successfully. Mode: LIVE. Providers: gemini, anthropic, openai, xai
2026-02-19 16:27:04,590 - trading_bot.state_manager - INFO - StateManager data_dir set to: /home/rodrigo/real_options/data/KC
2026-02-19 16:27:04,590 - trading_bot.task_tracker - INFO - TaskTracker data_dir set to: /home/rodrigo/real_options/data/KC
2026-02-19 16:27:04,590 - trading_bot.decision_signals - INFO - DecisionSignals data_dir set to: /home/rodrigo/real_options/data/KC
2026-02-19 16:27:04,590 - OrderManager - INFO - OrderManager capital state dir set to: /home/rodrigo/real_options/data/KC
2026-02-19 16:27:04,591 - trading_bot.sentinel_stats - INFO - SentinelStats data_dir set to: /home/rodrigo/real_options/data/KC
2026-02-19 16:27:04,591 - trading_bot.utils - INFO - Utils data_dir set to: /home/rodrigo/real_options/data/KC
2026-02-19 16:27:04,591 - trading_bot.tms - INFO - TMS default path set to: /home/rodrigo/real_options/data/KC/tms
2026-02-19 16:27:04,591 - trading_bot.brier_bridge - INFO - BrierBridge data_dir set to: /home/rodrigo/real_options/data/KC
2026-02-19 16:27:04,591 - trading_bot.brier_scoring - INFO - BrierScoring data_dir set to: /home/rodrigo/real_options/data/KC
2026-02-19 16:27:04,591 - trading_bot.weighted_voting - INFO - WeightedVoting data_dir set to: /home/rodrigo/real_options/data/KC
2026-02-19 16:27:04,591 - trading_bot.router_metrics - INFO - RouterMetrics data_dir set to: /home/rodrigo/real_options/data/KC
2026-02-19 16:27:04,591 - trading_bot.agents - INFO - Agents provenance log set to: /home/rodrigo/real_options/data/KC/research_provenance.log
2026-02-19 16:27:04,591 - Orchestrator - WARNING - ============================================================
2026-02-19 16:27:04,592 - Orchestrator - WARNING -   IB GATEWAY: REMOTE/PAPER (100.102.50.16)
2026-02-19 16:27:04,592 - Orchestrator - WARNING -   Client IDs: DEV range (10-79)
2026-02-19 16:27:04,592 - Orchestrator - WARNING -   Trading Mode: LIVE
2026-02-19 16:27:04,592 - Orchestrator - WARNING - ============================================================
2026-02-19 16:27:04,592 - Orchestrator - INFO - Budget Guard initialized. Daily limit: $15.0
2026-02-19 16:27:04,592 - Orchestrator - INFO - Drawdown Guard initialized.
2026-02-19 16:27:04,592 - Orchestrator - INFO - Expiry filter window: 45-365 DTE
2026-02-19 16:27:04,705 - Orchestrator - INFO - --- Processing Deferred Triggers ---
2026-02-19 16:27:04,706 - Orchestrator - INFO - No deferred triggers to process.
2026-02-19 16:27:04,706 - Orchestrator - INFO - Built session schedule: 17 tasks for KC (04:15-13:30 ET)
2026-02-19 16:27:04,706 - Orchestrator - INFO - Environment: DEV. Applying 0 minute 'Civil War' avoidance offset.
2026-02-19 16:27:04,713 - Orchestrator - WARNING - ‚ö†Ô∏è LATE START DETECTED: 7 scheduled tasks already passed:
  - 03:30 ET: start_monitoring
  - 03:31 ET: process_deferred_triggers
  - 04:00 ET: cleanup_orphaned_theses
  - 04:42 ET: signal_open
  - 07:01 ET: signal_early
  - 08:52 ET: audit_mid_session
  - 09:20 ET: signal_mid
2026-02-19 16:27:04,714 - Orchestrator - INFO - --- Recovery: Evaluating 7 missed tasks ---
2026-02-19 16:27:04,714 - Orchestrator - INFO - üîÑ RECOVERY: Running missed start_monitoring [start_monitoring] (was scheduled 03:30 ET)
2026-02-19 16:27:04,714 - Orchestrator - INFO - System shutdown flag CLEARED ‚Äî new trading day beginning
2026-02-19 16:27:04,715 - Orchestrator - INFO - --- Starting position monitoring process ---
2026-02-19 16:27:04,716 - Orchestrator - INFO - Successfully started position monitor with PID: 2139115
2026-02-19 16:27:04,716 - Orchestrator - INFO - Started position monitoring service.
2026-02-19 16:27:04,719 - Orchestrator - INFO - ‚úÖ RECOVERY: start_monitoring completed
2026-02-19 16:27:04,719 - Orchestrator - INFO - ‚úÖ ALREADY RAN: process_deferred_triggers completed earlier today (before restart). Skipping re-execution.
2026-02-19 16:27:04,719 - Orchestrator - INFO - üîÑ RECOVERY: Running missed cleanup_orphaned_theses [cleanup_orphaned_theses] (was scheduled 04:00 ET)
2026-02-19 16:27:04,719 - Orchestrator - INFO - --- AUTOMATED THESIS CLEANUP ---
2026-02-19 16:27:04,719 - trading_bot.connection_pool - INFO - Connecting IB (cleanup) ID: 73 [REMOTE/PAPER]...
2026-02-19 16:27:08,654 - Orchestrator - INFO - 2026-02-19 16:27:08,653 - ConfigLoader - INFO - Config loaded successfully. Mode: LIVE. Providers: gemini, anthropic, openai, xai
2026-02-19 16:27:08,655 - Orchestrator - INFO - 2026-02-19 16:27:08,655 - trading_bot.connection_pool - INFO - Connecting IB (monitor) ID: 29 [REMOTE/PAPER]...
2026-02-19 16:27:19,782 - ib_insync.ib - ERROR - completed orders request timed out
2026-02-19 16:27:19,785 - trading_bot.connection_pool - INFO - IB (cleanup) connected successfully with ID 73
2026-02-19 16:27:19,834 - chromadb.telemetry.product.posthog - INFO - Anonymized telemetry enabled. See                     https://docs.trychroma.com/telemetry for more information.
2026-02-19 16:27:19,925 - trading_bot.tms - INFO - TMS initialized at /home/rodrigo/real_options/data/KC/tms
2026-02-19 16:27:20,048 - Orchestrator - INFO - Thesis cleanup: no orphans found
2026-02-19 16:27:20,050 - trading_bot.connection_pool - INFO - Disconnecting IB (cleanup)...
2026-02-19 16:27:23,057 - Orchestrator - INFO - ‚úÖ RECOVERY: cleanup_orphaned_theses completed
2026-02-19 16:27:23,058 - Orchestrator - INFO - ‚úÖ ALREADY RAN: signal_open completed earlier today (before restart). Skipping re-execution.
2026-02-19 16:27:23,058 - Orchestrator - INFO - ‚úÖ ALREADY RAN: signal_early completed earlier today (before restart). Skipping re-execution.
2026-02-19 16:27:23,058 - Orchestrator - INFO - üîÑ RECOVERY: Running missed audit_mid_session [run_position_audit_cycle] (was scheduled 08:52 ET)
2026-02-19 16:27:23,058 - Orchestrator - INFO - --- POSITION AUDIT CYCLE (Scheduled) ---
2026-02-19 16:27:23,058 - trading_bot.connection_pool - INFO - Connecting IB (audit) ID: 57 [REMOTE/PAPER]...
2026-02-19 16:27:23,679 - Orchestrator - INFO - 2026-02-19 16:27:23,679 - ib_insync.ib - ERROR - completed orders request timed out
2026-02-19 16:27:23,683 - Orchestrator - INFO - 2026-02-19 16:27:23,682 - trading_bot.connection_pool - INFO - IB (monitor) connected successfully with ID 29
2026-02-19 16:27:23,687 - Orchestrator - INFO - 2026-02-19 16:27:23,687 - trading_bot.utils - INFO - üõ†Ô∏è FORCE_DELAYED_DATA enabled: Using Delayed Market Data (Type 3)
2026-02-19 16:27:23,688 - Orchestrator - INFO - 2026-02-19 16:27:23,687 - __main__ - INFO - Position monitor connected and watching open positions.
2026-02-19 16:27:23,688 - Orchestrator - INFO - 2026-02-19 16:27:23,687 - root - INFO - Starting intraday P&L monitor. Stop: 50% (Max Risk), Profit: 80% (Capture), Interval: 600s
2026-02-19 16:27:23,688 - Orchestrator - INFO - 2026-02-19 16:27:23,687 - root - INFO - Order status and execution event handlers registered.
2026-02-19 16:27:38,085 - ib_insync.ib - ERROR - completed orders request timed out
2026-02-19 16:27:38,091 - trading_bot.connection_pool - INFO - IB (audit) connected successfully with ID 57
2026-02-19 16:27:38,098 - trading_bot.utils - INFO - üõ†Ô∏è FORCE_DELAYED_DATA enabled: Using Delayed Market Data (Type 3)
2026-02-19 16:27:38,135 - trading_bot.tms - INFO - TMS initialized at /home/rodrigo/real_options/data/KC/tms
2026-02-19 16:27:38,167 - Orchestrator - INFO - State stores reconciled: 0 positions across all stores
2026-02-19 16:27:38,172 - Orchestrator - INFO - No open positions to audit.
2026-02-19 16:27:38,174 - trading_bot.connection_pool - INFO - Disconnecting IB (audit)...
2026-02-19 16:27:41,184 - Orchestrator - INFO - ‚úÖ RECOVERY: audit_mid_session completed
2026-02-19 16:27:41,184 - Orchestrator - INFO - ‚úÖ ALREADY RAN: signal_mid completed earlier today (before restart). Skipping re-execution.
2026-02-19 16:27:41,185 - Orchestrator - INFO - System restarted with 7 missed tasks.
‚úÖ 3 recovered | ‚è≠Ô∏è 0 skipped | ‚úîÔ∏è 4 already ran
2026-02-19 16:27:41,471 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-02-19 16:27:42,295 - Orchestrator - INFO - Running TopicDiscoveryAgent on startup...
2026-02-19 16:27:42,391 - trading_bot.topic_discovery - INFO - Starting Topic Discovery Scan...
2026-02-19 16:27:55,791 - trading_bot.tms - INFO - TMS initialized at /home/rodrigo/real_options/data/KC/tms
2026-02-19 16:27:55,793 - Orchestrator - INFO - Startup TopicDiscovery: 3 topics, No changes
2026-02-19 16:27:55,795 - Orchestrator - INFO - Next task 'signal_late' (Signal: Late) scheduled for 2026-02-19 16:39:00 UTC. Waiting for 0.18 hours.
2026-02-19 16:27:55,795 - Orchestrator - INFO - --- Starting Sentinel Array ---
2026-02-19 16:27:56,131 - Orchestrator - INFO - Market Open: Establishing Sentinel IB connection...
2026-02-19 16:27:56,131 - trading_bot.connection_pool - INFO - Connecting IB (sentinel) ID: 16 [REMOTE/PAPER]...
2026-02-19 16:27:56,132 - trading_bot.self_healing - INFO - Self-Healing Monitor started
2026-02-19 16:28:11,197 - ib_insync.ib - ERROR - completed orders request timed out
2026-02-19 16:28:11,201 - trading_bot.connection_pool - INFO - IB (sentinel) connected successfully with ID 16
2026-02-19 16:28:11,208 - trading_bot.utils - INFO - üõ†Ô∏è FORCE_DELAYED_DATA enabled: Using Delayed Market Data (Type 3)
2026-02-19 16:28:11,209 - Orchestrator - INFO - Sentinel IB connected and injected into PriceSentinel.
2026-02-19 16:28:11,209 - root - INFO - Fetching 1 active futures contracts for KC on NYBOT...
2026-02-19 16:28:11,211 - ConfigLoader - INFO - Config loaded successfully. Mode: LIVE. Providers: gemini, anthropic, openai, xai
2026-02-19 16:28:11,282 - root - INFO - Skipping contract KCH6 (Exp: 20260319): Expires < 45 days.
2026-02-19 16:28:11,282 - root - INFO - Found 10 active tradeable contracts (>=45d exp). Returning the first 1.
2026-02-19 16:28:11,283 - Orchestrator - INFO - Refreshed contract cache: KCK6
2026-02-19 16:28:11,283 - Orchestrator - INFO - Market Open: Engaging Microstructure Sentinel
2026-02-19 16:28:11,283 - trading_bot.connection_pool - INFO - Connecting IB (microstructure) ID: 46 [REMOTE/PAPER]...
2026-02-19 16:28:26,352 - ib_insync.ib - ERROR - completed orders request timed out
2026-02-19 16:28:26,354 - trading_bot.connection_pool - INFO - IB (microstructure) connected successfully with ID 46
2026-02-19 16:28:26,359 - trading_bot.utils - INFO - üõ†Ô∏è FORCE_DELAYED_DATA enabled: Using Delayed Market Data (Type 3)
2026-02-19 16:28:28,595 - trading_bot.state_manager - INFO - Logged sentinel event from PriceSentinel to history.
2026-02-19 16:28:28,656 - trading_bot.drawdown_circuit_breaker - INFO - DrawdownGuard initialized. Starting Equity: $39,720.53
2026-02-19 16:28:28,657 - Orchestrator - INFO - üö® EMERGENCY CYCLE TRIGGERED by PriceSentinel: Cumulative -5.1% move over 3 days (BEARISH) (Cycle: KC-00563417)
2026-02-19 16:28:28,852 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-02-19 16:28:28,861 - trading_bot.tms - INFO - TMS initialized at /home/rodrigo/real_options/data/KC/tms
2026-02-19 16:28:28,961 - trading_bot.heterogeneous_router - INFO - ResponseCache initialized with env=DEV, multiplier=0.25
2026-02-19 16:28:28,961 - trading_bot.heterogeneous_router - INFO - HeterogeneousRouter initialized. Available: ['anthropic', 'xai', 'gemini', 'openai']
2026-02-19 16:28:28,961 - trading_bot.agents - INFO - Heterogeneous routing enabled. Diversity: {'available_providers': ['anthropic', 'xai', 'gemini', 'openai'], 'diversity_score': 1.0}
2026-02-19 16:28:28,966 - trading_bot.tms - INFO - TMS initialized at /home/rodrigo/real_options/data/KC/tms
2026-02-19 16:28:28,982 - trading_bot.enhanced_brier - INFO - Loaded 1000 predictions from /home/rodrigo/real_options/data/KC/enhanced_brier.json
2026-02-19 16:28:29,218 - trading_bot.enhanced_brier - INFO - Enhanced Brier backfill complete: 0 resolved from CSV, 95 created from CSV, 0 resolved from council_history
2026-02-19 16:28:29,219 - trading_bot.agents - INFO - Loaded commodity profile: Coffee (Arabica)
2026-02-19 16:28:29,219 - trading_bot.observability - INFO - HallucinationDetector initialized for Coffee (Arabica): 9 port tokens, 23 producer tokens
2026-02-19 16:28:29,219 - trading_bot.observability - INFO - ObservabilityHub initialized for Coffee (Arabica)
2026-02-19 16:28:29,219 - trading_bot.agents - INFO - Observability Hub initialized.
2026-02-19 16:28:29,219 - trading_bot.agents - INFO - Trading Council initialized for Coffee (Arabica). Agents: gemini-3-pro-preview, Master: gemini-3-pro-preview, Grounded: gemini-3-flash-preview
2026-02-19 16:28:29,219 - root - INFO - Fetching 2 active futures contracts for KC on NYBOT...
2026-02-19 16:28:29,221 - ConfigLoader - INFO - Config loaded successfully. Mode: LIVE. Providers: gemini, anthropic, openai, xai
2026-02-19 16:28:29,279 - root - INFO - Skipping contract KCH6 (Exp: 20260319): Expires < 45 days.
2026-02-19 16:28:29,279 - root - INFO - Found 10 active tradeable contracts (>=45d exp). Returning the first 2.
2026-02-19 16:28:29,280 - Orchestrator - INFO - Targeting contract: KCK6 (202605)
2026-02-19 16:28:30,645 - Orchestrator - INFO - WeatherSentinel: trigger detected (source=WeatherSentinel, severity=7)
2026-02-19 16:28:30,658 - trading_bot.state_manager - INFO - Logged sentinel event from WeatherSentinel to history.
2026-02-19 16:28:30,658 - Orchestrator - WARNING - Emergency cycle for WeatherSentinel queued (Lock active).
2026-02-19 16:28:32,283 - trading_bot.rate_limiter - INFO - GlobalRateLimiter initialized: ['gemini', 'openai', 'anthropic', 'xai']
2026-02-19 16:28:33,838 - trading_bot.market_data_provider - INFO - Building market context for KCK6 (202605)...
2026-02-19 16:28:34,311 - trading_bot.market_data_provider - INFO - Market context for KCK6 (202605): price=283.00, sma_200=332.0285, regime=RANGE_BOUND, vol_5d=0.0243
2026-02-19 16:28:34,311 - Orchestrator - INFO - Emergency market context: price=283.0, regime=RANGE_BOUND
2026-02-19 16:28:34,311 - trading_bot.agents - INFO - Running Specialized Cycle triggered by PriceSentinel...
2026-02-19 16:28:34,312 - trading_bot.agents - INFO - Routing to technical (Reason: Default routing)
2026-02-19 16:28:34,312 - trading_bot.agents - INFO - Waking up technical...
2026-02-19 16:28:34,891 - trading_bot.agents - INFO - Retrieved 3 TMS insights for technical.
2026-02-19 16:28:34,891 - trading_bot.agents - INFO - [technical] Phase 1: Gathering grounded data...
2026-02-19 16:28:56,340 - Orchestrator - INFO - MacroContagionSentinel: trigger detected (source=MacroContagionSentinel, severity=7)
2026-02-19 16:28:56,361 - trading_bot.state_manager - INFO - Logged sentinel event from MacroContagionSentinel to history.
2026-02-19 16:28:56,361 - Orchestrator - WARNING - Emergency cycle for MacroContagionSentinel queued (Lock active).
2026-02-19 16:29:40,394 - trading_bot.weighted_voting - INFO - Market Regime Detected: RANGE_BOUND
2026-02-19 16:29:40,406 - trading_bot.enhanced_brier - INFO - Loaded 1000 predictions from /home/rodrigo/real_options/data/KC/enhanced_brier.json
2026-02-19 16:29:40,666 - trading_bot.enhanced_brier - INFO - Enhanced Brier backfill complete: 0 resolved from CSV, 90 created from CSV, 0 resolved from council_history
2026-02-19 16:29:40,668 - trading_bot.weighted_voting - INFO - Dynamic Weights: {"agronomist": "domain=1.0 \u00d7 reliability=1.1 = 0.97", "macro": "domain=1.5 \u00d7 reliability=0.7 = 0.89", "geopolitical": "domain=1.0 \u00d7 reliability=0.9 = 0.82", "supply_chain": "domain=1.0 \u00d7 reliability=0.7 = 0.64", "inventory": "domain=1.0 \u00d7 reliability=0.8 = 0.73", "sentiment": "domain=2.0 \u00d7 reliability=1.2 = 2.11", "technical": "domain=4.5 \u00d7 reliability=1.1 = 5.03", "volatility": "domain=1.8 \u00d7 reliability=0.8 = 1.32"}
2026-02-19 16:29:40,668 - trading_bot.weighted_voting - INFO - Weighted Vote: BEARISH (score=-0.304, dominant=technical)
2026-02-19 16:29:40,669 - trading_bot.weighted_voting - INFO - Vote Breakdown: [
  {
    "agent": "agronomist",
    "direction": "BEARISH",
    "confidence": 0.8,
    "domain_weight": 1.0,
    "reliability_mult": 1.06,
    "staleness_weight": 0.91,
    "age_hours": 1.9,
    "final_weight": 0.97,
    "contribution": -0.772
  },
  {
    "agent": "macro",
    "direction": "NEUTRAL",
    "confidence": 0.65,
    "domain_weight": 1.5,
    "reliability_mult": 0.65,
    "staleness_weight": 0.91,
    "age_hours": 1.9,
    "final_weight": 0.89,
    "contribution": 0.0
  },
  {
    "agent": "geopolitical",
    "direction": "NEUTRAL",
    "confidence": 0.65,
    "domain_weight": 1.0,
    "reliability_mult": 0.9,
    "staleness_weight": 0.91,
    "age_hours": 1.9,
    "final_weight": 0.82,
    "contribution": 0.0
  },
  {
    "agent": "supply_chain",
    "direction": "BULLISH",
    "confidence": 0.8,
    "domain_weight": 1.0,
    "reliability_mult": 0.71,
    "staleness_weight": 0.91,
    "age_hours": 1.9,
    "final_weight": 0.64,
    "contribution": 0.514
  },
  {
    "agent": "inventory",
    "direction": "BEARISH",
    "confidence": 0.8,
    "domain_weight": 1.0,
    "reliability_mult": 0.81,
    "staleness_weight": 0.91,
    "age_hours": 1.9,
    "final_weight": 0.73,
    "contribution": -0.587
  },
  {
    "agent": "sentiment",
    "direction": "BULLISH",
    "confidence": 0.65,
    "domain_weight": 2.0,
    "reliability_mult": 1.16,
    "staleness_weight": 0.91,
    "age_hours": 1.9,
    "final_weight": 2.11,
    "contribution": 1.372
  },
  {
    "agent": "technical",
    "direction": "BEARISH",
    "confidence": 0.65,
    "domain_weight": 4.5,
    "reliability_mult": 1.12,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 5.03,
    "contribution": -3.269
  },
  {
    "agent": "volatility",
    "direction": "BEARISH",
    "confidence": 0.8,
    "domain_weight": 1.75,
    "reliability_mult": 0.83,
    "staleness_weight": 0.91,
    "age_hours": 1.9,
    "final_weight": 1.32,
    "contribution": -1.059
  }
]
