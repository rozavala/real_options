2026-02-26 15:21:11,883 - Engine.CC - INFO - =============================================
2026-02-26 15:21:11,883 - Engine.CC - INFO - === Starting CommodityEngine [CC] ===
2026-02-26 15:21:11,883 - Engine.CC - INFO - =============================================
2026-02-26 15:21:11,883 - Engine.CC - INFO - Data directory: /home/rodrigo/real_options/data/CC
2026-02-26 15:21:11,883 - trading_bot.state_manager - INFO - StateManager data_dir set to: /home/rodrigo/real_options/data/CC
2026-02-26 15:21:11,883 - trading_bot.task_tracker - INFO - TaskTracker data_dir set to: /home/rodrigo/real_options/data/CC
2026-02-26 15:21:11,883 - trading_bot.decision_signals - INFO - DecisionSignals data_dir set to: /home/rodrigo/real_options/data/CC
2026-02-26 15:21:11,883 - OrderManager - INFO - OrderManager capital state dir set to: /home/rodrigo/real_options/data/CC
2026-02-26 15:21:11,885 - trading_bot.sentinel_stats - INFO - SentinelStats data_dir set to: /home/rodrigo/real_options/data/CC
2026-02-26 15:21:11,886 - trading_bot.utils - INFO - Utils data_dir set to: /home/rodrigo/real_options/data/CC
2026-02-26 15:21:11,886 - trading_bot.tms - INFO - TMS default path set to: /home/rodrigo/real_options/data/CC/tms
2026-02-26 15:21:11,886 - trading_bot.brier_bridge - INFO - BrierBridge data_dir set to: /home/rodrigo/real_options/data/CC
2026-02-26 15:21:11,886 - trading_bot.brier_scoring - INFO - BrierScoring data_dir set to: /home/rodrigo/real_options/data/CC
2026-02-26 15:21:11,886 - trading_bot.weighted_voting - INFO - WeightedVoting data_dir set to: /home/rodrigo/real_options/data/CC
2026-02-26 15:21:11,886 - trading_bot.router_metrics - INFO - RouterMetrics data_dir set to: /home/rodrigo/real_options/data/CC
2026-02-26 15:21:11,888 - trading_bot.agents - INFO - Agents provenance log set to: /home/rodrigo/real_options/data/CC/research_provenance.log
2026-02-26 15:21:11,889 - trading_bot.prompt_trace - INFO - PromptTrace data_dir set to: /home/rodrigo/real_options/data/CC
2026-02-26 15:21:11,889 - trading_bot.data_dir_context - INFO - Engine data_dir set to: /home/rodrigo/real_options/data/CC
2026-02-26 15:21:11,889 - trading_bot.data_dir_context - INFO - Legacy data directories configured for: /home/rodrigo/real_options/data/CC
2026-02-26 15:21:11,892 - trading_bot.drawdown_circuit_breaker - INFO - Loaded drawdown state: NORMAL (0.00%)
2026-02-26 15:21:11,892 - trading_bot.data_dir_context - INFO - EngineRuntime set for [CC]
2026-02-26 15:21:11,892 - Engine.CC - WARNING - ============================================================
2026-02-26 15:21:11,892 - Engine.CC - WARNING -   IB GATEWAY: REMOTE/PAPER (100.102.50.16)
2026-02-26 15:21:11,892 - Engine.CC - WARNING -   Client IDs: DEV range (10-79)
2026-02-26 15:21:11,892 - Engine.CC - WARNING -   Trading Mode: LIVE
2026-02-26 15:21:11,892 - Engine.CC - WARNING - ============================================================
2026-02-26 15:21:11,892 - Engine.CC - INFO - Budget Guard initialized. Daily limit: $15.0
2026-02-26 15:21:11,892 - Engine.CC - INFO - Drawdown Guard initialized.
2026-02-26 15:21:11,892 - Engine.CC - INFO - Expiry filter window: 45-365 DTE
2026-02-26 15:21:11,897 - Orchestrator - INFO - --- Processing Deferred Triggers ---
2026-02-26 15:21:11,899 - Orchestrator - INFO - No deferred triggers to process.
2026-02-26 15:21:11,900 - Orchestrator - INFO - Built session schedule: 17 tasks for CC (04:45-13:30 ET)
2026-02-26 15:21:11,900 - Engine.CC - INFO - Environment: DEV. Applying 0 minute 'Civil War' avoidance offset.
2026-02-26 15:21:11,903 - Engine.CC - WARNING - LATE START DETECTED: 7 scheduled tasks already passed:\n  - 04:00 ET: start_monitoring\n  - 04:01 ET: process_deferred_triggers\n  - 04:30 ET: cleanup_orphaned_theses\n  - 05:11 ET: signal_open\n  - 07:22 ET: signal_early\n  - 09:07 ET: audit_mid_session\n  - 09:33 ET: signal_mid
2026-02-26 15:21:11,906 - Orchestrator - INFO - --- Recovery: Evaluating 7 missed tasks ---
2026-02-26 15:21:11,906 - Orchestrator - INFO - üîÑ RECOVERY: Running missed start_monitoring [start_monitoring] (was scheduled 04:00 ET)
2026-02-26 15:21:11,906 - Orchestrator - INFO - System shutdown flag CLEARED ‚Äî new trading day beginning
2026-02-26 15:21:11,909 - Orchestrator - WARNING - Monitoring process is already running.
2026-02-26 15:21:11,912 - Orchestrator - INFO - ‚úÖ RECOVERY: start_monitoring completed
2026-02-26 15:21:17,915 - Orchestrator - INFO - üîÑ RECOVERY: Running missed process_deferred_triggers [process_deferred_triggers] (was scheduled 04:01 ET)
2026-02-26 15:21:17,917 - Orchestrator - INFO - --- Processing Deferred Triggers ---
2026-02-26 15:21:17,917 - Orchestrator - INFO - No deferred triggers to process.
2026-02-26 15:21:17,921 - Orchestrator - INFO - ‚úÖ RECOVERY: process_deferred_triggers completed
2026-02-26 15:21:23,924 - Orchestrator - INFO - üîÑ RECOVERY: Running missed cleanup_orphaned_theses [cleanup_orphaned_theses] (was scheduled 04:30 ET)
2026-02-26 15:21:23,925 - Orchestrator - INFO - --- AUTOMATED THESIS CLEANUP ---
2026-02-26 15:21:23,925 - trading_bot.connection_pool - INFO - Connecting IB (CC_cleanup) ID: 487 [REMOTE/PAPER]...
2026-02-26 15:21:24,281 - trading_bot.connection_pool - INFO - IB (CC_cleanup) connected successfully with ID 487
2026-02-26 15:21:24,290 - chromadb.telemetry.product.posthog - INFO - Anonymized telemetry enabled. See                     https://docs.trychroma.com/telemetry for more information.
2026-02-26 15:21:24,305 - trading_bot.tms - INFO - TMS initialized at /home/rodrigo/real_options/data/CC/tms
2026-02-26 15:21:24,536 - Orchestrator - INFO - Thesis cleanup: no orphans found
2026-02-26 15:21:24,536 - trading_bot.connection_pool - INFO - Disconnecting IB (CC_cleanup)...
2026-02-26 15:21:27,541 - Orchestrator - INFO - ‚úÖ RECOVERY: cleanup_orphaned_theses completed
2026-02-26 15:21:33,544 - Orchestrator - INFO - ‚úÖ ALREADY RAN: signal_open completed earlier today (before restart). Skipping re-execution.
2026-02-26 15:21:33,545 - Orchestrator - INFO - ‚úÖ ALREADY RAN: signal_early completed earlier today (before restart). Skipping re-execution.
2026-02-26 15:21:33,545 - Orchestrator - INFO - üîÑ RECOVERY: Running missed audit_mid_session [run_position_audit_cycle] (was scheduled 09:07 ET)
2026-02-26 15:21:33,545 - Orchestrator - INFO - --- POSITION AUDIT CYCLE (Scheduled) ---
2026-02-26 15:21:33,545 - trading_bot.connection_pool - INFO - Connecting IB (CC_audit) ID: 465 [REMOTE/PAPER]...
2026-02-26 15:21:33,860 - trading_bot.connection_pool - INFO - IB (CC_audit) connected successfully with ID 465
2026-02-26 15:21:33,865 - trading_bot.utils - INFO - üõ†Ô∏è FORCE_DELAYED_DATA enabled: Using Delayed Market Data (Type 3)
2026-02-26 15:21:33,977 - trading_bot.tms - INFO - TMS initialized at /home/rodrigo/real_options/data/CC/tms
2026-02-26 15:21:34,026 - Orchestrator - INFO - State stores reconciled: 0 positions across all stores
2026-02-26 15:21:34,070 - Orchestrator - INFO - No open positions to audit.
2026-02-26 15:21:34,072 - trading_bot.connection_pool - INFO - Disconnecting IB (CC_audit)...
2026-02-26 15:21:37,078 - Orchestrator - INFO - ‚úÖ RECOVERY: audit_mid_session completed
2026-02-26 15:21:43,079 - Orchestrator - INFO - ‚úÖ ALREADY RAN: signal_mid completed earlier today (before restart). Skipping re-execution.
2026-02-26 15:21:43,079 - Orchestrator - INFO - System restarted with 7 missed tasks.\n‚úÖ 4 recovered | ‚è≠Ô∏è 0 skipped | ‚úîÔ∏è 3 already ran
2026-02-26 15:21:43,305 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-02-26 15:21:43,307 - Engine.CC - INFO - Running TopicDiscoveryAgent on startup...
2026-02-26 15:21:43,353 - trading_bot.topic_discovery - INFO - Starting Topic Discovery Scan...
2026-02-26 15:21:55,346 - trading_bot.tms - INFO - TMS initialized at /home/rodrigo/real_options/data/CC/tms
2026-02-26 15:21:55,348 - Engine.CC - INFO - Startup TopicDiscovery: 4 topics, No changes
2026-02-26 15:21:55,349 - Engine.CC - INFO - Staggering sentinel startup by 15s (engine #1)
2026-02-26 15:22:10,350 - Engine.CC - INFO - Next task 'signal_late' (Signal: Late) scheduled for 2026-02-26 16:45:00 UTC. Waiting for 1.38 hours.
2026-02-26 15:22:10,350 - Orchestrator - INFO - --- Starting Sentinel Array ---
2026-02-26 15:22:10,734 - Orchestrator - INFO - Market Open: Establishing Sentinel IB connection...
2026-02-26 15:22:10,735 - trading_bot.connection_pool - INFO - Connecting IB (CC_sentinel) ID: 420 [REMOTE/PAPER]...
2026-02-26 15:22:10,735 - trading_bot.self_healing - INFO - Self-Healing Monitor started
2026-02-26 15:22:11,057 - trading_bot.connection_pool - INFO - IB (CC_sentinel) connected successfully with ID 420
2026-02-26 15:22:11,061 - trading_bot.utils - INFO - üõ†Ô∏è FORCE_DELAYED_DATA enabled: Using Delayed Market Data (Type 3)
2026-02-26 15:22:11,062 - Orchestrator - INFO - Sentinel IB connected and injected into PriceSentinel.
2026-02-26 15:22:11,062 - Orchestrator - INFO - SENTINEL SAFETY NET: First market-open transition ‚Äî processing deferred triggers
2026-02-26 15:22:11,063 - Orchestrator - INFO - --- Processing Deferred Triggers ---
2026-02-26 15:22:11,064 - Orchestrator - INFO - No deferred triggers to process.
2026-02-26 15:22:11,064 - root - INFO - Fetching 1 active futures contracts for CC on NYBOT...
2026-02-26 15:22:11,069 - ConfigLoader - INFO - Config loaded successfully. Mode: LIVE. Providers: gemini, anthropic, openai, xai
2026-02-26 15:22:11,135 - root - INFO - Skipping contract CCH6 (Exp: 20260316): Expires < 45 days.
2026-02-26 15:22:11,135 - root - INFO - Found 9 active tradeable contracts (>=45d exp). Returning the first 1.
2026-02-26 15:22:11,136 - Orchestrator - INFO - Refreshed contract cache: CCK6
2026-02-26 15:22:11,136 - Orchestrator - INFO - Market Open: Engaging Microstructure Sentinel
2026-02-26 15:22:11,136 - trading_bot.connection_pool - INFO - Connecting IB (CC_microstructure) ID: 455 [REMOTE/PAPER]...
2026-02-26 15:22:11,255 - trading_bot.connection_pool - INFO - IB (CC_microstructure) connected successfully with ID 455
2026-02-26 15:22:11,262 - trading_bot.utils - INFO - üõ†Ô∏è FORCE_DELAYED_DATA enabled: Using Delayed Market Data (Type 3)
2026-02-26 15:22:21,148 - trading_bot.rate_limiter - INFO - Rate limiter: 6 requests queued, waiting 2.4s for next slot
2026-02-26 15:22:51,149 - trading_bot.rate_limiter - WARNING - Rate limiter: Timeout after 30.0s
2026-02-26 15:22:51,149 - trading_bot.rate_limiter - WARNING - Rate limit timeout for xai after 30.0s
2026-02-26 15:22:51,155 - Orchestrator - INFO - XSentimentSentinel: trigger detected (severity=7)
2026-02-26 15:22:51,206 - trading_bot.state_manager - INFO - Logged sentinel event from XSentimentSentinel to history.
2026-02-26 15:22:51,272 - Orchestrator - INFO - üö® EMERGENCY CYCLE TRIGGERED by XSentimentSentinel: EXTREMELY BEARISH X sentiment (score: 2.4/10) (Cycle: CC-2ef684cf)
2026-02-26 15:22:51,461 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-02-26 15:22:51,470 - trading_bot.tms - INFO - TMS initialized at /home/rodrigo/real_options/data/CC/tms
2026-02-26 15:22:51,605 - trading_bot.heterogeneous_router - INFO - ResponseCache initialized with env=DEV, multiplier=0.25
2026-02-26 15:22:51,605 - trading_bot.heterogeneous_router - INFO - HeterogeneousRouter initialized. Available: ['anthropic', 'gemini', 'openai', 'xai']
2026-02-26 15:22:51,605 - trading_bot.agents - INFO - Heterogeneous routing enabled. Diversity: {'available_providers': ['anthropic', 'gemini', 'openai', 'xai'], 'diversity_score': 1.0}
2026-02-26 15:22:51,611 - trading_bot.tms - INFO - TMS initialized at /home/rodrigo/real_options/data/CC/tms
2026-02-26 15:22:51,620 - trading_bot.enhanced_brier - INFO - Loaded 944 predictions from /home/rodrigo/real_options/data/CC/enhanced_brier.json
2026-02-26 15:22:51,722 - trading_bot.enhanced_brier - INFO - Enhanced Brier backfill complete: 0 resolved from CSV, 7 created from CSV, 0 resolved from council_history
2026-02-26 15:22:51,740 - trading_bot.brier_scoring - INFO - Loaded time-weighted Brier scores for 9 agents: {agronomist: 0.58, geopolitical: 0.00, inventory: 0.70, macro: 0.50, master_decision: 0.56, sentiment: 0.59, supply_chain: 0.50, technical: 0.57, volatility: 0.63}
2026-02-26 15:22:51,741 - trading_bot.agents - INFO - Loaded commodity profile: Cocoa
2026-02-26 15:22:51,741 - trading_bot.observability - INFO - HallucinationDetector initialized for Cocoa: 4 port tokens, 6 producer tokens
2026-02-26 15:22:51,741 - trading_bot.observability - INFO - ObservabilityHub initialized for Cocoa
2026-02-26 15:22:51,741 - trading_bot.agents - INFO - Observability Hub initialized.
2026-02-26 15:22:51,741 - trading_bot.agents - INFO - Trading Council initialized for Cocoa. Agents: gemini-3.1-pro-preview, Master: gemini-3.1-pro-preview, Grounded: gemini-3-flash-preview
2026-02-26 15:22:51,741 - root - INFO - Fetching 2 active futures contracts for CC on NYBOT...
2026-02-26 15:22:51,744 - ConfigLoader - INFO - Config loaded successfully. Mode: LIVE. Providers: gemini, anthropic, openai, xai
2026-02-26 15:22:51,803 - root - INFO - Skipping contract CCH6 (Exp: 20260316): Expires < 45 days.
2026-02-26 15:22:51,803 - root - INFO - Found 9 active tradeable contracts (>=45d exp). Returning the first 2.
2026-02-26 15:22:51,804 - Orchestrator - INFO - Targeting contract: CCK6 (202605)
2026-02-26 15:22:55,920 - trading_bot.market_data_provider - INFO - Building market context for CCK6 (202605)...
2026-02-26 15:22:56,298 - trading_bot.market_data_provider - INFO - Market context for CCK6 (202605): price=3037.00, sma_200=6413.725, regime=RANGE_BOUND, vol_5d=0.0212
2026-02-26 15:22:56,299 - Orchestrator - INFO - Emergency market context: price=3037.0, regime=RANGE_BOUND
2026-02-26 15:22:56,300 - trading_bot.agents - INFO - Running Specialized Cycle triggered by XSentimentSentinel...
2026-02-26 15:22:56,301 - trading_bot.agents - INFO - Routing to sentiment (Reason: Matched: XSentimentSentinel/bearish)
2026-02-26 15:22:56,301 - trading_bot.agents - INFO - Waking up sentiment...
2026-02-26 15:22:56,620 - trading_bot.agents - INFO - Retrieved 3 TMS insights for sentiment.
2026-02-26 15:22:56,621 - trading_bot.agents - INFO - [sentiment] Phase 1: Gathering grounded data...
2026-02-26 15:23:40,705 - trading_bot.weighted_voting - INFO - Market Regime Detected: RANGE_BOUND
2026-02-26 15:23:40,715 - trading_bot.enhanced_brier - INFO - Loaded 951 predictions from /home/rodrigo/real_options/data/CC/enhanced_brier.json
2026-02-26 15:23:40,791 - trading_bot.weighted_voting - INFO - Dynamic Weights: {"agronomist": "domain=1.5 \u00d7 reliability=0.8 = 1.19", "macro": "domain=1.5 \u00d7 reliability=0.8 = 1.13", "geopolitical": "domain=1.5 \u00d7 reliability=0.7 = 1.02", "supply_chain": "domain=1.5 \u00d7 reliability=0.5 = 0.80", "inventory": "domain=1.5 \u00d7 reliability=0.7 = 1.11", "sentiment": "domain=1.5 \u00d7 reliability=0.9 = 1.35", "technical": "domain=2.2 \u00d7 reliability=1.0 = 2.21", "volatility": "domain=1.0 \u00d7 reliability=0.8 = 0.87"}
2026-02-26 15:23:40,792 - trading_bot.weighted_voting - INFO - Weighted Vote: BEARISH (score=-0.560, dominant=technical)
2026-02-26 15:23:40,792 - trading_bot.weighted_voting - INFO - Vote Breakdown: [\n  {\n    "agent": "agronomist",\n    "direction": "BEARISH",\n    "confidence": 0.65,\n    "domain_weight": 1.5,\n    "reliability_mult": 0.79,\n    "staleness_weight": 1.0,\n    "age_hours": 0.7,\n    "final_weight": 1.19,\n    "contribution": -0.775\n  },\n  {\n    "agent": "macro",\n    "direction": "BEARISH",\n    "confidence": 0.65,\n    "domain_weight": 1.5,\n    "reliability_mult": 0.75,\n    "staleness_weight": 1.0,\n    "age_hours": 0.7,\n    "final_weight": 1.13,\n    "contribution": -0.731\n  },\n  {\n    "agent": "geopolitical",\n    "direction": "BULLISH",\n    "confidence": 0.65,\n    "domain_weight": 1.5,\n    "reliability_mult": 0.68,\n    "staleness_weight": 1.0,\n    "age_hours": 0.7,\n    "final_weight": 1.02,\n    "contribution": 0.662\n  },\n  {\n    "agent": "supply_chain",\n    "direction": "BEARISH",\n    "confidence": 0.8,\n    "domain_weight": 1.5,\n    "reliability_mult": 0.53,\n    "staleness_weight": 1.0,\n    "age_hours": 0.7,\n    "final_weight": 0.8,\n    "contribution": -0.642\n  },\n  {\n    "agent": "inventory",\n    "direction": "BEARISH",\n    "confidence": 0.65,\n    "domain_weight": 1.5,\n    "reliability_mult": 0.74,\n    "staleness_weight": 1.0,\n    "age_hours": 0.7,\n    "final_weight": 1.11,\n    "contribution": -0.723\n  },\n  {\n    "agent": "sentiment",\n    "direction": "BEARISH",\n    "confidence": 0.8,\n    "domain_weight": 1.5,\n    "reliability_mult": 0.9,\n    "staleness_weight": 1.0,\n    "age_hours": 0.0,\n    "final_weight": 1.35,\n    "contribution": -1.076\n  },\n  {\n    "agent": "technical",\n    "direction": "BEARISH",\n    "confidence": 0.65,\n    "domain_weight": 2.25,\n    "reliability_mult": 0.98,\n    "staleness_weight": 1.0,\n    "age_hours": 0.7,\n    "final_weight": 2.21,\n    "contribution": -1.438\n  },\n  {\n    "agent": "volatility",\n    "direction": "BEARISH",\n    "confidence": 0.8,\n    "domain_weight": 1.0499999999999998,\n    "reliability_mult": 0.82,\n    "staleness_weight": 1.0,\n    "age_hours": 0.7,\n    "final_weight": 0.87,\n    "contribution": -0.692\n  }\n]
2026-02-26 15:25:34,689 - trading_bot.heterogeneous_router - WARNING - FALLBACK SUCCESS: Used anthropic/claude-sonnet-4-6 for master after primary failure.
2026-02-26 15:25:34,689 - trading_bot.router_metrics - WARNING - Fallback event: master openai -> anthropic. Reason: openai quota exhausted (circuit breaker)
2026-02-26 15:25:34,689 - trading_bot.agents - INFO - Master Decision: BEARISH | Thesis: PLAUSIBLE (conf=0.8) | Catalyst: Structural global cocoa surplus of 287,000 MT (StoneX) / 250
2026-02-26 15:26:31,978 - trading_bot.agents - WARNING - Devil's Advocate VETOED emergency trade: DO NOT PROCEED WITH THIS TRADE IN ITS CURRENT FORM. The bearish thesis may be directionally correct over a 3-6 month horizon, but the 5-day trade window specified in the pre-mortem is exactly the timeframe most vulnerable to a violent short-covering squeeze. The market is catastrophically overcrowded on the short side (39.25 put/call ratio), the actual contract's IV is unknown (N/A in market data), technical data may reference the wrong contract (CCH26 vs CCK6), and the Ghana liquidity crisis creates an identified paradox where the most bearish fundamental catalyst (supply overhang) could perversely spike nearby prices if procurement seizes up. If the bearish view is held with conviction, the correct expression is: (1) WAIT for a technical bounce toward 3,255-3,480 resistance to enter short at better levels with defined risk, (2) USE PUT OPTIONS on the correct contract once IV is confirmed, or (3) EXTEND the time horizon to 30-90 days where structural surplus dynamics have time to manifest without being overwhelmed by short-term squeeze dynamics. Entering a short position today at 3,037 with 0 positions and a fresh account risks being stopped out in the first 48 hours by a squeeze that proves nothing about the medium-term thesis.
2026-02-26 15:26:31,999 - Orchestrator - INFO - Emergency Decision: NEUTRAL (0.0)
2026-02-26 15:26:32,002 - Orchestrator - INFO - EMERGENCY STRATEGY: IRON_CONDOR | regime=RANGE_BOUND, vol=BEARISH
2026-02-26 15:26:32,005 - trading_bot.strategy_router - INFO - STRATEGY SELECTED (emergency): IRON_CONDOR | regime=RANGE_BOUND, vol=BEARISH
2026-02-26 15:26:32,005 - Orchestrator - INFO - Emergency Router Shadow Run: MATCH ‚úÖ
2026-02-26 15:26:32,007 - root - INFO - Logged council decision for CCK6 (202605)
2026-02-26 15:26:32,012 - trading_bot.decision_signals - INFO - Decision signal logged: CCK6 (202605) ‚Üí NEUTRAL (VOLATILITY/IRON_CONDOR)
2026-02-26 15:26:32,179 - Orchestrator - INFO - Emergency Cycle concluded with no action: BEARISH (VOLATILITY)
2026-02-26 15:26:32,181 - Orchestrator - INFO - Post-cycle debounce: 300s (neutral decision)
2026-02-26 15:26:53,531 - Orchestrator - INFO - Sentinel loop heartbeat: iteration=5, market_open=True, trading_day=True
