Verifying critical modules...
  ‚úÖ All 14 critical modules present
Checking optional modules...
Starting orchestrator...
2026-02-04 13:20:55,080 - Orchestrator - INFO - =============================================
2026-02-04 13:20:55,080 - Orchestrator - INFO - === Starting the Trading Bot Orchestrator ===
2026-02-04 13:20:55,081 - Orchestrator - INFO - =============================================
2026-02-04 13:20:55,084 - Orchestrator - INFO - Budget Guard initialized. Daily limit: $15.0
2026-02-04 13:20:55,084 - trading_bot.drawdown_circuit_breaker - INFO - Loaded drawdown state: NORMAL (0.00%)
2026-02-04 13:20:55,084 - Orchestrator - INFO - Drawdown Guard initialized.
2026-02-04 13:20:55,203 - Orchestrator - INFO - --- Processing Deferred Triggers ---
2026-02-04 13:20:55,203 - Orchestrator - INFO - No deferred triggers to process.
2026-02-04 13:20:55,203 - Orchestrator - INFO - Environment: DEV. Applying -10 minute 'Civil War' avoidance offset.
2026-02-04 13:20:55,204 - Orchestrator - WARNING - ‚ö†Ô∏è LATE START DETECTED: 3 scheduled tasks already passed:
  - 03:20 ET: start_monitoring
  - 03:21 ET: process_deferred_triggers
  - 08:20 ET: run_position_audit_cycle
2026-02-04 13:20:55,519 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-02-04 13:20:55,521 - Orchestrator - INFO - --- Recovery: Evaluating 3 missed tasks ---
2026-02-04 13:20:55,522 - Orchestrator - INFO - üîÑ RECOVERY: Running missed start_monitoring (was scheduled 03:20 ET)
2026-02-04 13:20:55,522 - Orchestrator - INFO - System shutdown flag CLEARED ‚Äî new trading day beginning
2026-02-04 13:20:55,523 - Orchestrator - INFO - --- Starting position monitoring process ---
2026-02-04 13:20:55,524 - Orchestrator - INFO - Successfully started position monitor with PID: 780404
2026-02-04 13:20:55,750 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-02-04 13:20:55,758 - Orchestrator - INFO - ‚úÖ RECOVERY: start_monitoring completed
2026-02-04 13:20:55,758 - Orchestrator - INFO - ‚úÖ ALREADY RAN: process_deferred_triggers completed earlier today (before restart). Skipping re-execution.
2026-02-04 13:20:55,759 - Orchestrator - INFO - üîÑ RECOVERY: Running missed run_position_audit_cycle (was scheduled 08:20 ET)
2026-02-04 13:20:55,759 - Orchestrator - INFO - --- POSITION AUDIT CYCLE (Scheduled) ---
2026-02-04 13:20:55,759 - trading_bot.connection_pool - INFO - Connecting IB (audit) ID: 233...
2026-02-04 13:20:55,983 - trading_bot.connection_pool - INFO - IB (audit) connected successfully with ID 233
2026-02-04 13:20:55,994 - trading_bot.utils - INFO - üõ†Ô∏è Configuring Market Data: Requesting LIVE (Type 1) Data.
2026-02-04 13:20:56,103 - Orchestrator - INFO - No open positions to audit.
2026-02-04 13:20:56,110 - Orchestrator - INFO - ‚úÖ RECOVERY: run_position_audit_cycle completed
2026-02-04 13:20:56,110 - Orchestrator - INFO - Recovery complete: 2 recovered, 0 skipped, 1 already ran
2026-02-04 13:20:56,445 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-02-04 13:20:56,461 - Orchestrator - INFO - Next task 'guarded_generate_orders' scheduled for 2026-02-04 13:50:00 UTC. Waiting for 0.48 hours.
2026-02-04 13:20:56,462 - Orchestrator - INFO - --- Starting Sentinel Array ---
2026-02-04 13:20:56,463 - trading_bot.sentinels - INFO - WeatherSentinel: Loaded 11 active alerts from disk
2026-02-04 13:20:57,062 - trading_bot.sentinels - INFO - XSentimentSentinel initialized with model: grok-4-1-fast-reasoning
2026-02-04 13:20:57,065 - trading_bot.sentinels - INFO - Loaded state for 7 prediction market topics
2026-02-04 13:20:57,065 - trading_bot.sentinels - WARNING - Stale/misaligned slug for 'US x Russia military clash by...?': title='How many people will Trump deport in 2025?'. Clearing cache.
2026-02-04 13:20:57,065 - trading_bot.sentinels - WARNING - Stale/misaligned slug for 'Fed decisions (Dec-Mar)': title='MicroStrategy sells any Bitcoin by ___ ?'. Clearing cache.
2026-02-04 13:20:57,065 - trading_bot.sentinels - WARNING - Stale/misaligned slug for 'Will tariffs generate >$250b in 2025?': title='MicroStrategy sells any Bitcoin by ___ ?'. Clearing cache.
2026-02-04 13:20:57,065 - trading_bot.sentinels - INFO - Reloading prediction market topics...
2026-02-04 13:20:57,065 - trading_bot.sentinels - INFO - Topics reloaded: 10
2026-02-04 13:20:57,065 - trading_bot.sentinels - INFO - PredictionMarketSentinel v2.0 initialized: 10 topics
2026-02-04 13:20:57,067 - Orchestrator - INFO - Market Open: Establishing Sentinel IB connection...
2026-02-04 13:20:57,073 - trading_bot.connection_pool - INFO - Connecting IB (sentinel) ID: 111...
2026-02-04 13:20:57,074 - trading_bot.self_healing - INFO - Self-Healing Monitor started
2026-02-04 13:20:57,417 - trading_bot.connection_pool - INFO - IB (sentinel) connected successfully with ID 111
2026-02-04 13:20:57,424 - trading_bot.utils - INFO - üõ†Ô∏è Configuring Market Data: Requesting LIVE (Type 1) Data.
2026-02-04 13:20:57,426 - Orchestrator - INFO - Sentinel IB connected and injected into PriceSentinel.
2026-02-04 13:20:57,426 - root - INFO - Fetching 1 active futures contracts for KC on NYBOT...
2026-02-04 13:20:57,636 - root - INFO - Skipping contract KCH6 (Exp: 20260319): Expires < 45 days.
2026-02-04 13:20:57,638 - root - INFO - Found 10 active tradeable contracts (>=45d exp). Returning the first 1.
2026-02-04 13:20:57,640 - Orchestrator - INFO - Refreshed contract cache: KCK6
2026-02-04 13:20:57,640 - Orchestrator - INFO - Market Open: Engaging Microstructure Sentinel
2026-02-04 13:20:57,641 - trading_bot.connection_pool - INFO - Connecting IB (microstructure) ID: 205...
2026-02-04 13:20:57,772 - trading_bot.connection_pool - INFO - IB (microstructure) connected successfully with ID 205
2026-02-04 13:20:57,785 - trading_bot.utils - INFO - üõ†Ô∏è Configuring Market Data: Requesting LIVE (Type 1) Data.
2026-02-04 13:20:57,786 - trading_bot.microstructure_sentinel - INFO - MicrostructureSentinel initialized
2026-02-04 13:20:59,788 - trading_bot.microstructure_sentinel - INFO - Subscribed to microstructure for KCK6
2026-02-04 13:20:59,845 - Orchestrator - INFO - 2026-02-04 13:20:59,845 - __main__ - INFO - Connecting to 127.0.0.1:7497 with client ID 381 for monitoring...
2026-02-04 13:21:00,157 - Orchestrator - INFO - 2026-02-04 13:21:00,156 - trading_bot.utils - INFO - üõ†Ô∏è Configuring Market Data: Requesting LIVE (Type 1) Data.
2026-02-04 13:21:00,339 - Orchestrator - INFO - 2026-02-04 13:21:00,339 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-02-04 13:21:00,342 - Orchestrator - INFO - 2026-02-04 13:21:00,342 - root - INFO - Starting intraday P&L monitor. Stop: 50% (Max Risk), Profit: 80% (Capture), Interval: 600s
2026-02-04 13:21:00,343 - Orchestrator - INFO - 2026-02-04 13:21:00,342 - root - INFO - Order status and execution event handlers registered.
2026-02-04 13:21:03,088 - trading_bot.sentinels - WARNING - ESCALATION DETECTED for FLOOD_S√£o Paulo: 100.30 -> 115.20 (14.9%)
2026-02-04 13:21:03,089 - trading_bot.sentinels - WARNING - WEATHER SENTINEL DETECTED: FLOOD in S√£o Paulo: 265.2mm (NEUTRAL, VEGETATIVE stage)
2026-02-04 13:21:03,102 - trading_bot.state_manager - INFO - Logged sentinel event from WeatherSentinel to history.
2026-02-04 13:21:03,163 - Orchestrator - INFO - üö® EMERGENCY CYCLE TRIGGERED by WeatherSentinel: FLOOD in S√£o Paulo: 265.2mm (NEUTRAL, VEGETATIVE stage) (Cycle: KC-7b1331fb)
2026-02-04 13:21:03,365 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-02-04 13:21:03,462 - trading_bot.heterogeneous_router - INFO - ResponseCache initialized with env=DEV, multiplier=0.25
2026-02-04 13:21:03,463 - trading_bot.heterogeneous_router - INFO - HeterogeneousRouter initialized. Available: ['gemini', 'anthropic', 'xai', 'openai']
2026-02-04 13:21:03,463 - trading_bot.agents - INFO - Heterogeneous routing enabled. Diversity: {'available_providers': ['gemini', 'anthropic', 'xai', 'openai'], 'diversity_score': 1.0}
2026-02-04 13:21:03,482 - chromadb.telemetry.product.posthog - INFO - Anonymized telemetry enabled. See                     https://docs.trychroma.com/telemetry for more information.
2026-02-04 13:21:03,564 - trading_bot.tms - INFO - TMS initialized at ./data/tms
2026-02-04 13:21:03,567 - trading_bot.enhanced_brier - INFO - Loaded 208 predictions from ./data/enhanced_brier.json
2026-02-04 13:21:03,567 - trading_bot.agents - INFO - Loaded commodity profile: Coffee (Arabica)
2026-02-04 13:21:03,567 - trading_bot.observability - INFO - HallucinationDetector initialized for Coffee (Arabica): 9 port tokens, 23 producer tokens
2026-02-04 13:21:03,567 - trading_bot.observability - INFO - ObservabilityHub initialized for Coffee (Arabica)
2026-02-04 13:21:03,568 - trading_bot.agents - INFO - Observability Hub initialized.
2026-02-04 13:21:03,568 - trading_bot.agents - INFO - Trading Council initialized for Coffee (Arabica). Agents: gemini-3-pro-preview, Master: gemini-3-pro-preview
2026-02-04 13:21:03,568 - root - INFO - Fetching 2 active futures contracts for KC on NYBOT...
2026-02-04 13:21:03,631 - root - INFO - Skipping contract KCH6 (Exp: 20260319): Expires < 45 days.
2026-02-04 13:21:03,632 - root - INFO - Found 10 active tradeable contracts (>=45d exp). Returning the first 2.
2026-02-04 13:21:03,632 - Orchestrator - INFO - Targeting contract: KCK6 (202605)
2026-02-04 13:21:08,131 - trading_bot.market_data_provider - INFO - Building market context for KCK6 (202605)...
2026-02-04 13:21:08,628 - trading_bot.market_data_provider - INFO - Market context for KCK6 (202605): price=300.90, sma_200=335.44425, regime=HIGH_VOLATILITY, vol_5d=0.0282
2026-02-04 13:21:08,641 - Orchestrator - INFO - Emergency market context: price=300.9, regime=HIGH_VOLATILITY
2026-02-04 13:21:08,646 - trading_bot.agents - INFO - Running Specialized Cycle triggered by WeatherSentinel...
2026-02-04 13:21:08,648 - trading_bot.agents - INFO - Routing to agronomist (Reason: Matched: WeatherSentinel/flood)
2026-02-04 13:21:08,648 - trading_bot.agents - INFO - Waking up agronomist...
2026-02-04 13:21:09,182 - trading_bot.agents - INFO - Retrieved 3 TMS insights for agronomist.
2026-02-04 13:21:09,182 - trading_bot.agents - INFO - [agronomist] Phase 1: Gathering grounded data...
2026-02-04 13:21:12,619 - trading_bot.sentinels - WARNING - NewsSentinel AI returned list instead of dict for headline sentiment: [{'score': 0, 'summary': 'The headline focus is exclusively on the Chinese automotive industry and f
2026-02-04 13:21:12,811 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-02-04 13:21:12,814 - trading_bot.rate_limiter - INFO - GlobalRateLimiter initialized: ['gemini', 'openai', 'anthropic', 'xai']
2026-02-04 13:21:38,941 - trading_bot.topic_discovery - INFO - Starting Topic Discovery Scan...
2026-02-04 13:21:54,052 - trading_bot.tms - INFO - TMS initialized at ./data/tms
2026-02-04 13:21:54,056 - Orchestrator - INFO - TopicDiscovery: 6 topics, No changes
2026-02-04 13:22:18,725 - trading_bot.observability - WARNING - Hallucination detected [MEDIUM]: agronomist - Cited source not found in retrieved documents
2026-02-04 13:22:47,646 - trading_bot.weighted_voting - INFO - Market Regime Detected: HIGH_VOLATILITY
2026-02-04 13:22:47,647 - trading_bot.weighted_voting - INFO - Agent latest_ml_signals: Fresh NEUTRAL vote (not abstention)
2026-02-04 13:22:47,647 - trading_bot.weighted_voting - WARNING - Agent latest_ml_signals: Using DEFAULT values (NEUTRAL/0.5). Report type: dict, is_stale: False, Report preview: {'data': [{'contract_month': '202603', 'prediction_type': 'VOLATILITY', 'level': 'LOW', 'direction':...
2026-02-04 13:22:47,649 - trading_bot.enhanced_brier - INFO - Loaded 208 predictions from ./data/enhanced_brier.json
2026-02-04 13:22:47,649 - trading_bot.weighted_voting - INFO - Dynamic Weights: {"agronomist": "domain=4.5 \u00d7 reliability=1.0 = 4.50", "macro": "domain=1.0 \u00d7 reliability=1.0 = 0.05", "geopolitical": "domain=0.5 \u00d7 reliability=1.0 = 0.03", "supply_chain": "domain=1.5 \u00d7 reliability=1.0 = 0.08", "inventory": "domain=1.5 \u00d7 reliability=1.0 = 0.08", "sentiment": "domain=1.0 \u00d7 reliability=1.0 = 0.05", "technical": "domain=1.0 \u00d7 reliability=1.0 = 0.21", "volatility": "domain=3.0 \u00d7 reliability=1.0 = 0.15", "latest_ml_signals": "domain=1.0 \u00d7 reliability=1.0 = 0.10"}
2026-02-04 13:22:47,649 - trading_bot.weighted_voting - INFO - Weighted Vote: BEARISH (score=-0.812, dominant=agronomist)
2026-02-04 13:22:47,650 - trading_bot.weighted_voting - INFO - Vote Breakdown: [
  {
    "agent": "agronomist",
    "direction": "BEARISH",
    "confidence": 0.95,
    "domain_weight": 4.5,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 4.5,
    "contribution": -4.275
  },
  {
    "agent": "macro",
    "direction": "BULLISH",
    "confidence": 0.9,
    "domain_weight": 1.0,
    "reliability_mult": 1.0,
    "staleness_weight": 0.2,
    "age_hours": 19.5,
    "final_weight": 0.05,
    "contribution": 0.045
  },
  {
    "agent": "geopolitical",
    "direction": "BEARISH",
    "confidence": 0.85,
    "domain_weight": 0.5,
    "reliability_mult": 1.0,
    "staleness_weight": 0.2,
    "age_hours": 19.5,
    "final_weight": 0.03,
    "contribution": -0.021
  },
  {
    "agent": "supply_chain",
    "direction": "BULLISH",
    "confidence": 0.95,
    "domain_weight": 1.5,
    "reliability_mult": 1.0,
    "staleness_weight": 0.2,
    "age_hours": 19.5,
    "final_weight": 0.08,
    "contribution": 0.072
  },
  {
    "agent": "inventory",
    "direction": "BULLISH",
    "confidence": 0.9,
    "domain_weight": 1.5,
    "reliability_mult": 1.0,
    "staleness_weight": 0.2,
    "age_hours": 19.5,
    "final_weight": 0.08,
    "contribution": 0.068
  },
  {
    "agent": "sentiment",
    "direction": "NEUTRAL",
    "confidence": 0.9,
    "domain_weight": 1.0,
    "reliability_mult": 1.0,
    "staleness_weight": 0.2,
    "age_hours": 19.5,
    "final_weight": 0.05,
    "contribution": 0.0
  },
  {
    "agent": "technical",
    "direction": "NEUTRAL",
    "confidence": 0.55,
    "domain_weight": 1.0499999999999998,
    "reliability_mult": 1.0,
    "staleness_weight": 0.2,
    "age_hours": 19.5,
    "final_weight": 0.21,
    "contribution": 0.0
  },
  {
    "agent": "volatility",
    "direction": "BEARISH",
    "confidence": 0.95,
    "domain_weight": 3.0,
    "reliability_mult": 1.0,
    "staleness_weight": 0.2,
    "age_hours": 19.5,
    "final_weight": 0.15,
    "contribution": -0.144
  },
  {
    "agent": "latest_ml_signals",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.0,
    "reliability_mult": 1.0,
    "staleness_weight": 0.1,
    "age_hours": 119.4,
    "final_weight": 0.1,
    "contribution": 0.0
  }
]
2026-02-04 13:23:42,923 - trading_bot.agents - INFO - Master Decision: BEARISH | Thesis: PROVEN (conf=0.9) | Catalyst: Rains improving crop prospects outweighing flood risks, lead
2026-02-04 13:24:15,610 - trading_bot.agents - WARNING - DA Parse Fail (Attempt 1): Expecting value: line 1 column 1 (char 0). Retrying...
2026-02-04 13:24:35,027 - trading_bot.agents - WARNING - Devil's Advocate VETOED emergency trade: DO NOT PROCEED. Critical flaws in the bearish thesis: (1) RECENCY BIAS - The 4.85% single-day drop is being extrapolated as a trend when technical indicators (RSI 35.99, bullish MA crossover) suggest exhaustion of downside momentum. (2) CONFIRMATION BIAS - The analysis cherry-picks the 'beneficial rain' narrative while dismissing the explicit flood warnings and structural port crisis that multiple reports corroborate. (3) DATA MISINTERPRETATION - The 35.8% export surge is cited as evidence against bottleneck concerns, when it actually CONFIRMS the supply_chain analyst's 'volume shock' thesis - more volume hitting an already broken infrastructure. (4) IGNORED EVIDENCE - ICE certified stocks drawing down (435,681 bags), persistent backwardation (March premium to May/Dec), and BRL strength constraining farmer selling all point to SUPPLY TIGHTNESS, not abundance. (5) CROWDED TRADE RISK - Entering bearish at 5.5-month lows with 0.9 confidence while 3 of 7 agents are bullish and 2 are neutral suggests overconfidence in a contested thesis. The weighted score of -0.812 masks significant dissent. RECOMMENDATION: Wait for confirmation of trend continuation below 300 support, or position via defined-risk bear call spreads to exploit elevated IV rather than outright directional bets.
2026-02-04 13:24:35,028 - Orchestrator - INFO - Emergency Decision: NEUTRAL (0.0)
2026-02-04 13:24:35,029 - Orchestrator - INFO - EMERGENCY NO TRADE: vol=BEARISH, regime=HIGH_VOLATILITY
2026-02-04 13:24:35,029 - trading_bot.strategy_router - INFO - NO TRADE (emergency): vol=BEARISH, regime=HIGH_VOLATILITY
2026-02-04 13:24:35,030 - Orchestrator - INFO - Emergency Router Shadow Run: MATCH ‚úÖ
2026-02-04 13:24:35,040 - root - INFO - Logged council decision for KCK6 (202605)
2026-02-04 13:24:35,046 - trading_bot.decision_signals - INFO - Decision signal logged: KCK6 (202605) ‚Üí NEUTRAL (DIRECTIONAL/NONE)
2026-02-04 13:24:35,183 - trading_bot.brier_scoring - INFO - Loaded time-weighted Brier scores for 9 agents: {agronomist: 0.20, geopolitical: 0.17, inventory: 0.00, macro: 0.48, master_decision: 0.03, sentiment: 0.00, supply_chain: 0.03, technical: 0.12, volatility: 0.11}
2026-02-04 13:24:35,193 - Orchestrator - INFO - Emergency Cycle concluded with no action: NEUTRAL (DIRECTIONAL)
2026-02-04 13:24:35,194 - Orchestrator - INFO - Post-cycle debounce set for 1800s
