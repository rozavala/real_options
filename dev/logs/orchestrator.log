2026-01-30 10:58:24,092 - Orchestrator - INFO - =============================================
2026-01-30 10:58:24,092 - Orchestrator - INFO - === Starting the Trading Bot Orchestrator ===
2026-01-30 10:58:24,093 - Orchestrator - INFO - =============================================
2026-01-30 10:58:24,313 - Orchestrator - INFO - --- Processing Deferred Triggers ---
2026-01-30 10:58:24,314 - Orchestrator - INFO - No deferred triggers to process.
2026-01-30 10:58:24,314 - Orchestrator - INFO - Environment: DEV. Applying -10 minute 'Civil War' avoidance offset.
2026-01-30 10:58:24,314 - Orchestrator - INFO - Next task 'run_position_audit_cycle' scheduled for 2026-01-30 13:20:00 UTC. Waiting for 2.36 hours.
2026-01-30 10:58:24,315 - Orchestrator - INFO - --- Starting Sentinel Array ---
2026-01-30 10:58:24,315 - trading_bot.sentinels - INFO - WeatherSentinel: Loaded 3 active alerts from disk
2026-01-30 10:58:24,548 - trading_bot.sentinels - INFO - XSentimentSentinel initialized with model: grok-4-1-fast-reasoning
2026-01-30 10:58:24,550 - Orchestrator - INFO - Market Open: Establishing Sentinel IB connection...
2026-01-30 10:58:24,551 - trading_bot.connection_pool - INFO - Connecting IB (sentinel) ID: 118...
2026-01-30 10:58:24,667 - trading_bot.connection_pool - INFO - IB (sentinel) connected successfully with ID 118
2026-01-30 10:58:24,676 - trading_bot.utils - INFO - ðŸ› ï¸ Configuring Market Data: Requesting LIVE (Type 1) Data.
2026-01-30 10:58:24,676 - Orchestrator - INFO - Sentinel IB connected and injected into PriceSentinel.
2026-01-30 10:58:24,676 - root - INFO - Fetching 1 active futures contracts for KC on NYBOT...
2026-01-30 10:58:24,778 - root - INFO - Found 11 active tradeable contracts (>=45d exp). Returning the first 1.
2026-01-30 10:58:24,778 - Orchestrator - INFO - Refreshed contract cache: KCH6
2026-01-30 10:58:24,778 - Orchestrator - INFO - Market Open: Engaging Microstructure Sentinel
2026-01-30 10:58:24,778 - trading_bot.connection_pool - INFO - Connecting IB (microstructure) ID: 206...
2026-01-30 10:58:25,034 - trading_bot.connection_pool - INFO - IB (microstructure) connected successfully with ID 206
2026-01-30 10:58:25,043 - trading_bot.utils - INFO - ðŸ› ï¸ Configuring Market Data: Requesting LIVE (Type 1) Data.
2026-01-30 10:58:25,043 - trading_bot.microstructure_sentinel - INFO - MicrostructureSentinel initialized
2026-01-30 10:58:27,044 - trading_bot.microstructure_sentinel - INFO - Subscribed to microstructure for KCH6
2026-01-30 10:58:34,278 - trading_bot.rate_limiter - INFO - GlobalRateLimiter initialized: ['gemini', 'openai', 'anthropic', 'xai']
2026-01-30 10:58:38,468 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-30 10:58:38,577 - trading_bot.sentinels - INFO - Strict search for 'Brazil coffee harvest' returned 0 posts. Trying broad search...
2026-01-30 10:58:38,709 - trading_bot.sentinels - INFO - Broad search returned 2 posts for 'Brazil coffee harvest'
2026-01-30 10:58:39,480 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-30 10:58:39,567 - trading_bot.sentinels - INFO - Strict search for 'arabica prices' returned 0 posts. Trying broad search...
2026-01-30 10:58:39,715 - trading_bot.sentinels - INFO - Broad search returned 3 posts for 'arabica prices'
2026-01-30 10:58:39,897 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-30 10:58:39,987 - trading_bot.sentinels - INFO - Strict search for 'coffee futures' returned 0 posts. Trying broad search...
2026-01-30 10:58:40,406 - trading_bot.sentinels - INFO - Broad search returned 4 posts for 'coffee futures'
2026-01-30 10:58:41,599 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-30 10:58:41,686 - trading_bot.sentinels - INFO - Strict search for 'Colombia coffee' returned 0 posts. Trying broad search...
2026-01-30 10:58:42,000 - trading_bot.sentinels - INFO - Broad search returned 4 posts for 'Colombia coffee'
2026-01-30 10:58:42,222 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-30 10:58:42,304 - trading_bot.sentinels - INFO - Strict search for 'US coffee tariffs' returned 0 posts. Trying broad search...
2026-01-30 10:58:42,586 - trading_bot.sentinels - INFO - Broad search returned 3 posts for 'US coffee tariffs'
2026-01-30 10:58:43,820 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-30 10:58:44,758 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-30 10:58:44,805 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-30 10:58:47,896 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-30 10:58:48,231 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-30 11:05:17,739 - ib_insync.client - ERROR - Peer closed connection.
2026-01-30 11:05:17,740 - ib_insync.client - ERROR - Peer closed connection.
2026-01-30 11:05:48,321 - Orchestrator - INFO - Market Open: Establishing Sentinel IB connection...
2026-01-30 11:05:48,323 - trading_bot.connection_pool - INFO - Disconnecting stale IB (sentinel) before reconnect...
2026-01-30 11:05:51,327 - trading_bot.connection_pool - INFO - Connecting IB (sentinel) ID: 112...
2026-01-30 11:05:53,132 - trading_bot.connection_pool - INFO - IB (sentinel) connected successfully with ID 112
2026-01-30 11:05:53,137 - trading_bot.utils - INFO - ðŸ› ï¸ Configuring Market Data: Requesting LIVE (Type 1) Data.
2026-01-30 11:05:53,137 - Orchestrator - INFO - Sentinel IB connected and injected into PriceSentinel.
2026-01-30 12:29:00,221 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-30 12:29:00,316 - trading_bot.sentinels - INFO - Strict search for 'arabica prices' returned 0 posts. Trying broad search...
2026-01-30 12:29:00,460 - trading_bot.sentinels - INFO - Broad search returned 3 posts for 'arabica prices'
2026-01-30 12:29:00,963 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-30 12:29:01,060 - trading_bot.sentinels - INFO - Strict search for 'Brazil coffee harvest' returned 0 posts. Trying broad search...
2026-01-30 12:29:01,199 - trading_bot.sentinels - INFO - Broad search returned 2 posts for 'Brazil coffee harvest'
2026-01-30 12:29:01,338 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-30 12:29:01,419 - trading_bot.sentinels - INFO - Strict search for 'coffee futures' returned 0 posts. Trying broad search...
2026-01-30 12:29:01,744 - trading_bot.sentinels - INFO - Broad search returned 2 posts for 'coffee futures'
2026-01-30 12:29:02,939 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-30 12:29:03,023 - trading_bot.sentinels - INFO - Strict search for 'Colombia coffee' returned 0 posts. Trying broad search...
2026-01-30 12:29:03,205 - trading_bot.sentinels - WARNING - Both strict and broad search returned 0 posts for 'Colombia coffee'
2026-01-30 12:29:04,759 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-30 12:29:05,648 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-30 12:29:05,754 - trading_bot.sentinels - INFO - Strict search for 'US coffee tariffs' returned 0 posts. Trying broad search...
2026-01-30 12:29:06,079 - trading_bot.sentinels - INFO - Broad search returned 3 posts for 'US coffee tariffs'
2026-01-30 12:29:06,259 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-30 12:29:06,512 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-30 12:29:08,895 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-30 12:29:13,359 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-30 12:29:13,368 - trading_bot.sentinels - WARNING - X volume spike: 10 vs mean 3 (>3.0x)
2026-01-30 12:29:13,368 - trading_bot.sentinels - INFO - X volume anomaly: z-score=10.3
2026-01-30 12:29:13,368 - trading_bot.sentinels - WARNING - ðŸš¨ X SENTINEL TRIGGERED: UNUSUAL X ACTIVITY SPIKE (10 posts, 3.0x baseline)
2026-01-30 12:29:13,374 - trading_bot.state_manager - INFO - Logged sentinel event from XSentimentSentinel to history.
2026-01-30 12:29:13,374 - Orchestrator - INFO - ðŸš¨ EMERGENCY CYCLE TRIGGERED by XSentimentSentinel: UNUSUAL X ACTIVITY SPIKE (10 posts, 3.0x baseline)
2026-01-30 12:29:13,678 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-01-30 12:29:13,701 - chromadb.telemetry.product.posthog - INFO - Anonymized telemetry enabled. See                     https://docs.trychroma.com/telemetry for more information.
2026-01-30 12:29:13,803 - trading_bot.tms - INFO - TMS initialized at ./data/tms
2026-01-30 12:29:13,992 - trading_bot.heterogeneous_router - INFO - ResponseCache initialized with env=DEV, multiplier=0.25
2026-01-30 12:29:13,992 - trading_bot.heterogeneous_router - INFO - HeterogeneousRouter initialized. Available: ['xai', 'gemini', 'anthropic', 'openai']
2026-01-30 12:29:13,992 - trading_bot.agents - INFO - Heterogeneous routing enabled. Diversity: {'available_providers': ['xai', 'gemini', 'anthropic', 'openai'], 'diversity_score': 1.0}
2026-01-30 12:29:13,997 - trading_bot.tms - INFO - TMS initialized at ./data/tms
2026-01-30 12:29:13,998 - trading_bot.agents - INFO - Coffee Council initialized. Agents: gemini-3-pro-preview, Master: gemini-3-pro-preview
2026-01-30 12:29:13,998 - root - INFO - Fetching 2 active futures contracts for KC on NYBOT...
2026-01-30 12:29:14,071 - root - INFO - Found 11 active tradeable contracts (>=45d exp). Returning the first 2.
2026-01-30 12:29:14,071 - Orchestrator - INFO - Targeting contract: KCH6 (202603)
2026-01-30 12:29:18,575 - trading_bot.agents - INFO - Running Specialized Cycle triggered by XSentimentSentinel...
2026-01-30 12:29:18,576 - trading_bot.agents - INFO - Routing to macro (Reason: Default routing)
2026-01-30 12:29:18,576 - trading_bot.agents - INFO - Waking up macro...
2026-01-30 12:29:19,043 - trading_bot.agents - INFO - Retrieved 3 TMS insights for macro.
2026-01-30 12:29:19,043 - trading_bot.agents - INFO - [macro] Phase 1: Gathering grounded data...
2026-01-30 12:29:19,044 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-30 12:29:47,795 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-30 12:29:48,240 - trading_bot.tms - INFO - TMS: Stored insight from macro
2026-01-30 12:29:55,556 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-30 12:29:55,683 - trading_bot.weighted_voting - INFO - Market Regime Detected: RANGE_BOUND
2026-01-30 12:29:55,705 - trading_bot.brier_scoring - INFO - Loaded Brier scores for 12 agents: {'agronomist': 0.6, 'geopolitical': 0.6, 'inventory': 0.0, 'latest_ml_signals': 0.2, 'macro': 0.2, 'master_decision': 0.0, 'ml_model': 0.5, 'sentiment': 0.0, 'strategy_long_straddle': 0.0, 'supply_chain': 0.0, 'technical': 0.2, 'volatility': 0.4}
2026-01-30 12:29:55,706 - trading_bot.weighted_voting - INFO - ML confidence normalized: 0.50 -> 0.50
2026-01-30 12:29:55,707 - trading_bot.weighted_voting - INFO - ML Blend: Reliability=1.25, DynamicWeight=0.38, Regime=RANGE_BOUND
2026-01-30 12:29:55,707 - trading_bot.weighted_voting - INFO - Weighted Vote: NEUTRAL (score=-0.003, dominant=macro)
2026-01-30 12:29:55,708 - trading_bot.weighted_voting - INFO - Vote Breakdown: [
  {
    "agent": "agronomist",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.5,
    "reliability_mult": 1.4,
    "final_weight": 2.1,
    "contribution": 0.0
  },
  {
    "agent": "macro",
    "direction": "BEARISH",
    "confidence": 0.8,
    "domain_weight": 1.5,
    "reliability_mult": 0.8,
    "final_weight": 1.2,
    "contribution": -0.96
  },
  {
    "agent": "geopolitical",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.5,
    "reliability_mult": 1.4,
    "final_weight": 2.1,
    "contribution": 0.0
  },
  {
    "agent": "supply_chain",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.0,
    "reliability_mult": 0.5,
    "final_weight": 0.5,
    "contribution": 0.0
  },
  {
    "agent": "inventory",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.0
  },
  {
    "agent": "sentiment",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.0
  },
  {
    "agent": "technical",
    "direction": "BULLISH",
    "confidence": 0.5,
    "domain_weight": 2.25,
    "reliability_mult": 0.8,
    "final_weight": 1.8,
    "contribution": 0.9
  },
  {
    "agent": "volatility",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.0499999999999998,
    "reliability_mult": 1.1,
    "final_weight": 1.15,
    "contribution": 0.0
  },
  {
    "agent": "latest_ml_signals",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.0,
    "reliability_mult": 0.8,
    "final_weight": 0.8,
    "contribution": 0.0
  }
]
2026-01-30 12:30:11,758 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-01-30 12:30:28,505 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-30 12:30:36,024 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-30 12:30:36,029 - Orchestrator - INFO - Emergency Decision: NEUTRAL (0.7)
2026-01-30 12:30:36,030 - Orchestrator - INFO - Emergency Cycle concluded with no action: NEUTRAL (DIRECTIONAL)
2026-01-30 12:30:36,030 - Orchestrator - INFO - Post-cycle debounce set for 1800s
2026-01-30 12:59:22,533 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-30 12:59:26,571 - Orchestrator - ERROR - Error in Sentinel Loop: 'list' object has no attribute 'get'
