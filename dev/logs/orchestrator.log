2026-01-27 16:58:21,438 - Orchestrator - INFO - =============================================
2026-01-27 16:58:21,439 - Orchestrator - INFO - === Starting the Trading Bot Orchestrator ===
2026-01-27 16:58:21,439 - Orchestrator - INFO - =============================================
2026-01-27 16:58:21,639 - Orchestrator - INFO - --- Processing Deferred Triggers ---
2026-01-27 16:58:21,640 - Orchestrator - INFO - No deferred triggers to process.
2026-01-27 16:58:21,640 - Orchestrator - INFO - Environment: DEV. Applying -10 minute 'Civil War' avoidance offset.
2026-01-27 16:58:21,640 - Orchestrator - INFO - Next task 'close_stale_positions' scheduled for 2026-01-27 18:20:00 UTC. Waiting for 1.36 hours.
2026-01-27 16:58:21,640 - Orchestrator - INFO - --- Starting Sentinel Array ---
2026-01-27 16:58:21,641 - trading_bot.sentinels - INFO - WeatherSentinel: Loaded 3 active alerts from disk
2026-01-27 16:58:21,944 - trading_bot.sentinels - INFO - XSentimentSentinel initialized with model: grok-4-1-fast-reasoning
2026-01-27 16:58:21,946 - Orchestrator - INFO - Market Open: Establishing Sentinel IB connection...
2026-01-27 16:58:21,946 - trading_bot.connection_pool - INFO - Connecting IB (sentinel) ID: 116...
2026-01-27 16:58:22,056 - trading_bot.connection_pool - INFO - IB (sentinel) connected successfully with ID 116
2026-01-27 16:58:22,063 - trading_bot.utils - INFO - ðŸ› ï¸ Configuring Market Data: Requesting LIVE (Type 1) Data.
2026-01-27 16:58:22,063 - Orchestrator - INFO - Sentinel IB connected and injected into PriceSentinel.
2026-01-27 16:58:22,063 - root - INFO - Fetching 1 active futures contracts for KC on NYBOT...
2026-01-27 16:58:22,264 - root - INFO - Found 11 active tradeable contracts (>=45d exp). Returning the first 1.
2026-01-27 16:58:22,264 - Orchestrator - INFO - Refreshed contract cache: KCH6
2026-01-27 16:58:22,264 - Orchestrator - INFO - Market Open: Engaging Microstructure Sentinel
2026-01-27 16:58:22,264 - trading_bot.connection_pool - INFO - Connecting IB (microstructure) ID: 201...
2026-01-27 16:58:22,611 - trading_bot.connection_pool - INFO - IB (microstructure) connected successfully with ID 201
2026-01-27 16:58:22,616 - trading_bot.utils - INFO - ðŸ› ï¸ Configuring Market Data: Requesting LIVE (Type 1) Data.
2026-01-27 16:58:22,616 - trading_bot.microstructure_sentinel - INFO - MicrostructureSentinel initialized
2026-01-27 16:58:24,619 - trading_bot.microstructure_sentinel - INFO - Subscribed to microstructure for KCH6
2026-01-27 16:58:33,452 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 16:58:36,959 - trading_bot.rate_limiter - INFO - GlobalRateLimiter initialized: ['gemini', 'openai', 'anthropic', 'xai']
2026-01-27 16:58:40,728 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 16:58:40,829 - trading_bot.sentinels - INFO - Strict search for 'coffee futures' returned 0 posts. Trying broad search...
2026-01-27 16:58:41,102 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 16:58:41,179 - trading_bot.sentinels - INFO - Strict search for 'Brazil coffee harvest' returned 0 posts. Trying broad search...
2026-01-27 16:58:41,220 - trading_bot.sentinels - INFO - Broad search returned 3 posts for 'coffee futures'
2026-01-27 16:58:41,305 - trading_bot.sentinels - INFO - Broad search returned 2 posts for 'Brazil coffee harvest'
2026-01-27 16:58:42,039 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 16:58:42,116 - trading_bot.sentinels - INFO - Strict search for 'arabica prices' returned 0 posts. Trying broad search...
2026-01-27 16:58:42,241 - trading_bot.sentinels - INFO - Broad search returned 1 posts for 'arabica prices'
2026-01-27 16:58:43,987 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 16:58:44,071 - trading_bot.sentinels - INFO - Strict search for 'Colombia coffee' returned 0 posts. Trying broad search...
2026-01-27 16:58:44,453 - trading_bot.sentinels - INFO - Broad search returned 10 posts for 'Colombia coffee'
2026-01-27 16:58:45,396 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 16:58:45,949 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 16:58:46,039 - trading_bot.sentinels - INFO - Strict search for 'US coffee tariffs' returned 0 posts. Trying broad search...
2026-01-27 16:58:46,289 - trading_bot.sentinels - INFO - Broad search returned 3 posts for 'US coffee tariffs'
2026-01-27 16:58:46,614 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 16:58:46,938 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 16:58:49,614 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 16:58:50,599 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 16:58:50,606 - trading_bot.sentinels - WARNING - X volume spike: 19 vs mean 4 (>3.0x)
2026-01-27 16:58:50,606 - trading_bot.sentinels - INFO - X volume anomaly: z-score=4.3
2026-01-27 16:58:50,606 - trading_bot.sentinels - WARNING - ðŸš¨ X SENTINEL TRIGGERED: UNUSUAL X ACTIVITY SPIKE (19 posts, 3.0x baseline)
2026-01-27 16:58:50,612 - trading_bot.state_manager - INFO - Logged sentinel event from XSentimentSentinel to history.
2026-01-27 16:58:50,612 - Orchestrator - INFO - ðŸš¨ EMERGENCY CYCLE TRIGGERED by XSentimentSentinel: UNUSUAL X ACTIVITY SPIKE (19 posts, 3.0x baseline)
2026-01-27 16:58:50,803 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-01-27 16:58:50,825 - chromadb.telemetry.product.posthog - INFO - Anonymized telemetry enabled. See                     https://docs.trychroma.com/telemetry for more information.
2026-01-27 16:58:50,947 - trading_bot.tms - INFO - TMS initialized at ./data/tms
2026-01-27 16:58:51,112 - trading_bot.heterogeneous_router - INFO - ResponseCache initialized with env=DEV, multiplier=0.25
2026-01-27 16:58:51,112 - trading_bot.heterogeneous_router - INFO - HeterogeneousRouter initialized. Available: ['anthropic', 'gemini', 'openai', 'xai']
2026-01-27 16:58:51,112 - trading_bot.agents - INFO - Heterogeneous routing enabled. Diversity: {'available_providers': ['anthropic', 'gemini', 'openai', 'xai'], 'diversity_score': 1.0}
2026-01-27 16:58:51,117 - trading_bot.tms - INFO - TMS initialized at ./data/tms
2026-01-27 16:58:51,117 - trading_bot.agents - INFO - Coffee Council initialized. Agents: gemini-3-pro-preview, Master: gemini-3-pro-preview
2026-01-27 16:58:51,117 - root - INFO - Fetching 2 active futures contracts for KC on NYBOT...
2026-01-27 16:58:51,178 - root - INFO - Found 11 active tradeable contracts (>=45d exp). Returning the first 2.
2026-01-27 16:58:51,178 - Orchestrator - INFO - Targeting contract: KCH6 (202603)
2026-01-27 16:58:55,296 - Orchestrator - INFO - Loaded cached ML signal for 202603: NEUTRAL
2026-01-27 16:58:55,296 - trading_bot.agents - INFO - Running Specialized Cycle triggered by XSentimentSentinel...
2026-01-27 16:58:55,297 - trading_bot.agents - INFO - Routing to macro (Reason: Default routing)
2026-01-27 16:58:55,297 - trading_bot.agents - INFO - Waking up macro...
2026-01-27 16:58:55,734 - trading_bot.agents - INFO - Retrieved 3 TMS insights for macro.
2026-01-27 16:58:55,734 - trading_bot.agents - INFO - [macro] Phase 1: Gathering grounded data...
2026-01-27 16:58:55,735 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 16:59:35,696 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 16:59:35,987 - trading_bot.tms - INFO - TMS: Stored insight from macro
2026-01-27 16:59:42,624 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 16:59:42,745 - trading_bot.weighted_voting - INFO - Market Regime Detected: TRENDING
2026-01-27 16:59:42,762 - trading_bot.weighted_voting - INFO - ML confidence normalized: 0.00 -> 0.17
2026-01-27 16:59:42,763 - trading_bot.weighted_voting - INFO - ML Blend: Reliability=0.50, DynamicWeight=0.15, Regime=TRENDING
2026-01-27 16:59:42,763 - trading_bot.weighted_voting - INFO - Weighted Vote: BEARISH (score=-0.273, dominant=geopolitical)
2026-01-27 16:59:42,763 - trading_bot.weighted_voting - INFO - Vote Breakdown: [
  {
    "agent": "agronomist",
    "direction": "BEARISH",
    "confidence": 0.85,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": -0.637
  },
  {
    "agent": "macro",
    "direction": "BEARISH",
    "confidence": 0.7,
    "domain_weight": 2.25,
    "reliability_mult": 0.5,
    "final_weight": 1.12,
    "contribution": -0.787
  },
  {
    "agent": "geopolitical",
    "direction": "BEARISH",
    "confidence": 0.9,
    "domain_weight": 2.25,
    "reliability_mult": 0.5,
    "final_weight": 1.12,
    "contribution": -1.012
  },
  {
    "agent": "supply_chain",
    "direction": "BULLISH",
    "confidence": 0.95,
    "domain_weight": 1.0,
    "reliability_mult": 0.5,
    "final_weight": 0.5,
    "contribution": 0.475
  },
  {
    "agent": "inventory",
    "direction": "BULLISH",
    "confidence": 0.9,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.675
  },
  {
    "agent": "sentiment",
    "direction": "NEUTRAL",
    "confidence": 0.85,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.0
  },
  {
    "agent": "technical",
    "direction": "NEUTRAL",
    "confidence": 0.65,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.0
  },
  {
    "agent": "volatility",
    "direction": "BEARISH",
    "confidence": 0.95,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": -0.712
  },
  {
    "agent": "latest_ml_signals",
    "direction": "BEARISH",
    "confidence": 0.5,
    "domain_weight": 1.0,
    "reliability_mult": 0.5,
    "final_weight": 0.5,
    "contribution": -0.25
  }
]
