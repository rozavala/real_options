Starting orchestrator from /home/rodrigo/real_options...
2026-02-11 06:48:24,332 - Orchestrator - INFO - =============================================
2026-02-11 06:48:24,333 - Orchestrator - INFO - === Starting the Trading Bot Orchestrator ===
2026-02-11 06:48:24,333 - Orchestrator - INFO - =============================================
2026-02-11 06:48:24,336 - Orchestrator - INFO - Budget Guard initialized. Daily limit: $15.0
2026-02-11 06:48:24,336 - trading_bot.drawdown_circuit_breaker - INFO - Saved drawdown state is old. Starting fresh.
2026-02-11 06:48:24,336 - Orchestrator - INFO - Drawdown Guard initialized.
2026-02-11 06:48:24,336 - Orchestrator - INFO - Expiry filter window: 45-365 DTE
2026-02-11 06:48:24,481 - Orchestrator - INFO - Market Closed. Deferred triggers will remain queued.
2026-02-11 06:48:24,481 - Orchestrator - INFO - Environment: DEV. Applying -30 minute 'Civil War' avoidance offset.
2026-02-11 06:48:24,486 - Orchestrator - INFO - Next task 'start_monitoring' scheduled for 2026-02-11 08:00:00 UTC. Waiting for 1.19 hours.
2026-02-11 06:48:24,486 - Orchestrator - INFO - --- Starting Sentinel Array ---
2026-02-11 06:48:24,487 - trading_bot.sentinels - INFO - WeatherSentinel: Loaded 8 active alerts from disk (normalized from 8)
2026-02-11 06:48:24,656 - trading_bot.sentinels - INFO - LogisticsSentinel: Generated 5 RSS URLs for Coffee (Arabica)
2026-02-11 06:48:24,656 - trading_bot.sentinels - INFO - LogisticsSentinel initialized with model: gemini-3-flash-preview | 5 RSS feeds | Commodity: Coffee (Arabica)
2026-02-11 06:48:24,764 - trading_bot.sentinels - INFO - NewsSentinel: Generated 5 RSS URLs for Coffee (Arabica)
2026-02-11 06:48:24,764 - trading_bot.sentinels - INFO - NewsSentinel initialized with model: gemini-3-flash-preview | 5 RSS feeds | Threshold: 8 | Commodity: Coffee (Arabica)
2026-02-11 06:48:24,796 - trading_bot.sentinels - INFO - XSentimentSentinel: Loaded volume baseline (mean=10.5, n=11)
2026-02-11 06:48:24,796 - trading_bot.sentinels - INFO - XSentimentSentinel initialized with model: grok-4-1-fast-reasoning
2026-02-11 06:48:24,797 - trading_bot.sentinels - INFO - Loaded state for 5 prediction market topics
2026-02-11 06:48:24,797 - trading_bot.sentinels - WARNING - Stale/misaligned slug for 'Will tariffs generate >$250b in 2025?': title='Test Coffee Market'. Clearing cache.
2026-02-11 06:48:24,798 - trading_bot.sentinels - WARNING - Stale/misaligned slug for 'Federal Reserve Interest Rate': title='Fed Test'. Clearing cache.
2026-02-11 06:48:24,798 - trading_bot.sentinels - INFO - Reloading prediction market topics...
2026-02-11 06:48:24,798 - trading_bot.sentinels - INFO - Pruning orphaned cache entry: 'Test topic'
2026-02-11 06:48:24,802 - trading_bot.sentinels - INFO - Pruned 1 orphaned cache entries
2026-02-11 06:48:24,802 - trading_bot.sentinels - INFO - Topics reloaded: 3
2026-02-11 06:48:24,802 - trading_bot.sentinels - INFO - PredictionMarketSentinel v2.0 initialized: 3 topics
2026-02-11 06:48:24,911 - trading_bot.self_healing - INFO - Self-Healing Monitor started
2026-02-11 08:00:00,095 - Orchestrator - INFO - --- Running scheduled task: start_monitoring ---
2026-02-11 08:00:00,114 - Orchestrator - INFO - System shutdown flag CLEARED â€” new trading day beginning
2026-02-11 08:00:00,118 - Orchestrator - INFO - Market is closed (weekend/holiday). Skipping position monitoring startup.
2026-02-11 08:00:00,130 - Orchestrator - INFO - Next task 'process_deferred_triggers' scheduled for 2026-02-11 08:01:00 UTC. Waiting for 0.02 hours.
2026-02-11 08:01:00,006 - Orchestrator - INFO - --- Running scheduled task: process_deferred_triggers ---
2026-02-11 08:01:00,015 - Orchestrator - INFO - Market is closed. Skipping deferred trigger processing.
2026-02-11 08:01:00,022 - Orchestrator - INFO - Next task 'cleanup_orphaned_theses' scheduled for 2026-02-11 09:30:00 UTC. Waiting for 1.48 hours.
2026-02-11 09:30:00,087 - Orchestrator - INFO - --- Running scheduled task: cleanup_orphaned_theses ---
2026-02-11 09:30:00,092 - Orchestrator - INFO - --- AUTOMATED THESIS CLEANUP ---
2026-02-11 09:30:00,122 - trading_bot.connection_pool - INFO - Connecting IB (cleanup) ID: 272...
2026-02-11 09:30:00,572 - trading_bot.connection_pool - INFO - IB (cleanup) connected successfully with ID 272
2026-02-11 09:30:00,749 - chromadb.telemetry.product.posthog - INFO - Anonymized telemetry enabled. See                     https://docs.trychroma.com/telemetry for more information.
2026-02-11 09:30:00,963 - trading_bot.tms - INFO - TMS initialized at ./data/tms
2026-02-11 09:30:01,303 - Orchestrator - INFO - Thesis cleanup: no orphans found
2026-02-11 09:30:01,304 - trading_bot.connection_pool - INFO - Disconnecting IB (cleanup)...
2026-02-11 09:30:04,316 - Orchestrator - INFO - Next task 'run_position_audit_cycle' scheduled for 2026-02-11 13:00:00 UTC. Waiting for 3.50 hours.
2026-02-11 13:00:00,085 - Orchestrator - INFO - --- Running scheduled task: run_position_audit_cycle ---
2026-02-11 13:00:00,090 - Orchestrator - INFO - --- POSITION AUDIT CYCLE (Scheduled) ---
2026-02-11 13:00:00,093 - trading_bot.connection_pool - INFO - Connecting IB (audit) ID: 238...
2026-02-11 13:00:00,458 - trading_bot.connection_pool - INFO - IB (audit) connected successfully with ID 238
2026-02-11 13:00:00,463 - trading_bot.utils - INFO - ðŸ› ï¸ FORCE_DELAYED_DATA enabled: Using Delayed Market Data (Type 3)
2026-02-11 13:00:00,512 - trading_bot.tms - INFO - TMS initialized at ./data/tms
2026-02-11 13:00:00,556 - Orchestrator - INFO - State stores reconciled: 0 positions across all stores
2026-02-11 13:00:00,559 - Orchestrator - INFO - No open positions to audit.
2026-02-11 13:00:00,562 - trading_bot.connection_pool - INFO - Disconnecting IB (audit)...
2026-02-11 13:00:03,575 - Orchestrator - INFO - Next task 'guarded_generate_orders' scheduled for 2026-02-11 13:30:00 UTC. Waiting for 0.50 hours.
2026-02-11 13:30:00,083 - Orchestrator - INFO - --- Running scheduled task: guarded_generate_orders ---
2026-02-11 13:30:00,221 - trading_bot.heterogeneous_router - INFO - ResponseCache initialized with env=DEV, multiplier=0.25
2026-02-11 13:30:00,223 - trading_bot.heterogeneous_router - INFO - HeterogeneousRouter initialized. Available: ['xai', 'anthropic', 'openai', 'gemini']
2026-02-11 13:30:00,224 - trading_bot.agents - INFO - Heterogeneous routing enabled. Diversity: {'available_providers': ['xai', 'anthropic', 'openai', 'gemini'], 'diversity_score': 1.0}
2026-02-11 13:30:00,233 - trading_bot.tms - INFO - TMS initialized at ./data/tms
2026-02-11 13:30:00,244 - trading_bot.enhanced_brier - INFO - Loaded 520 predictions from ./data/enhanced_brier.json
2026-02-11 13:30:00,311 - trading_bot.agents - INFO - Loaded commodity profile: Coffee (Arabica)
2026-02-11 13:30:00,312 - trading_bot.observability - INFO - HallucinationDetector initialized for Coffee (Arabica): 9 port tokens, 23 producer tokens
2026-02-11 13:30:00,313 - trading_bot.observability - INFO - ObservabilityHub initialized for Coffee (Arabica)
2026-02-11 13:30:00,313 - trading_bot.agents - INFO - Observability Hub initialized.
2026-02-11 13:30:00,313 - trading_bot.agents - INFO - Trading Council initialized for Coffee (Arabica). Agents: gemini-3-pro-preview, Master: gemini-3-pro-preview
2026-02-11 13:30:00,317 - trading_bot.connection_pool - INFO - Connecting IB (drawdown_check) ID: 202...
2026-02-11 13:30:00,435 - trading_bot.connection_pool - INFO - IB (drawdown_check) connected successfully with ID 202
2026-02-11 13:30:00,540 - trading_bot.drawdown_circuit_breaker - INFO - DrawdownGuard initialized. Starting Equity: $43,588.97
2026-02-11 13:30:00,542 - trading_bot.connection_pool - INFO - Disconnecting IB (drawdown_check)...
2026-02-11 13:30:03,625 - OrderManager - INFO - >>> Starting combined task: Generate and Execute Orders <<<
2026-02-11 13:30:03,626 - OrderManager - INFO - --- Starting order generation and queuing process ---
2026-02-11 13:30:03,626 - trading_bot.connection_pool - INFO - Connecting IB (orchestrator_orders) ID: 140...
2026-02-11 13:30:03,740 - trading_bot.connection_pool - INFO - IB (orchestrator_orders) connected successfully with ID 140
2026-02-11 13:30:03,748 - trading_bot.utils - INFO - ðŸ› ï¸ FORCE_DELAYED_DATA enabled: Using Delayed Market Data (Type 3)
2026-02-11 13:30:03,749 - OrderManager - INFO - Connected to IB for signal generation (purpose: orchestrator_orders).
2026-02-11 13:30:03,749 - OrderManager - INFO - Step 1: Generating structured signals via Council...
2026-02-11 13:30:03,750 - trading_bot.signal_generator - INFO - --- Starting Multi-Agent Signal Generation (Council) ---
2026-02-11 13:30:03,899 - trading_bot.heterogeneous_router - INFO - ResponseCache initialized with env=DEV, multiplier=0.25
2026-02-11 13:30:03,899 - trading_bot.heterogeneous_router - INFO - HeterogeneousRouter initialized. Available: ['xai', 'anthropic', 'openai', 'gemini']
2026-02-11 13:30:03,899 - trading_bot.agents - INFO - Heterogeneous routing enabled. Diversity: {'available_providers': ['xai', 'anthropic', 'openai', 'gemini'], 'diversity_score': 1.0}
2026-02-11 13:30:03,907 - trading_bot.tms - INFO - TMS initialized at ./data/tms
2026-02-11 13:30:03,914 - trading_bot.enhanced_brier - INFO - Loaded 520 predictions from ./data/enhanced_brier.json
2026-02-11 13:30:03,997 - trading_bot.agents - INFO - Loaded commodity profile: Coffee (Arabica)
2026-02-11 13:30:03,997 - trading_bot.observability - INFO - HallucinationDetector initialized for Coffee (Arabica): 9 port tokens, 23 producer tokens
2026-02-11 13:30:03,997 - trading_bot.observability - INFO - ObservabilityHub initialized for Coffee (Arabica)
2026-02-11 13:30:03,997 - trading_bot.agents - INFO - Observability Hub initialized.
2026-02-11 13:30:03,997 - trading_bot.agents - INFO - Trading Council initialized for Coffee (Arabica). Agents: gemini-3-pro-preview, Master: gemini-3-pro-preview
2026-02-11 13:30:03,997 - trading_bot.agents - INFO - Grounded data cache invalidated (0 entries cleared). Next cycle will perform fresh searches.
2026-02-11 13:30:03,997 - trading_bot.heterogeneous_router - INFO - ResponseCache initialized with env=DEV, multiplier=0.25
2026-02-11 13:30:03,997 - trading_bot.heterogeneous_router - INFO - HeterogeneousRouter initialized. Available: ['xai', 'anthropic', 'openai', 'gemini']
2026-02-11 13:30:03,998 - root - INFO - Fetching 5 active futures contracts for KC on NYBOT...
2026-02-11 13:30:05,053 - root - INFO - Skipping contract KCH6 (Exp: 20260319): Expires < 45 days.
2026-02-11 13:30:05,054 - root - INFO - Found 10 active tradeable contracts (>=45d exp). Returning the first 5.
2026-02-11 13:30:05,055 - trading_bot.market_data_provider - INFO - Building market context for 5 contracts...
2026-02-11 13:30:05,056 - trading_bot.market_data_provider - INFO - Building market context for KCK6 (202605)...
2026-02-11 13:30:05,064 - trading_bot.market_data_provider - INFO - Building market context for KCN6 (202607)...
2026-02-11 13:30:05,065 - trading_bot.market_data_provider - INFO - Building market context for KCU6 (202609)...
2026-02-11 13:30:12,660 - ib_insync.wrapper - ERROR - Error 162, reqId 148: Historical Market Data Service error message:Trading TWS session is connected from a different IP address, contract: Contract(secType='FUT', conId=634760204, symbol='KC', lastTradeDateOrContractMonth='20260518', multiplier='37500', exchange='NYBOT', currency='USD', localSymbol='KCK6', tradingClass='KC')
2026-02-11 13:30:12,661 - trading_bot.market_data_provider - WARNING - No price available for KCK6
2026-02-11 13:30:12,661 - trading_bot.market_data_provider - WARNING - Could not get price for KCK6 (202605). Using NaN context.
2026-02-11 13:30:12,664 - trading_bot.market_data_provider - INFO - Building market context for KCZ6 (202612)...
2026-02-11 13:30:12,693 - ib_insync.wrapper - ERROR - Error 162, reqId 149: Historical Market Data Service error message:Trading TWS session is connected from a different IP address, contract: Contract(secType='FUT', conId=646040490, symbol='KC', lastTradeDateOrContractMonth='20260721', multiplier='37500', exchange='NYBOT', currency='USD', localSymbol='KCN6', tradingClass='KC')
2026-02-11 13:30:12,693 - trading_bot.market_data_provider - WARNING - No price available for KCN6
2026-02-11 13:30:12,693 - trading_bot.market_data_provider - WARNING - Could not get price for KCN6 (202607). Using NaN context.
2026-02-11 13:30:12,694 - trading_bot.market_data_provider - INFO - Building market context for KCH7 (202703)...
2026-02-11 13:30:12,696 - ib_insync.wrapper - ERROR - Error 162, reqId 150: Historical Market Data Service error message:Trading TWS session is connected from a different IP address, contract: Contract(secType='FUT', conId=657732419, symbol='KC', lastTradeDateOrContractMonth='20260918', multiplier='37500', exchange='NYBOT', currency='USD', localSymbol='KCU6', tradingClass='KC')
2026-02-11 13:30:12,696 - trading_bot.market_data_provider - WARNING - No price available for KCU6
2026-02-11 13:30:12,696 - trading_bot.market_data_provider - WARNING - Could not get price for KCU6 (202609). Using NaN context.
2026-02-11 13:30:17,957 - ib_insync.wrapper - ERROR - Error 162, reqId 153: Historical Market Data Service error message:Trading TWS session is connected from a different IP address, contract: Contract(secType='FUT', conId=675565688, symbol='KC', lastTradeDateOrContractMonth='20261218', multiplier='37500', exchange='NYBOT', currency='USD', localSymbol='KCZ6', tradingClass='KC')
2026-02-11 13:30:17,957 - trading_bot.market_data_provider - WARNING - No price available for KCZ6
2026-02-11 13:30:17,957 - trading_bot.market_data_provider - WARNING - Could not get price for KCZ6 (202612). Using NaN context.
2026-02-11 13:30:18,104 - ib_insync.wrapper - ERROR - Error 162, reqId 154: Historical Market Data Service error message:Trading TWS session is connected from a different IP address, contract: Contract(secType='FUT', conId=694583782, symbol='KC', lastTradeDateOrContractMonth='20270318', multiplier='37500', exchange='NYBOT', currency='USD', localSymbol='KCH7', tradingClass='KC')
2026-02-11 13:30:18,104 - trading_bot.market_data_provider - WARNING - No price available for KCH7
2026-02-11 13:30:18,104 - trading_bot.market_data_provider - WARNING - Could not get price for KCH7 (202703). Using NaN context.
2026-02-11 13:30:18,105 - trading_bot.market_data_provider - INFO - Market context complete: 0/5 contracts successful
2026-02-11 13:30:18,105 - trading_bot.signal_generator - INFO - Market context built for 5 contracts
2026-02-11 13:30:18,105 - trading_bot.signal_generator - WARNING - Skipping KCK6 (202605): No live market data. Avoiding wasted LLM spend.
2026-02-11 13:30:18,105 - trading_bot.signal_generator - WARNING - Skipping KCN6 (202607): No live market data. Avoiding wasted LLM spend.
2026-02-11 13:30:18,105 - trading_bot.signal_generator - WARNING - Skipping KCU6 (202609): No live market data. Avoiding wasted LLM spend.
2026-02-11 13:30:18,105 - trading_bot.signal_generator - WARNING - Skipping KCZ6 (202612): No live market data. Avoiding wasted LLM spend.
2026-02-11 13:30:18,105 - trading_bot.signal_generator - WARNING - Skipping KCH7 (202703): No live market data. Avoiding wasted LLM spend.
2026-02-11 13:30:18,107 - OrderManager - INFO - Generated 5 signals: [{'action': 'NEUTRAL', 'confidence': 0.0, 'expected_price': None, 'reason': 'No live market data available'}, {'action': 'NEUTRAL', 'confidence': 0.0, 'expected_price': None, 'reason': 'No live market data available'}, {'action': 'NEUTRAL', 'confidence': 0.0, 'expected_price': None, 'reason': 'No live market data available'}, {'action': 'NEUTRAL', 'confidence': 0.0, 'expected_price': None, 'reason': 'No live market data available'}, {'action': 'NEUTRAL', 'confidence': 0.0, 'expected_price': None, 'reason': 'No live market data available'}]
2026-02-11 13:30:18,108 - root - INFO - Fetching 5 active futures contracts for KC on NYBOT...
2026-02-11 13:30:18,214 - root - INFO - Skipping contract KCH6 (Exp: 20260319): Expires < 45 days.
2026-02-11 13:30:18,215 - root - INFO - Found 10 active tradeable contracts (>=45d exp). Returning the first 5.
2026-02-11 13:30:18,215 - OrderManager - INFO - Skipping KCH7: Too deferred (399 days > 365 max)
2026-02-11 13:30:18,215 - OrderManager - INFO - Date filter passed: 4/5 contracts within 365 days.
2026-02-11 13:30:18,216 - OrderManager - INFO - Checking liquidity for 4 contracts (parallel)...
2026-02-11 13:30:20,219 - OrderManager - INFO - Skipping KCK6: Insufficient volume (0 < 20 minimum)
2026-02-11 13:30:20,219 - OrderManager - INFO - Skipping KCN6: Insufficient volume (0 < 20 minimum)
2026-02-11 13:30:20,219 - OrderManager - INFO - Skipping KCU6: Insufficient volume (0 < 20 minimum)
2026-02-11 13:30:20,219 - OrderManager - INFO - Skipping KCZ6: Insufficient volume (0 < 20 minimum)
2026-02-11 13:30:20,720 - OrderManager - INFO - Liquidity check cleanup complete.
2026-02-11 13:30:20,721 - OrderManager - WARNING - No futures remaining after Volume Filter.
2026-02-11 13:30:20,721 - trading_bot.connection_pool - INFO - Disconnecting IB (orchestrator_orders)...
2026-02-11 13:30:23,724 - OrderManager - INFO - No orders were queued. Skipping placement step.
2026-02-11 13:30:23,725 - OrderManager - INFO - >>> Combined task 'Generate and Execute Orders' complete <<<
2026-02-11 13:30:23,734 - Orchestrator - INFO - Next task 'close_stale_positions' scheduled for 2026-02-11 15:30:00 UTC. Waiting for 1.99 hours.
