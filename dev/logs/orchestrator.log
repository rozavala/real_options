2026-01-27 06:56:37,082 - Orchestrator - INFO - =============================================
2026-01-27 06:56:37,083 - Orchestrator - INFO - === Starting the Trading Bot Orchestrator ===
2026-01-27 06:56:37,083 - Orchestrator - INFO - =============================================
2026-01-27 06:56:37,346 - Orchestrator - INFO - Market Closed. Deferred triggers will remain queued.
2026-01-27 06:56:37,346 - Orchestrator - INFO - Environment: DEV. Applying -10 minute 'Civil War' avoidance offset.
2026-01-27 06:56:37,346 - Orchestrator - INFO - Next task 'start_monitoring' scheduled for 2026-01-27 08:20:00 UTC. Waiting for 1.39 hours.
2026-01-27 06:56:37,347 - Orchestrator - INFO - --- Starting Sentinel Array ---
2026-01-27 06:56:37,347 - trading_bot.sentinels - INFO - WeatherSentinel: Loaded 3 active alerts from disk
2026-01-27 06:56:37,635 - trading_bot.sentinels - INFO - XSentimentSentinel initialized with model: grok-4-1-fast-reasoning
2026-01-27 06:56:45,220 - trading_bot.rate_limiter - INFO - GlobalRateLimiter initialized: ['gemini', 'openai', 'anthropic', 'xai']
2026-01-27 06:56:48,086 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 06:56:48,180 - trading_bot.sentinels - INFO - Strict search for 'Brazil coffee harvest' returned 0 posts. Trying broad search...
2026-01-27 06:56:48,305 - trading_bot.sentinels - INFO - Broad search returned 2 posts for 'Brazil coffee harvest'
2026-01-27 06:56:50,119 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 06:56:50,142 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 06:56:50,200 - trading_bot.sentinels - INFO - Strict search for 'coffee futures' returned 0 posts. Trying broad search...
2026-01-27 06:56:50,226 - trading_bot.sentinels - INFO - Strict search for 'arabica prices' returned 0 posts. Trying broad search...
2026-01-27 06:56:50,354 - trading_bot.sentinels - INFO - Broad search returned 1 posts for 'arabica prices'
2026-01-27 06:56:50,483 - trading_bot.sentinels - INFO - Broad search returned 3 posts for 'coffee futures'
2026-01-27 06:56:51,624 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 06:56:51,774 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 06:56:51,857 - trading_bot.sentinels - INFO - Strict search for 'Colombia coffee' returned 0 posts. Trying broad search...
2026-01-27 06:56:52,165 - trading_bot.sentinels - INFO - Broad search returned 8 posts for 'Colombia coffee'
2026-01-27 06:56:52,943 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 06:56:53,025 - trading_bot.sentinels - INFO - Strict search for 'US coffee tariffs' returned 0 posts. Trying broad search...
2026-01-27 06:56:53,598 - trading_bot.sentinels - INFO - Broad search returned 4 posts for 'US coffee tariffs'
2026-01-27 06:56:54,336 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 06:56:55,943 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 06:56:58,190 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 06:57:14,346 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 06:57:14,354 - trading_bot.sentinels - WARNING - X volume spike: 18 vs mean 4 (>3.0x)
2026-01-27 06:57:14,354 - trading_bot.sentinels - INFO - X volume anomaly: z-score=5.3
2026-01-27 06:57:14,354 - trading_bot.sentinels - WARNING - ðŸš¨ X SENTINEL TRIGGERED: UNUSUAL X ACTIVITY SPIKE (18 posts, 3.0x baseline)
2026-01-27 06:57:14,360 - trading_bot.state_manager - INFO - Queued deferred trigger from XSentimentSentinel
2026-01-27 06:57:14,360 - Orchestrator - INFO - Deferred XSentimentSentinel trigger for market open
2026-01-27 08:20:00,032 - Orchestrator - INFO - --- Running scheduled task: start_monitoring ---
2026-01-27 08:20:00,036 - Orchestrator - INFO - Market is closed (weekend/holiday). Skipping position monitoring startup.
2026-01-27 08:20:00,038 - Orchestrator - INFO - Next task 'process_deferred_triggers' scheduled for 2026-01-27 08:21:00 UTC. Waiting for 0.02 hours.
2026-01-27 08:21:00,035 - Orchestrator - INFO - --- Running scheduled task: process_deferred_triggers ---
2026-01-27 08:21:00,037 - Orchestrator - INFO - Market is closed. Skipping deferred trigger processing.
2026-01-27 08:21:00,038 - Orchestrator - INFO - Next task 'run_position_audit_cycle' scheduled for 2026-01-27 13:20:00 UTC. Waiting for 4.98 hours.
2026-01-27 08:30:18,039 - Orchestrator - INFO - Market Open: Establishing Sentinel IB connection...
2026-01-27 08:30:18,042 - trading_bot.connection_pool - INFO - Connecting IB (sentinel) ID: 110...
2026-01-27 08:30:18,166 - trading_bot.connection_pool - INFO - IB (sentinel) connected successfully with ID 110
2026-01-27 08:30:18,173 - trading_bot.utils - INFO - ðŸ› ï¸ Configuring Market Data: Requesting LIVE (Type 1) Data.
2026-01-27 08:30:18,174 - Orchestrator - INFO - Sentinel IB connected and injected into PriceSentinel.
2026-01-27 08:30:18,174 - root - INFO - Fetching 1 active futures contracts for KC on NYBOT...
2026-01-27 08:30:18,443 - root - INFO - Found 11 active tradeable contracts (>=45d exp). Returning the first 1.
2026-01-27 08:30:18,444 - Orchestrator - INFO - Refreshed contract cache: KCH6
2026-01-27 08:30:18,444 - Orchestrator - INFO - Market Open: Engaging Microstructure Sentinel
2026-01-27 08:30:18,445 - trading_bot.connection_pool - INFO - Connecting IB (microstructure) ID: 204...
2026-01-27 08:30:18,864 - trading_bot.connection_pool - INFO - IB (microstructure) connected successfully with ID 204
2026-01-27 08:30:18,868 - trading_bot.utils - INFO - ðŸ› ï¸ Configuring Market Data: Requesting LIVE (Type 1) Data.
2026-01-27 08:30:18,869 - trading_bot.microstructure_sentinel - INFO - MicrostructureSentinel initialized
2026-01-27 08:30:20,871 - trading_bot.microstructure_sentinel - INFO - Subscribed to microstructure for KCH6
2026-01-27 09:57:28,663 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 09:57:28,755 - trading_bot.sentinels - INFO - Strict search for 'coffee futures' returned 0 posts. Trying broad search...
2026-01-27 09:57:29,070 - trading_bot.sentinels - INFO - Broad search returned 3 posts for 'coffee futures'
2026-01-27 09:57:30,759 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 09:57:30,844 - trading_bot.sentinels - INFO - Strict search for 'Brazil coffee harvest' returned 0 posts. Trying broad search...
2026-01-27 09:57:31,025 - trading_bot.sentinels - INFO - Broad search returned 2 posts for 'Brazil coffee harvest'
2026-01-27 09:57:31,124 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 09:57:31,209 - trading_bot.sentinels - INFO - Strict search for 'arabica prices' returned 0 posts. Trying broad search...
2026-01-27 09:57:31,337 - trading_bot.sentinels - INFO - Broad search returned 1 posts for 'arabica prices'
2026-01-27 09:57:32,485 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 09:57:32,566 - trading_bot.sentinels - INFO - Strict search for 'Colombia coffee' returned 0 posts. Trying broad search...
2026-01-27 09:57:32,890 - trading_bot.sentinels - INFO - Broad search returned 8 posts for 'Colombia coffee'
2026-01-27 09:57:33,627 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 09:57:33,812 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 09:57:35,607 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 09:57:35,686 - trading_bot.sentinels - INFO - Strict search for 'US coffee tariffs' returned 0 posts. Trying broad search...
2026-01-27 09:57:35,987 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 09:57:35,994 - trading_bot.sentinels - INFO - Broad search returned 4 posts for 'US coffee tariffs'
2026-01-27 09:57:38,152 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 09:57:42,579 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 09:57:42,586 - trading_bot.sentinels - WARNING - X volume spike: 18 vs mean 4 (>3.0x)
2026-01-27 09:57:42,587 - trading_bot.sentinels - INFO - X volume anomaly: z-score=5.7
2026-01-27 09:57:42,587 - trading_bot.sentinels - WARNING - ðŸš¨ X SENTINEL TRIGGERED: UNUSUAL X ACTIVITY SPIKE (18 posts, 3.0x baseline)
2026-01-27 09:57:42,592 - trading_bot.state_manager - INFO - Logged sentinel event from XSentimentSentinel to history.
2026-01-27 09:57:42,592 - Orchestrator - INFO - ðŸš¨ EMERGENCY CYCLE TRIGGERED by XSentimentSentinel: UNUSUAL X ACTIVITY SPIKE (18 posts, 3.0x baseline)
2026-01-27 09:57:42,902 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-01-27 09:57:42,924 - chromadb.telemetry.product.posthog - INFO - Anonymized telemetry enabled. See                     https://docs.trychroma.com/telemetry for more information.
2026-01-27 09:57:43,038 - trading_bot.tms - INFO - TMS initialized at ./data/tms
2026-01-27 09:57:43,178 - trading_bot.heterogeneous_router - INFO - ResponseCache initialized with env=DEV, multiplier=0.25
2026-01-27 09:57:43,178 - trading_bot.heterogeneous_router - INFO - HeterogeneousRouter initialized. Available: ['xai', 'anthropic', 'openai', 'gemini']
2026-01-27 09:57:43,178 - trading_bot.agents - INFO - Heterogeneous routing enabled. Diversity: {'available_providers': ['xai', 'anthropic', 'openai', 'gemini'], 'diversity_score': 1.0}
2026-01-27 09:57:43,183 - trading_bot.tms - INFO - TMS initialized at ./data/tms
2026-01-27 09:57:43,183 - trading_bot.agents - INFO - Coffee Council initialized. Agents: gemini-3-pro-preview, Master: gemini-3-pro-preview
2026-01-27 09:57:43,184 - root - INFO - Fetching 2 active futures contracts for KC on NYBOT...
2026-01-27 09:57:43,250 - root - INFO - Found 11 active tradeable contracts (>=45d exp). Returning the first 2.
2026-01-27 09:57:43,250 - Orchestrator - INFO - Targeting contract: KCH6 (202603)
2026-01-27 09:57:47,768 - trading_bot.agents - INFO - Running Specialized Cycle triggered by XSentimentSentinel...
2026-01-27 09:57:47,770 - trading_bot.agents - INFO - Routing to macro (Reason: Default routing)
2026-01-27 09:57:47,770 - trading_bot.agents - INFO - Waking up macro...
2026-01-27 09:57:48,239 - trading_bot.agents - INFO - Retrieved 3 TMS insights for macro.
2026-01-27 09:57:48,239 - trading_bot.agents - INFO - [macro] Phase 1: Gathering grounded data...
2026-01-27 09:57:48,239 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 09:58:18,550 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 09:58:18,897 - trading_bot.tms - INFO - TMS: Stored insight from macro
2026-01-27 09:58:34,090 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 09:58:34,223 - trading_bot.weighted_voting - INFO - Market Regime Detected: RANGE_BOUND
2026-01-27 09:58:34,233 - trading_bot.weighted_voting - INFO - ML confidence normalized: 0.50 -> 0.50
2026-01-27 09:58:34,233 - trading_bot.weighted_voting - INFO - ML Blend: Reliability=0.50, DynamicWeight=0.15, Regime=RANGE_BOUND
2026-01-27 09:58:34,233 - trading_bot.weighted_voting - INFO - Weighted Vote: NEUTRAL (score=0.000, dominant=None)
2026-01-27 09:58:34,233 - trading_bot.weighted_voting - INFO - Vote Breakdown: [
  {
    "agent": "agronomist",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.0
  },
  {
    "agent": "macro",
    "direction": "NEUTRAL",
    "confidence": 0.75,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.0
  },
  {
    "agent": "geopolitical",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.0
  },
  {
    "agent": "supply_chain",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.0,
    "reliability_mult": 0.5,
    "final_weight": 0.5,
    "contribution": 0.0
  },
  {
    "agent": "inventory",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.0
  },
  {
    "agent": "sentiment",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.0
  },
  {
    "agent": "technical",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 2.25,
    "reliability_mult": 0.5,
    "final_weight": 1.12,
    "contribution": 0.0
  },
  {
    "agent": "volatility",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.0499999999999998,
    "reliability_mult": 0.5,
    "final_weight": 0.52,
    "contribution": 0.0
  },
  {
    "agent": "latest_ml_signals",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.0,
    "reliability_mult": 0.5,
    "final_weight": 0.5,
    "contribution": 0.0
  }
]
2026-01-27 09:58:52,057 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-01-27 09:59:04,131 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 09:59:10,984 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 09:59:10,990 - Orchestrator - INFO - Emergency Decision: NEUTRAL (0.72)
2026-01-27 09:59:10,991 - Orchestrator - INFO - Emergency Cycle concluded with no action: NEUTRAL (DIRECTIONAL)
2026-01-27 09:59:10,992 - Orchestrator - INFO - Post-cycle debounce set for 1800s
2026-01-27 10:56:46,779 - trading_bot.sentinels - WARNING - WEATHER SENTINEL DETECTED: Drought Risk in Honduras Copan: 10 days with < 5.0mm rain
2026-01-27 10:56:46,792 - trading_bot.state_manager - INFO - Logged sentinel event from WeatherSentinel to history.
2026-01-27 10:56:46,793 - Orchestrator - INFO - ðŸš¨ EMERGENCY CYCLE TRIGGERED by WeatherSentinel: Drought Risk in Honduras Copan: 10 days with < 5.0mm rain
2026-01-27 10:56:47,133 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-01-27 10:56:47,140 - trading_bot.tms - INFO - TMS initialized at ./data/tms
2026-01-27 10:56:47,234 - trading_bot.heterogeneous_router - INFO - ResponseCache initialized with env=DEV, multiplier=0.25
2026-01-27 10:56:47,234 - trading_bot.heterogeneous_router - INFO - HeterogeneousRouter initialized. Available: ['xai', 'anthropic', 'openai', 'gemini']
2026-01-27 10:56:47,234 - trading_bot.agents - INFO - Heterogeneous routing enabled. Diversity: {'available_providers': ['xai', 'anthropic', 'openai', 'gemini'], 'diversity_score': 1.0}
2026-01-27 10:56:47,239 - trading_bot.tms - INFO - TMS initialized at ./data/tms
2026-01-27 10:56:47,240 - trading_bot.agents - INFO - Coffee Council initialized. Agents: gemini-3-pro-preview, Master: gemini-3-pro-preview
2026-01-27 10:56:47,240 - root - INFO - Fetching 2 active futures contracts for KC on NYBOT...
2026-01-27 10:56:47,311 - root - INFO - Found 11 active tradeable contracts (>=45d exp). Returning the first 2.
2026-01-27 10:56:47,312 - Orchestrator - INFO - Targeting contract: KCH6 (202603)
2026-01-27 10:56:51,820 - trading_bot.agents - INFO - Running Specialized Cycle triggered by WeatherSentinel...
2026-01-27 10:56:51,821 - trading_bot.agents - INFO - Routing to agronomist (Reason: Matched: WeatherSentinel/drought)
2026-01-27 10:56:51,821 - trading_bot.agents - INFO - Waking up agronomist...
2026-01-27 10:56:52,118 - trading_bot.agents - INFO - Retrieved 3 TMS insights for agronomist.
2026-01-27 10:56:52,119 - trading_bot.agents - INFO - [agronomist] Phase 1: Gathering grounded data...
2026-01-27 10:56:52,119 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 10:58:01,834 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 10:58:34,081 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 10:59:17,370 - trading_bot.weighted_voting - INFO - Market Regime Detected: RANGE_BOUND
2026-01-27 10:59:17,370 - trading_bot.weighted_voting - INFO - ML confidence normalized: 0.50 -> 0.50
2026-01-27 10:59:17,370 - trading_bot.weighted_voting - INFO - ML Blend: Reliability=0.50, DynamicWeight=0.15, Regime=RANGE_BOUND
2026-01-27 10:59:17,370 - trading_bot.weighted_voting - INFO - Weighted Vote: NEUTRAL (score=0.000, dominant=None)
2026-01-27 10:59:17,371 - trading_bot.weighted_voting - INFO - Vote Breakdown: [
  {
    "agent": "agronomist",
    "direction": "NEUTRAL",
    "confidence": 0.0,
    "domain_weight": 3.0,
    "reliability_mult": 0.5,
    "final_weight": 1.5,
    "contribution": 0.0
  },
  {
    "agent": "macro",
    "direction": "NEUTRAL",
    "confidence": 0.75,
    "domain_weight": 1.0,
    "reliability_mult": 0.5,
    "final_weight": 0.5,
    "contribution": 0.0
  },
  {
    "agent": "geopolitical",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 0.5,
    "reliability_mult": 0.5,
    "final_weight": 0.25,
    "contribution": 0.0
  },
  {
    "agent": "supply_chain",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.0,
    "reliability_mult": 0.5,
    "final_weight": 0.5,
    "contribution": 0.0
  },
  {
    "agent": "inventory",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.0
  },
  {
    "agent": "sentiment",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.0,
    "reliability_mult": 0.5,
    "final_weight": 0.5,
    "contribution": 0.0
  },
  {
    "agent": "technical",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 2.25,
    "reliability_mult": 0.5,
    "final_weight": 1.12,
    "contribution": 0.0
  },
  {
    "agent": "volatility",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.4,
    "reliability_mult": 0.5,
    "final_weight": 0.7,
    "contribution": 0.0
  },
  {
    "agent": "latest_ml_signals",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.0,
    "reliability_mult": 0.5,
    "final_weight": 0.5,
    "contribution": 0.0
  }
]
2026-01-27 10:59:32,724 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-01-27 10:59:49,823 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 10:59:56,560 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 10:59:56,563 - trading_bot.agents - INFO - Master decision vetoed by conflicting Weighted Vote (NEUTRAL)
2026-01-27 10:59:56,564 - Orchestrator - INFO - Emergency Decision: NEUTRAL (0.6)
2026-01-27 10:59:56,565 - Orchestrator - INFO - Emergency Cycle concluded with no action: NEUTRAL (DIRECTIONAL)
2026-01-27 10:59:56,568 - Orchestrator - INFO - Post-cycle debounce set for 1800s
2026-01-27 11:27:53,526 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 11:27:53,621 - trading_bot.sentinels - INFO - Strict search for 'coffee futures' returned 0 posts. Trying broad search...
2026-01-27 11:27:54,010 - trading_bot.sentinels - INFO - Broad search returned 6 posts for 'coffee futures'
2026-01-27 11:27:54,116 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 11:27:54,218 - trading_bot.sentinels - INFO - Strict search for 'Brazil coffee harvest' returned 0 posts. Trying broad search...
2026-01-27 11:27:54,273 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 11:27:54,354 - trading_bot.sentinels - INFO - Broad search returned 2 posts for 'Brazil coffee harvest'
2026-01-27 11:27:54,359 - trading_bot.sentinels - INFO - Strict search for 'arabica prices' returned 0 posts. Trying broad search...
2026-01-27 11:27:54,487 - trading_bot.sentinels - INFO - Broad search returned 1 posts for 'arabica prices'
2026-01-27 11:27:56,931 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 11:27:57,024 - trading_bot.sentinels - INFO - Strict search for 'Colombia coffee' returned 0 posts. Trying broad search...
2026-01-27 11:27:57,341 - trading_bot.sentinels - INFO - Broad search returned 8 posts for 'Colombia coffee'
2026-01-27 11:27:57,685 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 11:27:58,485 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 11:27:58,588 - trading_bot.sentinels - INFO - Strict search for 'US coffee tariffs' returned 0 posts. Trying broad search...
2026-01-27 11:27:58,940 - trading_bot.sentinels - INFO - Broad search returned 4 posts for 'US coffee tariffs'
2026-01-27 11:27:59,690 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 11:27:59,982 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 11:28:02,973 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 11:28:03,677 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 11:28:03,684 - trading_bot.sentinels - WARNING - X volume spike: 16 vs mean 3 (>3.0x)
2026-01-27 11:28:03,684 - trading_bot.sentinels - INFO - X volume anomaly: z-score=4.8
2026-01-27 11:28:03,685 - trading_bot.sentinels - WARNING - ðŸš¨ X SENTINEL TRIGGERED: UNUSUAL X ACTIVITY SPIKE (16 posts, 3.0x baseline)
2026-01-27 11:28:03,685 - Orchestrator - INFO - POST_CYCLE debounce active until 2026-01-27 11:29:56.567847. Skipping XSentimentSentinel
2026-01-27 12:31:04,113 - root - INFO - Fetching 1 active futures contracts for KC on NYBOT...
2026-01-27 12:31:04,176 - root - INFO - Found 11 active tradeable contracts (>=45d exp). Returning the first 1.
2026-01-27 12:31:04,177 - Orchestrator - INFO - Refreshed contract cache: KCH6
2026-01-27 12:58:13,323 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 12:58:13,408 - trading_bot.sentinels - INFO - Strict search for 'arabica prices' returned 0 posts. Trying broad search...
2026-01-27 12:58:13,544 - trading_bot.sentinels - INFO - Broad search returned 1 posts for 'arabica prices'
2026-01-27 12:58:13,865 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 12:58:13,952 - trading_bot.sentinels - INFO - Strict search for 'Brazil coffee harvest' returned 0 posts. Trying broad search...
2026-01-27 12:58:14,091 - trading_bot.sentinels - INFO - Broad search returned 2 posts for 'Brazil coffee harvest'
2026-01-27 12:58:14,969 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 12:58:15,060 - trading_bot.sentinels - INFO - Strict search for 'coffee futures' returned 0 posts. Trying broad search...
2026-01-27 12:58:15,420 - trading_bot.sentinels - INFO - Broad search returned 3 posts for 'coffee futures'
2026-01-27 12:58:15,486 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 12:58:15,569 - trading_bot.sentinels - INFO - Strict search for 'Colombia coffee' returned 0 posts. Trying broad search...
2026-01-27 12:58:15,925 - trading_bot.sentinels - INFO - Broad search returned 8 posts for 'Colombia coffee'
2026-01-27 12:58:18,091 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 12:58:18,175 - trading_bot.sentinels - INFO - Strict search for 'US coffee tariffs' returned 0 posts. Trying broad search...
2026-01-27 12:58:18,466 - trading_bot.sentinels - INFO - Broad search returned 4 posts for 'US coffee tariffs'
2026-01-27 12:58:19,232 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 12:58:19,610 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 12:58:21,984 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 12:58:22,735 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 12:58:23,988 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 12:58:23,993 - trading_bot.sentinels - WARNING - X volume spike: 18 vs mean 4 (>3.0x)
2026-01-27 12:58:23,993 - trading_bot.sentinels - INFO - X volume anomaly: z-score=5.7
2026-01-27 12:58:23,994 - trading_bot.sentinels - WARNING - ðŸš¨ X SENTINEL TRIGGERED: UNUSUAL X ACTIVITY SPIKE (18 posts, 3.0x baseline)
2026-01-27 12:58:24,000 - trading_bot.state_manager - INFO - Logged sentinel event from XSentimentSentinel to history.
2026-01-27 12:58:24,000 - Orchestrator - INFO - ðŸš¨ EMERGENCY CYCLE TRIGGERED by XSentimentSentinel: UNUSUAL X ACTIVITY SPIKE (18 posts, 3.0x baseline)
2026-01-27 12:58:24,291 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-01-27 12:58:24,298 - trading_bot.tms - INFO - TMS initialized at ./data/tms
2026-01-27 12:58:24,391 - trading_bot.heterogeneous_router - INFO - ResponseCache initialized with env=DEV, multiplier=0.25
2026-01-27 12:58:24,391 - trading_bot.heterogeneous_router - INFO - HeterogeneousRouter initialized. Available: ['xai', 'anthropic', 'openai', 'gemini']
2026-01-27 12:58:24,391 - trading_bot.agents - INFO - Heterogeneous routing enabled. Diversity: {'available_providers': ['xai', 'anthropic', 'openai', 'gemini'], 'diversity_score': 1.0}
2026-01-27 12:58:24,397 - trading_bot.tms - INFO - TMS initialized at ./data/tms
2026-01-27 12:58:24,397 - trading_bot.agents - INFO - Coffee Council initialized. Agents: gemini-3-pro-preview, Master: gemini-3-pro-preview
2026-01-27 12:58:24,397 - root - INFO - Fetching 2 active futures contracts for KC on NYBOT...
2026-01-27 12:58:24,464 - root - INFO - Found 11 active tradeable contracts (>=45d exp). Returning the first 2.
2026-01-27 12:58:24,464 - Orchestrator - INFO - Targeting contract: KCH6 (202603)
2026-01-27 12:58:28,968 - trading_bot.agents - INFO - Running Specialized Cycle triggered by XSentimentSentinel...
2026-01-27 12:58:28,972 - trading_bot.agents - INFO - Routing to macro (Reason: Default routing)
2026-01-27 12:58:28,972 - trading_bot.agents - INFO - Waking up macro...
2026-01-27 12:58:29,230 - trading_bot.agents - INFO - Retrieved 3 TMS insights for macro.
2026-01-27 12:58:29,230 - trading_bot.agents - INFO - [macro] Phase 1: Gathering grounded data...
2026-01-27 12:58:29,231 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 13:01:26,117 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 13:01:26,397 - trading_bot.tms - INFO - TMS: Stored insight from macro
2026-01-27 13:01:34,572 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 13:01:34,700 - trading_bot.weighted_voting - INFO - Market Regime Detected: RANGE_BOUND
2026-01-27 13:01:34,701 - trading_bot.weighted_voting - INFO - ML confidence normalized: 0.50 -> 0.50
2026-01-27 13:01:34,701 - trading_bot.weighted_voting - INFO - ML Blend: Reliability=0.50, DynamicWeight=0.15, Regime=RANGE_BOUND
2026-01-27 13:01:34,701 - trading_bot.weighted_voting - INFO - Weighted Vote: NEUTRAL (score=0.070, dominant=macro)
2026-01-27 13:01:34,701 - trading_bot.weighted_voting - INFO - Vote Breakdown: [
  {
    "agent": "agronomist",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.0
  },
  {
    "agent": "macro",
    "direction": "BULLISH",
    "confidence": 0.7,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.525
  },
  {
    "agent": "geopolitical",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.0
  },
  {
    "agent": "supply_chain",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.0,
    "reliability_mult": 0.5,
    "final_weight": 0.5,
    "contribution": 0.0
  },
  {
    "agent": "inventory",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.0
  },
  {
    "agent": "sentiment",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.0
  },
  {
    "agent": "technical",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 2.25,
    "reliability_mult": 0.5,
    "final_weight": 1.12,
    "contribution": 0.0
  },
  {
    "agent": "volatility",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.0499999999999998,
    "reliability_mult": 0.5,
    "final_weight": 0.52,
    "contribution": 0.0
  },
  {
    "agent": "latest_ml_signals",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.0,
    "reliability_mult": 0.5,
    "final_weight": 0.5,
    "contribution": 0.0
  }
]
2026-01-27 13:01:50,561 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-01-27 13:02:03,249 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 13:02:08,851 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 13:02:08,859 - Orchestrator - INFO - Emergency Decision: NEUTRAL (0.55)
2026-01-27 13:02:08,860 - Orchestrator - INFO - Emergency Cycle concluded with no action: NEUTRAL (DIRECTIONAL)
2026-01-27 13:02:08,861 - Orchestrator - INFO - Post-cycle debounce set for 1800s
2026-01-27 13:20:00,009 - Orchestrator - INFO - --- Running scheduled task: run_position_audit_cycle ---
2026-01-27 13:20:00,009 - Orchestrator - INFO - --- POSITION AUDIT CYCLE (Scheduled) ---
2026-01-27 13:20:00,010 - trading_bot.connection_pool - INFO - Connecting IB (audit) ID: 209...
2026-01-27 13:20:00,338 - trading_bot.connection_pool - INFO - IB (audit) connected successfully with ID 209
2026-01-27 13:20:00,342 - trading_bot.utils - INFO - ðŸ› ï¸ Configuring Market Data: Requesting LIVE (Type 1) Data.
2026-01-27 13:20:00,443 - Orchestrator - INFO - No open positions to audit.
2026-01-27 13:20:00,444 - Orchestrator - INFO - Next task 'generate_and_execute_orders' scheduled for 2026-01-27 13:50:00 UTC. Waiting for 0.50 hours.
2026-01-27 13:50:00,001 - Orchestrator - INFO - --- Running scheduled task: generate_and_execute_orders ---
2026-01-27 13:50:00,004 - OrderManager - INFO - >>> Starting combined task: Generate and Execute Orders <<<
2026-01-27 13:50:00,005 - OrderManager - INFO - --- Starting order generation and queuing process ---
2026-01-27 13:50:00,005 - OrderManager - INFO - Step 1: Running data pull...
Setup complete.
Dynamically determining the next 5 coffee tickers...
... chronological tickers found: ['KCH26.NYB', 'KCK26.NYB', 'KCN26.NYB', 'KCU26.NYB', 'KCZ26.NYB']

Fetching Coffee Prices...

Fetching weather data...

Fetching economic data from FRED...

Fetching other market data from yfinance...

Processing OHLV and fetching COT data...
Fetching historical COT data directly from CFTC...
... Successfully processed and filtered year 1986 (Rows: 24)
... Successfully processed and filtered year 1987 (Rows: 24)
... Successfully processed and filtered year 1988 (Rows: 24)
... Successfully processed and filtered year 1989 (Rows: 24)
... Successfully processed and filtered year 1990 (Rows: 23)
... Successfully processed and filtered year 1991 (Rows: 24)
... Successfully processed and filtered year 1992 (Rows: 31)
... Successfully processed and filtered year 1993 (Rows: 52)
... Successfully processed and filtered year 1994 (Rows: 52)
... Successfully processed and filtered year 1995 (Rows: 52)
... Successfully processed and filtered year 1996 (Rows: 53)
... Successfully processed and filtered year 1997 (Rows: 52)
... Successfully processed and filtered year 1998 (Rows: 52)
... Successfully processed and filtered year 1999 (Rows: 52)
... Successfully processed and filtered year 2000 (Rows: 52)
... Successfully processed and filtered year 2001 (Rows: 52)
... Successfully processed and filtered year 2002 (Rows: 52)
... Successfully processed and filtered year 2003 (Rows: 52)
... Successfully processed and filtered year 2004 (Rows: 52)
... Successfully processed and filtered year 2005 (Rows: 52)
... Successfully processed and filtered year 2006 (Rows: 52)
... Successfully processed and filtered year 2007 (Rows: 53)
... Successfully processed and filtered year 2008 (Rows: 52)
... Successfully processed and filtered year 2009 (Rows: 52)
... Successfully processed and filtered year 2010 (Rows: 52)
... Successfully processed and filtered year 2011 (Rows: 52)
... Successfully processed and filtered year 2012 (Rows: 53)
... Successfully processed and filtered year 2013 (Rows: 52)
... Successfully processed and filtered year 2014 (Rows: 52)
... Successfully processed and filtered year 2015 (Rows: 52)
... Successfully processed and filtered year 2016 (Rows: 52)
... Successfully processed and filtered year 2017 (Rows: 52)
... Successfully processed and filtered year 2018 (Rows: 53)
... Successfully processed and filtered year 2019 (Rows: 52)
... Successfully processed and filtered year 2020 (Rows: 52)
... Successfully processed and filtered year 2021 (Rows: 52)
... Successfully processed and filtered year 2022 (Rows: 52)
... Successfully processed and filtered year 2023 (Rows: 52)
... Successfully processed and filtered year 2024 (Rows: 53)
... Successfully processed and filtered year 2025 (Rows: 52)
... Successfully processed and filtered year 2026 (Rows: 3)
Concatenating COT data...

All data fetching complete.

Successfully processed data. Shape: (523, 51)

==============================
<b>Data Pull Validation Report</b>
Timestamp: 2026-01-27 13:50:30

<b>Overall Status: âœ… SUCCESS</b>
(9 checks passed, 0 checks failed)

âœ… <b>Coffee Price Fetch:</b> Successfully fetched 5 active contracts.
âœ… <b>Weather Data Fetch:</b> Successfully fetched data for 4 locations.
âœ… <b>FRED Data Fetch:</b> Completed all FRED series requests.
âœ… <b>Other Market Data Fetch:</b> Completed all other yfinance requests.
âœ… <b>Coffee OHLV Processing:</b> Successfully processed OHLV data.
âœ… <b>COT Report Fetch:</b> Successfully fetched CFTC data. Last entry: 2026-01-20
âœ… <b>Pre-Fill Missing Data:</b> Total missing data before fill is 9.04%.
âœ… <b>Data Recency:</b> Most recent data point is from 2026-01-27.
âœ… <b>Price Spike Detection:</b> Max daily change was 8.51%. Threshold is 15%.

<b>Final Output File Stats:</b>
- Rows: 523
- Columns: 51
==============================
2026-01-27 13:50:30,394 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-01-27 13:50:30,401 - OrderManager - INFO - Data pull complete.
2026-01-27 13:50:30,402 - OrderManager - INFO - Step 2: Running local model inference...
2026-01-27 13:50:30,402 - root - INFO - Loading all production assets...
2026-01-27 13:50:31,234 - root - INFO - All 10 assets loaded successfully.
2026-01-27 13:50:31,237 - root - INFO - Macro Trend: BULL (Front Month: 360.25, SMA200: 346.73)
2026-01-27 13:50:31,237 - root - INFO - Generating features from new data...
2026-01-27 13:50:36,344 - root - INFO - Feature generation complete.
2026-01-27 13:50:36,344 - root - INFO - Running hybrid prediction...
WARNING: All log messages before absl::InitializeLog() is called are written to STDERR
I0000 00:00:1769521837.923725  386991 device_compiler.h:196] Compiled cluster using XLA!  This line is logged at most once for the lifetime of the process.
[1m1/1[0m [32mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m[37m[0m [1m0s[0m 2s/step[1m1/1[0m [32mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m[37m[0m [1m2s[0m 2s/step
2026-01-27 13:50:39,013 - root - INFO - {
  "signals": [
    {
      "action": "LONG",
      "predicted_return": 0.006023298332008125,
      "ml_confidence": 0.5715030272326307,
      "confidence": 0.5715030272326307,
      "expected_price": 362.4198932241059,
      "regime": "BULL",
      "reason": "AI Buy + Bull Trend",
      "price": 360.25,
      "sma_200": 346.73100036621094
    },
    {
      "action": "LONG",
      "predicted_return": 0.00559896291470702,
      "ml_confidence": 0.566562738924481,
      "confidence": 0.566562738924481,
      "expected_price": 343.16064609464377,
      "regime": "BULL",
      "reason": "AI Buy + Bull Trend",
      "price": 341.25,
      "sma_200": 346.73100036621094
    },
    {
      "action": "LONG",
      "predicted_return": 0.0051424208454486685,
      "ml_confidence": 0.5612241069426547,
      "confidence": 0.5612241069426547,
      "expected_price": 335.66732371114256,
      "regime": "BULL",
      "reason": "AI Buy + Bull Trend",
      "price": 333.95001220703125,
      "sma_200": 346.73100036621094
    },
    {
      "action": "NEUTRAL",
      "predicted_return": 0.004669288804207896,
      "ml_confidence": 0.5556678357074093,
      "confidence": 0.5556678357074093,
      "expected_price": 329.33058060598995,
      "regime": "BULL",
      "reason": "Forecast 0.47% vs Threshold 0.50%",
      "price": 327.79998779296875,
      "sma_200": 346.73100036621094
    },
    {
      "action": "NEUTRAL",
      "predicted_return": 0.004336827545240363,
      "ml_confidence": 0.5517502627083408,
      "confidence": 0.5517502627083408,
      "expected_price": 323.39645846956745,
      "regime": "BULL",
      "reason": "Forecast 0.43% vs Threshold 0.50%",
      "price": 322.0,
      "sma_200": 346.73100036621094
    }
  ]
}
2026-01-27 13:50:39,014 - OrderManager - INFO - Successfully received predictions from local model: [{'action': 'LONG', 'predicted_return': 0.006023298332008125, 'ml_confidence': 0.5715030272326307, 'confidence': 0.5715030272326307, 'expected_price': 362.4198932241059, 'regime': 'BULL', 'reason': 'AI Buy + Bull Trend', 'price': 360.25, 'sma_200': 346.73100036621094}, {'action': 'LONG', 'predicted_return': 0.00559896291470702, 'ml_confidence': 0.566562738924481, 'confidence': 0.566562738924481, 'expected_price': 343.16064609464377, 'regime': 'BULL', 'reason': 'AI Buy + Bull Trend', 'price': 341.25, 'sma_200': 346.73100036621094}, {'action': 'LONG', 'predicted_return': 0.0051424208454486685, 'ml_confidence': 0.5612241069426547, 'confidence': 0.5612241069426547, 'expected_price': 335.66732371114256, 'regime': 'BULL', 'reason': 'AI Buy + Bull Trend', 'price': 333.95001220703125, 'sma_200': 346.73100036621094}, {'action': 'NEUTRAL', 'predicted_return': 0.004669288804207896, 'ml_confidence': 0.5556678357074093, 'confidence': 0.5556678357074093, 'expected_price': 329.33058060598995, 'regime': 'BULL', 'reason': 'Forecast 0.47% vs Threshold 0.50%', 'price': 327.79998779296875, 'sma_200': 346.73100036621094}, {'action': 'NEUTRAL', 'predicted_return': 0.004336827545240363, 'ml_confidence': 0.5517502627083408, 'confidence': 0.5517502627083408, 'expected_price': 323.39645846956745, 'regime': 'BULL', 'reason': 'Forecast 0.43% vs Threshold 0.50%', 'price': 322.0, 'sma_200': 346.73100036621094}]
2026-01-27 13:50:39,015 - trading_bot.connection_pool - INFO - Connecting IB (order_manager) ID: 145...
2026-01-27 13:50:39,171 - trading_bot.connection_pool - INFO - IB (order_manager) connected successfully with ID 145
2026-01-27 13:50:39,178 - trading_bot.utils - INFO - ðŸ› ï¸ Configuring Market Data: Requesting LIVE (Type 1) Data.
2026-01-27 13:50:39,178 - OrderManager - INFO - Connected to IB for signal generation.
2026-01-27 13:50:39,178 - OrderManager - INFO - Step 2.5: Generating structured signals from predictions...
2026-01-27 13:50:39,179 - trading_bot.signal_generator - INFO - --- Starting Multi-Agent Signal Generation (Council) ---
2026-01-27 13:50:39,285 - trading_bot.heterogeneous_router - INFO - ResponseCache initialized with env=DEV, multiplier=0.25
2026-01-27 13:50:39,286 - trading_bot.heterogeneous_router - INFO - HeterogeneousRouter initialized. Available: ['xai', 'anthropic', 'openai', 'gemini']
2026-01-27 13:50:39,286 - trading_bot.agents - INFO - Heterogeneous routing enabled. Diversity: {'available_providers': ['xai', 'anthropic', 'openai', 'gemini'], 'diversity_score': 1.0}
2026-01-27 13:50:39,293 - trading_bot.tms - INFO - TMS initialized at ./data/tms
2026-01-27 13:50:39,293 - trading_bot.agents - INFO - Coffee Council initialized. Agents: gemini-3-pro-preview, Master: gemini-3-pro-preview
2026-01-27 13:50:39,293 - trading_bot.heterogeneous_router - INFO - ResponseCache initialized with env=DEV, multiplier=0.25
2026-01-27 13:50:39,293 - trading_bot.heterogeneous_router - INFO - HeterogeneousRouter initialized. Available: ['xai', 'anthropic', 'openai', 'gemini']
2026-01-27 13:50:39,293 - root - INFO - Fetching 5 active futures contracts for KC on NYBOT...
2026-01-27 13:50:39,393 - root - INFO - Found 11 active tradeable contracts (>=45d exp). Returning the first 5.
2026-01-27 13:50:39,393 - trading_bot.signal_generator - INFO - Convening Council for KCH6 (202603)...
2026-01-27 13:50:39,393 - trading_bot.signal_generator - INFO - Convening Council for KCK6 (202605)...
2026-01-27 13:50:39,393 - trading_bot.signal_generator - INFO - Convening Council for KCN6 (202607)...
2026-01-27 13:50:40,293 - trading_bot.agents - INFO - Retrieved 3 TMS insights for agronomist.
2026-01-27 13:50:40,293 - trading_bot.agents - INFO - [agronomist] Phase 1: Gathering grounded data...
2026-01-27 13:50:40,293 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 13:50:40,692 - trading_bot.agents - INFO - Retrieved 3 TMS insights for macro.
2026-01-27 13:50:40,693 - trading_bot.agents - INFO - [macro] Phase 1: Gathering grounded data...
2026-01-27 13:50:40,693 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 13:50:40,994 - trading_bot.agents - INFO - Retrieved 3 TMS insights for geopolitical.
2026-01-27 13:50:40,994 - trading_bot.agents - INFO - [geopolitical] Phase 1: Gathering grounded data...
2026-01-27 13:50:40,994 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 13:50:41,274 - trading_bot.agents - INFO - Retrieved 3 TMS insights for supply_chain.
2026-01-27 13:50:41,274 - trading_bot.agents - INFO - [supply_chain] Phase 1: Gathering grounded data...
2026-01-27 13:50:41,274 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 13:50:41,585 - trading_bot.agents - INFO - Retrieved 3 TMS insights for inventory.
2026-01-27 13:50:41,585 - trading_bot.agents - INFO - [inventory] Phase 1: Gathering grounded data...
2026-01-27 13:50:41,585 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 13:50:41,890 - trading_bot.agents - INFO - Retrieved 3 TMS insights for sentiment.
2026-01-27 13:50:41,890 - trading_bot.agents - INFO - [sentiment] Phase 1: Gathering grounded data...
2026-01-27 13:50:41,891 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 13:50:42,178 - trading_bot.agents - INFO - Retrieved 3 TMS insights for technical.
2026-01-27 13:50:42,179 - trading_bot.agents - INFO - [technical] Phase 1: Gathering grounded data...
2026-01-27 13:50:42,179 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 13:50:42,447 - trading_bot.agents - INFO - Retrieved 3 TMS insights for volatility.
2026-01-27 13:50:42,447 - trading_bot.agents - INFO - [volatility] Phase 1: Gathering grounded data...
2026-01-27 13:50:42,448 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 13:50:42,735 - trading_bot.agents - INFO - Retrieved 3 TMS insights for agronomist.
2026-01-27 13:50:42,735 - trading_bot.agents - INFO - [agronomist] Phase 1: Gathering grounded data...
2026-01-27 13:50:42,736 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 13:50:43,025 - trading_bot.agents - INFO - Retrieved 3 TMS insights for macro.
2026-01-27 13:50:43,025 - trading_bot.agents - INFO - [macro] Phase 1: Gathering grounded data...
2026-01-27 13:50:43,025 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 13:50:43,310 - trading_bot.agents - INFO - Retrieved 3 TMS insights for geopolitical.
2026-01-27 13:50:43,310 - trading_bot.agents - INFO - [geopolitical] Phase 1: Gathering grounded data...
2026-01-27 13:50:43,310 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 13:50:43,624 - trading_bot.agents - INFO - Retrieved 3 TMS insights for supply_chain.
2026-01-27 13:50:43,625 - trading_bot.agents - INFO - [supply_chain] Phase 1: Gathering grounded data...
2026-01-27 13:50:43,625 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 13:50:43,911 - trading_bot.agents - INFO - Retrieved 3 TMS insights for inventory.
2026-01-27 13:50:43,911 - trading_bot.agents - INFO - [inventory] Phase 1: Gathering grounded data...
2026-01-27 13:50:43,912 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 13:50:44,199 - trading_bot.agents - INFO - Retrieved 3 TMS insights for sentiment.
2026-01-27 13:50:44,199 - trading_bot.agents - INFO - [sentiment] Phase 1: Gathering grounded data...
2026-01-27 13:50:44,199 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 13:50:44,476 - trading_bot.agents - INFO - Retrieved 3 TMS insights for technical.
2026-01-27 13:50:44,476 - trading_bot.agents - INFO - [technical] Phase 1: Gathering grounded data...
2026-01-27 13:50:44,476 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 13:50:44,805 - trading_bot.agents - INFO - Retrieved 3 TMS insights for volatility.
2026-01-27 13:50:44,805 - trading_bot.agents - INFO - [volatility] Phase 1: Gathering grounded data...
2026-01-27 13:50:44,806 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 13:50:45,120 - trading_bot.agents - INFO - Retrieved 3 TMS insights for agronomist.
2026-01-27 13:50:45,120 - trading_bot.agents - INFO - [agronomist] Phase 1: Gathering grounded data...
2026-01-27 13:50:45,121 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 13:50:45,437 - trading_bot.agents - INFO - Retrieved 3 TMS insights for macro.
2026-01-27 13:50:45,438 - trading_bot.agents - INFO - [macro] Phase 1: Gathering grounded data...
2026-01-27 13:50:45,438 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 13:50:45,768 - trading_bot.agents - INFO - Retrieved 3 TMS insights for geopolitical.
2026-01-27 13:50:45,769 - trading_bot.agents - INFO - [geopolitical] Phase 1: Gathering grounded data...
2026-01-27 13:50:45,769 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 13:50:46,132 - trading_bot.agents - INFO - Retrieved 3 TMS insights for supply_chain.
2026-01-27 13:50:46,132 - trading_bot.agents - INFO - [supply_chain] Phase 1: Gathering grounded data...
2026-01-27 13:50:46,135 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 13:50:46,445 - trading_bot.agents - INFO - Retrieved 3 TMS insights for inventory.
2026-01-27 13:50:46,445 - trading_bot.agents - INFO - [inventory] Phase 1: Gathering grounded data...
2026-01-27 13:50:46,445 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 13:50:46,744 - trading_bot.agents - INFO - Retrieved 3 TMS insights for sentiment.
2026-01-27 13:50:46,745 - trading_bot.agents - INFO - [sentiment] Phase 1: Gathering grounded data...
2026-01-27 13:50:46,745 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 13:50:47,094 - trading_bot.agents - INFO - Retrieved 3 TMS insights for technical.
2026-01-27 13:50:47,094 - trading_bot.agents - INFO - [technical] Phase 1: Gathering grounded data...
2026-01-27 13:50:47,094 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 13:50:47,394 - trading_bot.agents - INFO - Retrieved 3 TMS insights for volatility.
2026-01-27 13:50:47,394 - trading_bot.agents - INFO - [volatility] Phase 1: Gathering grounded data...
2026-01-27 13:50:47,394 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 13:51:20,164 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 13:51:20,480 - trading_bot.tms - INFO - TMS: Stored insight from sentiment
2026-01-27 13:51:32,898 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 13:51:56,282 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 13:52:11,819 - trading_bot.tms - INFO - TMS: Stored insight from inventory
2026-01-27 13:52:50,575 - trading_bot.agents - ERROR - Model call failed: 503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}}
2026-01-27 13:52:50,575 - trading_bot.agents - ERROR - Grounded data gathering failed: 503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}}
2026-01-27 13:52:50,577 - trading_bot.agents - WARNING - [volatility] Data gathering failed, using fallback data.
2026-01-27 13:52:50,577 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 13:52:52,816 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 13:52:53,134 - trading_bot.tms - INFO - TMS: Stored insight from sentiment
2026-01-27 13:52:55,705 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 13:53:26,744 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 13:53:37,860 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 13:53:38,215 - trading_bot.tms - INFO - TMS: Stored insight from macro
2026-01-27 13:53:38,215 - trading_bot.tms - INFO - TMS: macro insight on '[EVIDENCE]: [2026-01...' cues -> ['fundamentalist', 'technical', 'geopolitical', 'sentiment']
2026-01-27 13:53:44,756 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 13:53:58,018 - trading_bot.tms - INFO - TMS: Stored insight from supply_chain
2026-01-27 13:54:35,426 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 13:54:35,783 - trading_bot.tms - INFO - TMS: Stored insight from macro
2026-01-27 13:54:35,783 - trading_bot.tms - INFO - TMS: macro insight on '[EVIDENCE]: [2026-01...' cues -> ['fundamentalist', 'geopolitical']
2026-01-27 13:55:03,284 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 13:55:03,592 - trading_bot.tms - INFO - TMS: Stored insight from macro
2026-01-27 13:55:03,592 - trading_bot.tms - INFO - TMS: macro insight on '[EVIDENCE]: [2026-01...' cues -> ['fundamentalist', 'geopolitical']
2026-01-27 13:55:09,933 - trading_bot.tms - INFO - TMS: Stored insight from agronomist
2026-01-27 13:55:09,934 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 13:56:13,364 - trading_bot.agents - ERROR - Model call failed: 500 INTERNAL. {'error': {'code': 500, 'message': 'Internal error encountered.', 'status': 'INTERNAL'}}
2026-01-27 13:56:13,364 - trading_bot.agents - ERROR - Grounded data gathering failed: 500 INTERNAL. {'error': {'code': 500, 'message': 'Internal error encountered.', 'status': 'INTERNAL'}}
2026-01-27 13:56:13,366 - trading_bot.agents - WARNING - [technical] Data gathering failed, using fallback data.
2026-01-27 13:56:57,642 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 13:56:57,930 - trading_bot.tms - INFO - TMS: Stored insight from technical
2026-01-27 13:57:25,936 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 13:57:26,266 - trading_bot.tms - INFO - TMS: Stored insight from technical
2026-01-27 13:57:31,404 - trading_bot.tms - INFO - TMS: Stored insight from agronomist
2026-01-27 13:57:31,404 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 13:57:33,576 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 13:57:40,038 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 13:57:55,546 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 13:58:27,413 - trading_bot.tms - INFO - TMS: Stored insight from supply_chain
2026-01-27 13:58:41,238 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 13:58:41,550 - trading_bot.tms - INFO - TMS: Stored insight from technical
2026-01-27 13:58:41,998 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 13:58:42,319 - trading_bot.tms - INFO - TMS: Stored insight from geopolitical
2026-01-27 13:58:56,796 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 13:58:59,390 - trading_bot.tms - INFO - TMS: Stored insight from volatility
2026-01-27 13:59:06,337 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 14:00:40,200 - trading_bot.agents - ERROR - Model call failed: 500 INTERNAL. {'error': {'code': 500, 'message': 'Internal error encountered.', 'status': 'INTERNAL'}}
2026-01-27 14:00:40,200 - trading_bot.agents - ERROR - Grounded data gathering failed: 500 INTERNAL. {'error': {'code': 500, 'message': 'Internal error encountered.', 'status': 'INTERNAL'}}
2026-01-27 14:00:40,201 - trading_bot.agents - WARNING - [inventory] Data gathering failed, using fallback data.
2026-01-27 14:00:40,201 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 14:00:49,418 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 14:00:49,724 - trading_bot.tms - INFO - TMS: Stored insight from sentiment
2026-01-27 14:01:17,235 - trading_bot.tms - INFO - TMS: Stored insight from supply_chain
2026-01-27 14:01:48,242 - trading_bot.tms - INFO - TMS: Stored insight from volatility
2026-01-27 14:02:27,322 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 14:02:27,621 - trading_bot.tms - INFO - TMS: Stored insight from geopolitical
2026-01-27 14:03:09,147 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 14:05:20,470 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 14:05:20,776 - trading_bot.tms - INFO - TMS: Stored insight from geopolitical
2026-01-27 14:05:26,492 - trading_bot.tms - INFO - TMS: Stored insight from inventory
2026-01-27 14:05:27,164 - trading_bot.weighted_voting - INFO - Market Regime Detected: RANGE_BOUND
2026-01-27 14:05:27,164 - trading_bot.weighted_voting - INFO - ML confidence normalized: 0.56 -> 0.54
2026-01-27 14:05:27,165 - trading_bot.weighted_voting - INFO - ML Blend: Reliability=0.50, DynamicWeight=0.15, Regime=RANGE_BOUND
2026-01-27 14:05:27,165 - trading_bot.weighted_voting - INFO - Weighted Vote: NEUTRAL (score=-0.104, dominant=macro)
2026-01-27 14:05:27,165 - trading_bot.weighted_voting - INFO - Vote Breakdown: [
  {
    "agent": "agronomist",
    "direction": "BEARISH",
    "confidence": 0.85,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": -0.637
  },
  {
    "agent": "macro",
    "direction": "BULLISH",
    "confidence": 0.9,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.675
  },
  {
    "agent": "geopolitical",
    "direction": "BEARISH",
    "confidence": 0.8,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": -0.6
  },
  {
    "agent": "supply_chain",
    "direction": "BULLISH",
    "confidence": 0.95,
    "domain_weight": 1.0,
    "reliability_mult": 0.5,
    "final_weight": 0.5,
    "contribution": 0.475
  },
  {
    "agent": "inventory",
    "direction": "NEUTRAL",
    "confidence": 0.0,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.0
  },
  {
    "agent": "sentiment",
    "direction": "BEARISH",
    "confidence": 0.85,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": -0.637
  },
  {
    "agent": "technical",
    "direction": "NEUTRAL",
    "confidence": 0.55,
    "domain_weight": 2.25,
    "reliability_mult": 0.5,
    "final_weight": 1.12,
    "contribution": 0.0
  },
  {
    "agent": "volatility",
    "direction": "NEUTRAL",
    "confidence": 0.0,
    "domain_weight": 1.0499999999999998,
    "reliability_mult": 0.5,
    "final_weight": 0.52,
    "contribution": 0.0
  }
]
2026-01-27 14:05:47,143 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-01-27 14:06:04,816 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 14:06:09,753 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 14:06:40,947 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-01-27 14:06:40,949 - trading_bot.agents - ERROR - Devil's Advocate failed: Expecting value: line 1 column 1 (char 0)
2026-01-27 14:06:46,924 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-01-27 14:06:46,925 - trading_bot.signal_generator - WARNING - COMPLIANCE BLOCKED KCN6 (202607): The decision reasoning cites 'removal of the drought premium with incoming rains' as a bearish factor, but the Agronomist report explicitly warns that the incoming storms (1.48 inches/day) introduce 'new risks, such as fruit drop or fungal issues' - this quality risk was acknowledged but potentially underweighted. More critically, the reasoning ignores the SUPPLY_CHAIN report's high-confidence (0.95) BULLISH sentiment citing structural bottlenecks at Port of Santos preventing shipment of 672,113 bags, which creates 'artificial scarcity' and supports price premiums. The weighted voting result shows NEUTRAL consensus, yet the decision is BEARISH, contradicting the balanced evidence where bullish supply chain constraints offset bearish weather/sentiment factors.
2026-01-27 14:06:47,243 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-01-27 14:06:47,245 - trading_bot.signal_generator - INFO - Council Decision KCN6 (202607): NEUTRAL (0.0)
2026-01-27 14:06:47,247 - root - INFO - Logged Council decision for KCN6 (202607)
2026-01-27 14:06:47,247 - trading_bot.signal_generator - INFO - Convening Council for KCU6 (202609)...
2026-01-27 14:06:48,051 - trading_bot.agents - INFO - Retrieved 3 TMS insights for agronomist.
2026-01-27 14:06:48,051 - trading_bot.agents - INFO - [agronomist] Phase 1: Gathering grounded data...
2026-01-27 14:06:48,052 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 14:06:48,326 - trading_bot.agents - INFO - Retrieved 3 TMS insights for macro.
2026-01-27 14:06:48,326 - trading_bot.agents - INFO - [macro] Phase 1: Gathering grounded data...
2026-01-27 14:06:48,326 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 14:06:48,597 - trading_bot.agents - INFO - Retrieved 3 TMS insights for geopolitical.
2026-01-27 14:06:48,597 - trading_bot.agents - INFO - [geopolitical] Phase 1: Gathering grounded data...
2026-01-27 14:06:48,597 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 14:06:48,872 - trading_bot.agents - INFO - Retrieved 3 TMS insights for supply_chain.
2026-01-27 14:06:48,872 - trading_bot.agents - INFO - [supply_chain] Phase 1: Gathering grounded data...
2026-01-27 14:06:48,872 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 14:06:49,156 - trading_bot.agents - INFO - Retrieved 3 TMS insights for inventory.
2026-01-27 14:06:49,157 - trading_bot.agents - INFO - [inventory] Phase 1: Gathering grounded data...
2026-01-27 14:06:49,157 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 14:06:49,433 - trading_bot.agents - INFO - Retrieved 3 TMS insights for sentiment.
2026-01-27 14:06:49,434 - trading_bot.agents - INFO - [sentiment] Phase 1: Gathering grounded data...
2026-01-27 14:06:49,434 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 14:06:49,723 - trading_bot.agents - INFO - Retrieved 3 TMS insights for technical.
2026-01-27 14:06:49,723 - trading_bot.agents - INFO - [technical] Phase 1: Gathering grounded data...
2026-01-27 14:06:49,723 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 14:06:50,001 - trading_bot.agents - INFO - Retrieved 3 TMS insights for volatility.
2026-01-27 14:06:50,002 - trading_bot.agents - INFO - [volatility] Phase 1: Gathering grounded data...
2026-01-27 14:06:50,002 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 14:07:24,474 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 14:07:38,122 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 14:07:44,417 - trading_bot.tms - INFO - TMS: Stored insight from agronomist
2026-01-27 14:07:44,418 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 14:10:04,565 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 14:10:31,565 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 14:10:32,144 - Orchestrator - WARNING - MICROSTRUCTURE ALERT: Liquidity Depletion: 33% of average
2026-01-27 14:10:32,356 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-01-27 14:10:41,143 - trading_bot.tms - INFO - TMS: Stored insight from agronomist
2026-01-27 14:10:41,144 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 14:10:41,147 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 14:10:41,444 - trading_bot.tms - INFO - TMS: Stored insight from sentiment
2026-01-27 14:10:57,102 - trading_bot.weighted_voting - INFO - Market Regime Detected: HIGH_VOLATILITY
2026-01-27 14:10:57,103 - trading_bot.weighted_voting - INFO - ML confidence normalized: 0.57 -> 0.55
2026-01-27 14:10:57,103 - trading_bot.weighted_voting - WARNING - Regime=HIGH_VOLATILITY: Zeroing ML weight (structural break risk)
2026-01-27 14:10:57,103 - trading_bot.weighted_voting - INFO - ML Blend: Reliability=0.50, DynamicWeight=0.00, Regime=HIGH_VOLATILITY
2026-01-27 14:10:57,103 - trading_bot.weighted_voting - INFO - Weighted Vote: NEUTRAL (score=0.135, dominant=agronomist)
2026-01-27 14:10:57,103 - trading_bot.weighted_voting - INFO - Vote Breakdown: [
  {
    "agent": "agronomist",
    "direction": "BEARISH",
    "confidence": 0.9,
    "domain_weight": 2.25,
    "reliability_mult": 0.5,
    "final_weight": 1.12,
    "contribution": -1.012
  },
  {
    "agent": "macro",
    "direction": "BULLISH",
    "confidence": 0.9,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.675
  },
  {
    "agent": "geopolitical",
    "direction": "NEUTRAL",
    "confidence": 0.9,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.0
  },
  {
    "agent": "supply_chain",
    "direction": "BULLISH",
    "confidence": 0.95,
    "domain_weight": 1.0,
    "reliability_mult": 0.5,
    "final_weight": 0.5,
    "contribution": 0.475
  },
  {
    "agent": "inventory",
    "direction": "BULLISH",
    "confidence": 0.95,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.712
  },
  {
    "agent": "sentiment",
    "direction": "NEUTRAL",
    "confidence": 0.85,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.0
  },
  {
    "agent": "technical",
    "direction": "NEUTRAL",
    "confidence": 0.55,
    "domain_weight": 1.0499999999999998,
    "reliability_mult": 0.5,
    "final_weight": 0.52,
    "contribution": 0.0
  },
  {
    "agent": "volatility",
    "direction": "NEUTRAL",
    "confidence": 0.2,
    "domain_weight": 2.25,
    "reliability_mult": 0.5,
    "final_weight": 1.12,
    "contribution": 0.0
  }
]
2026-01-27 14:11:15,147 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-01-27 14:11:33,109 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 14:11:38,386 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 14:11:38,393 - trading_bot.signal_generator - INFO - Council Decision KCH6 (202603): NEUTRAL (0.65)
2026-01-27 14:11:38,393 - root - INFO - Logged Council decision for KCH6 (202603)
2026-01-27 14:11:38,394 - trading_bot.signal_generator - INFO - Convening Council for KCZ6 (202612)...
2026-01-27 14:11:39,179 - trading_bot.agents - INFO - Retrieved 3 TMS insights for agronomist.
2026-01-27 14:11:39,179 - trading_bot.agents - INFO - [agronomist] Phase 1: Gathering grounded data...
2026-01-27 14:11:39,179 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 14:11:39,449 - trading_bot.agents - INFO - Retrieved 3 TMS insights for macro.
2026-01-27 14:11:39,450 - trading_bot.agents - INFO - [macro] Phase 1: Gathering grounded data...
2026-01-27 14:11:39,450 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 14:11:39,713 - trading_bot.agents - INFO - Retrieved 3 TMS insights for geopolitical.
2026-01-27 14:11:39,714 - trading_bot.agents - INFO - [geopolitical] Phase 1: Gathering grounded data...
2026-01-27 14:11:39,714 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 14:11:39,976 - trading_bot.agents - INFO - Retrieved 3 TMS insights for supply_chain.
2026-01-27 14:11:39,976 - trading_bot.agents - INFO - [supply_chain] Phase 1: Gathering grounded data...
2026-01-27 14:11:39,976 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 14:11:40,239 - trading_bot.agents - INFO - Retrieved 3 TMS insights for inventory.
2026-01-27 14:11:40,239 - trading_bot.agents - INFO - [inventory] Phase 1: Gathering grounded data...
2026-01-27 14:11:40,240 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 14:11:40,506 - trading_bot.agents - INFO - Retrieved 3 TMS insights for sentiment.
2026-01-27 14:11:40,506 - trading_bot.agents - INFO - [sentiment] Phase 1: Gathering grounded data...
2026-01-27 14:11:40,506 - trading_bot.agents - INFO - [sentiment] Using cached grounded data.
2026-01-27 14:11:40,797 - trading_bot.tms - INFO - TMS: Stored insight from sentiment
2026-01-27 14:11:41,058 - trading_bot.agents - INFO - Retrieved 3 TMS insights for technical.
2026-01-27 14:11:41,058 - trading_bot.agents - INFO - [technical] Phase 1: Gathering grounded data...
2026-01-27 14:11:41,059 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 14:11:41,322 - trading_bot.agents - INFO - Retrieved 3 TMS insights for volatility.
2026-01-27 14:11:41,322 - trading_bot.agents - INFO - [volatility] Phase 1: Gathering grounded data...
2026-01-27 14:11:41,323 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 14:11:57,689 - trading_bot.tms - INFO - TMS: Stored insight from inventory
2026-01-27 14:11:57,689 - trading_bot.weighted_voting - INFO - Market Regime Detected: HIGH_VOLATILITY
2026-01-27 14:11:57,690 - trading_bot.weighted_voting - INFO - ML confidence normalized: 0.57 -> 0.54
2026-01-27 14:11:57,690 - trading_bot.weighted_voting - WARNING - Regime=HIGH_VOLATILITY: Zeroing ML weight (structural break risk)
2026-01-27 14:11:57,690 - trading_bot.weighted_voting - INFO - ML Blend: Reliability=0.50, DynamicWeight=0.00, Regime=HIGH_VOLATILITY
2026-01-27 14:11:57,690 - trading_bot.weighted_voting - INFO - Weighted Vote: NEUTRAL (score=0.055, dominant=volatility)
2026-01-27 14:11:57,690 - trading_bot.weighted_voting - INFO - Vote Breakdown: [
  {
    "agent": "agronomist",
    "direction": "BEARISH",
    "confidence": 0.9,
    "domain_weight": 2.25,
    "reliability_mult": 0.5,
    "final_weight": 1.12,
    "contribution": -1.012
  },
  {
    "agent": "macro",
    "direction": "BULLISH",
    "confidence": 0.85,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.637
  },
  {
    "agent": "geopolitical",
    "direction": "NEUTRAL",
    "confidence": 0.85,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.0
  },
  {
    "agent": "supply_chain",
    "direction": "BULLISH",
    "confidence": 0.95,
    "domain_weight": 1.0,
    "reliability_mult": 0.5,
    "final_weight": 0.5,
    "contribution": 0.475
  },
  {
    "agent": "inventory",
    "direction": "BULLISH",
    "confidence": 0.9,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.675
  },
  {
    "agent": "sentiment",
    "direction": "BULLISH",
    "confidence": 0.85,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.637
  },
  {
    "agent": "technical",
    "direction": "NEUTRAL",
    "confidence": 0.55,
    "domain_weight": 1.0499999999999998,
    "reliability_mult": 0.5,
    "final_weight": 0.52,
    "contribution": 0.0
  },
  {
    "agent": "volatility",
    "direction": "BEARISH",
    "confidence": 0.95,
    "domain_weight": 2.25,
    "reliability_mult": 0.5,
    "final_weight": 1.12,
    "contribution": -1.069
  }
]
2026-01-27 14:12:19,015 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-01-27 14:12:34,171 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 14:12:42,078 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 14:12:42,090 - trading_bot.signal_generator - INFO - Council Decision KCK6 (202605): NEUTRAL (0.65)
2026-01-27 14:12:42,091 - root - INFO - Logged Council decision for KCK6 (202605)
2026-01-27 14:13:26,220 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 14:13:26,504 - trading_bot.tms - INFO - TMS: Stored insight from geopolitical
2026-01-27 14:14:21,692 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 14:14:21,999 - trading_bot.tms - INFO - TMS: Stored insight from technical
2026-01-27 14:14:49,007 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 14:14:49,306 - trading_bot.tms - INFO - TMS: Stored insight from macro
2026-01-27 14:14:49,306 - trading_bot.tms - INFO - TMS: macro insight on '[EVIDENCE]: ['[2026-...' cues -> ['fundamentalist', 'geopolitical']
2026-01-27 14:14:55,851 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 14:17:15,248 - trading_bot.tms - INFO - TMS: Stored insight from volatility
2026-01-27 14:17:58,561 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 14:17:58,861 - trading_bot.tms - INFO - TMS: Stored insight from technical
2026-01-27 14:18:07,710 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 14:18:08,006 - trading_bot.tms - INFO - TMS: Stored insight from macro
2026-01-27 14:18:08,006 - trading_bot.tms - INFO - TMS: macro insight on '[EVIDENCE]: [2026-01...' cues -> ['fundamentalist', 'technical', 'geopolitical', 'sentiment']
2026-01-27 14:18:27,004 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 14:18:28,844 - trading_bot.agents - ERROR - Model call failed: 503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}}
2026-01-27 14:18:28,844 - trading_bot.agents - ERROR - Grounded data gathering failed: 503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}}
2026-01-27 14:18:28,845 - trading_bot.agents - WARNING - [inventory] Data gathering failed, using fallback data.
2026-01-27 14:18:28,846 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 14:20:44,686 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 14:21:08,418 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 14:21:22,793 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 14:21:39,316 - trading_bot.tms - INFO - TMS: Stored insight from supply_chain
2026-01-27 14:22:32,931 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 14:22:33,253 - trading_bot.tms - INFO - TMS: Stored insight from geopolitical
2026-01-27 14:22:34,714 - trading_bot.tms - INFO - TMS: Stored insight from inventory
2026-01-27 14:23:10,601 - trading_bot.weighted_voting - INFO - Market Regime Detected: RANGE_BOUND
2026-01-27 14:23:10,602 - trading_bot.weighted_voting - INFO - ML confidence normalized: 0.56 -> 0.54
2026-01-27 14:23:10,602 - trading_bot.weighted_voting - INFO - ML Blend: Reliability=0.50, DynamicWeight=0.15, Regime=RANGE_BOUND
2026-01-27 14:23:10,602 - trading_bot.weighted_voting - INFO - Weighted Vote: NEUTRAL (score=-0.005, dominant=agronomist)
2026-01-27 14:23:10,602 - trading_bot.weighted_voting - INFO - Vote Breakdown: [
  {
    "agent": "agronomist",
    "direction": "BEARISH",
    "confidence": 0.9,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": -0.675
  },
  {
    "agent": "macro",
    "direction": "BULLISH",
    "confidence": 0.85,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.637
  },
  {
    "agent": "geopolitical",
    "direction": "NEUTRAL",
    "confidence": 0.85,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.0
  },
  {
    "agent": "supply_chain",
    "direction": "NEUTRAL",
    "confidence": 0.0,
    "domain_weight": 1.0,
    "reliability_mult": 0.5,
    "final_weight": 0.5,
    "contribution": 0.0
  },
  {
    "agent": "inventory",
    "direction": "NEUTRAL",
    "confidence": 0.0,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.0
  },
  {
    "agent": "sentiment",
    "direction": "NEUTRAL",
    "confidence": 0.85,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.0
  },
  {
    "agent": "technical",
    "direction": "NEUTRAL",
    "confidence": 0.6,
    "domain_weight": 2.25,
    "reliability_mult": 0.5,
    "final_weight": 1.12,
    "contribution": 0.0
  },
  {
    "agent": "volatility",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.0499999999999998,
    "reliability_mult": 0.5,
    "final_weight": 0.52,
    "contribution": 0.0
  }
]
2026-01-27 14:23:28,468 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-01-27 14:23:46,651 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 14:23:52,761 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 14:23:52,767 - trading_bot.signal_generator - INFO - Council Decision KCU6 (202609): NEUTRAL (0.7)
2026-01-27 14:23:52,768 - root - INFO - Logged Council decision for KCU6 (202609)
2026-01-27 14:24:43,896 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 14:24:48,890 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 14:27:09,548 - trading_bot.tms - INFO - TMS: Stored insight from agronomist
2026-01-27 14:27:09,551 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 14:28:35,794 - trading_bot.tms - INFO - TMS: Stored insight from volatility
2026-01-27 14:28:38,095 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 14:28:38,185 - trading_bot.sentinels - INFO - Strict search for 'Brazil coffee harvest' returned 0 posts. Trying broad search...
2026-01-27 14:28:38,321 - trading_bot.sentinels - INFO - Broad search returned 2 posts for 'Brazil coffee harvest'
2026-01-27 14:28:39,386 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 14:28:39,476 - trading_bot.sentinels - INFO - Strict search for 'arabica prices' returned 0 posts. Trying broad search...
2026-01-27 14:28:39,614 - trading_bot.sentinels - INFO - Broad search returned 1 posts for 'arabica prices'
2026-01-27 14:28:39,687 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 14:28:39,766 - trading_bot.sentinels - INFO - Strict search for 'coffee futures' returned 0 posts. Trying broad search...
2026-01-27 14:28:40,294 - trading_bot.sentinels - INFO - Broad search returned 5 posts for 'coffee futures'
2026-01-27 14:28:40,515 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 14:28:40,606 - trading_bot.sentinels - INFO - Strict search for 'Colombia coffee' returned 0 posts. Trying broad search...
2026-01-27 14:28:40,995 - trading_bot.sentinels - INFO - Broad search returned 10 posts for 'Colombia coffee'
2026-01-27 14:28:42,759 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 14:28:43,566 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 14:28:43,658 - trading_bot.sentinels - INFO - Strict search for 'US coffee tariffs' returned 0 posts. Trying broad search...
2026-01-27 14:28:43,943 - trading_bot.sentinels - INFO - Broad search returned 4 posts for 'US coffee tariffs'
2026-01-27 14:28:44,742 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 14:28:48,568 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 14:28:50,812 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 14:28:53,603 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 14:28:53,610 - trading_bot.sentinels - WARNING - X volume spike: 22 vs mean 4 (>3.0x)
2026-01-27 14:28:53,610 - trading_bot.sentinels - INFO - X volume anomaly: z-score=6.8
2026-01-27 14:28:53,610 - trading_bot.sentinels - WARNING - ðŸš¨ X SENTINEL TRIGGERED: UNUSUAL X ACTIVITY SPIKE (22 posts, 3.0x baseline)
2026-01-27 14:28:53,611 - Orchestrator - WARNING - MICROSTRUCTURE ALERT: Liquidity Depletion: 39% of average
2026-01-27 14:28:53,926 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-01-27 14:28:53,933 - trading_bot.state_manager - INFO - Logged sentinel event from XSentimentSentinel to history.
2026-01-27 14:28:53,934 - Orchestrator - INFO - ðŸš¨ EMERGENCY CYCLE TRIGGERED by XSentimentSentinel: UNUSUAL X ACTIVITY SPIKE (22 posts, 3.0x baseline)
2026-01-27 14:28:54,138 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-01-27 14:28:54,145 - trading_bot.tms - INFO - TMS initialized at ./data/tms
2026-01-27 14:28:54,243 - trading_bot.heterogeneous_router - INFO - ResponseCache initialized with env=DEV, multiplier=0.25
2026-01-27 14:28:54,243 - trading_bot.heterogeneous_router - INFO - HeterogeneousRouter initialized. Available: ['xai', 'anthropic', 'openai', 'gemini']
2026-01-27 14:28:54,244 - trading_bot.agents - INFO - Heterogeneous routing enabled. Diversity: {'available_providers': ['xai', 'anthropic', 'openai', 'gemini'], 'diversity_score': 1.0}
2026-01-27 14:28:54,248 - trading_bot.tms - INFO - TMS initialized at ./data/tms
2026-01-27 14:28:54,248 - trading_bot.agents - INFO - Coffee Council initialized. Agents: gemini-3-pro-preview, Master: gemini-3-pro-preview
2026-01-27 14:28:54,248 - root - INFO - Fetching 2 active futures contracts for KC on NYBOT...
2026-01-27 14:28:54,311 - root - INFO - Found 11 active tradeable contracts (>=45d exp). Returning the first 2.
2026-01-27 14:28:54,311 - Orchestrator - INFO - Targeting contract: KCH6 (202603)
2026-01-27 14:28:58,433 - trading_bot.agents - INFO - Running Specialized Cycle triggered by XSentimentSentinel...
2026-01-27 14:28:58,434 - trading_bot.agents - INFO - Routing to macro (Reason: Default routing)
2026-01-27 14:28:58,434 - trading_bot.agents - INFO - Waking up macro...
2026-01-27 14:28:58,714 - trading_bot.agents - INFO - Retrieved 3 TMS insights for macro.
2026-01-27 14:28:58,715 - trading_bot.agents - INFO - [macro] Phase 1: Gathering grounded data...
2026-01-27 14:28:58,715 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 14:29:23,232 - trading_bot.weighted_voting - INFO - Market Regime Detected: HIGH_VOLATILITY
2026-01-27 14:29:23,234 - trading_bot.weighted_voting - INFO - ML confidence normalized: 0.55 -> 0.53
2026-01-27 14:29:23,234 - trading_bot.weighted_voting - WARNING - Regime=HIGH_VOLATILITY: Zeroing ML weight (structural break risk)
2026-01-27 14:29:23,234 - trading_bot.weighted_voting - INFO - ML Blend: Reliability=0.50, DynamicWeight=0.00, Regime=HIGH_VOLATILITY
2026-01-27 14:29:23,234 - trading_bot.weighted_voting - INFO - Weighted Vote: BEARISH (score=-0.253, dominant=volatility)
2026-01-27 14:29:23,234 - trading_bot.weighted_voting - INFO - Vote Breakdown: [
  {
    "agent": "agronomist",
    "direction": "BEARISH",
    "confidence": 0.85,
    "domain_weight": 2.25,
    "reliability_mult": 0.5,
    "final_weight": 1.12,
    "contribution": -0.956
  },
  {
    "agent": "macro",
    "direction": "BULLISH",
    "confidence": 0.8,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.6
  },
  {
    "agent": "geopolitical",
    "direction": "BEARISH",
    "confidence": 0.85,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": -0.637
  },
  {
    "agent": "supply_chain",
    "direction": "BULLISH",
    "confidence": 0.95,
    "domain_weight": 1.0,
    "reliability_mult": 0.5,
    "final_weight": 0.5,
    "contribution": 0.475
  },
  {
    "agent": "inventory",
    "direction": "NEUTRAL",
    "confidence": 0.0,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.0
  },
  {
    "agent": "sentiment",
    "direction": "NEUTRAL",
    "confidence": 0.85,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.0
  },
  {
    "agent": "technical",
    "direction": "NEUTRAL",
    "confidence": 0.45,
    "domain_weight": 1.0499999999999998,
    "reliability_mult": 0.5,
    "final_weight": 0.52,
    "contribution": 0.0
  },
  {
    "agent": "volatility",
    "direction": "BEARISH",
    "confidence": 0.95,
    "domain_weight": 2.25,
    "reliability_mult": 0.5,
    "final_weight": 1.12,
    "contribution": -1.069
  }
]
2026-01-27 14:29:40,371 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-01-27 14:29:51,229 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 14:29:51,520 - trading_bot.tms - INFO - TMS: Stored insight from macro
2026-01-27 14:29:56,065 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 14:29:56,193 - trading_bot.weighted_voting - INFO - Market Regime Detected: RANGE_BOUND
2026-01-27 14:29:56,194 - trading_bot.weighted_voting - INFO - ML confidence normalized: 0.50 -> 0.50
2026-01-27 14:29:56,194 - trading_bot.weighted_voting - INFO - ML Blend: Reliability=0.50, DynamicWeight=0.15, Regime=RANGE_BOUND
2026-01-27 14:29:56,194 - trading_bot.weighted_voting - INFO - Weighted Vote: NEUTRAL (score=0.000, dominant=None)
2026-01-27 14:29:56,194 - trading_bot.weighted_voting - INFO - Vote Breakdown: [
  {
    "agent": "agronomist",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.0
  },
  {
    "agent": "macro",
    "direction": "NEUTRAL",
    "confidence": 0.7,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.0
  },
  {
    "agent": "geopolitical",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.0
  },
  {
    "agent": "supply_chain",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.0,
    "reliability_mult": 0.5,
    "final_weight": 0.5,
    "contribution": 0.0
  },
  {
    "agent": "inventory",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.0
  },
  {
    "agent": "sentiment",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.0
  },
  {
    "agent": "technical",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 2.25,
    "reliability_mult": 0.5,
    "final_weight": 1.12,
    "contribution": 0.0
  },
  {
    "agent": "volatility",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.0499999999999998,
    "reliability_mult": 0.5,
    "final_weight": 0.52,
    "contribution": 0.0
  },
  {
    "agent": "latest_ml_signals",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.0,
    "reliability_mult": 0.5,
    "final_weight": 0.5,
    "contribution": 0.0
  }
]
2026-01-27 14:30:00,074 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 14:30:06,085 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 14:30:06,090 - trading_bot.signal_generator - INFO - Council Decision KCZ6 (202612): NEUTRAL (0.7)
2026-01-27 14:30:06,091 - root - INFO - Logged Council decision for KCZ6 (202612)
2026-01-27 14:30:06,098 - trading_bot.signal_generator - INFO - Persisted 8 agent reports to state.
2026-01-27 14:30:06,101 - trading_bot.signal_generator - INFO - Persisted latest ML signals to state.
2026-01-27 14:30:06,109 - trading_bot.model_signals - INFO - Successfully logged signal: Contract=202603, Signal=VOLATILITY
2026-01-27 14:30:06,112 - trading_bot.model_signals - INFO - Successfully logged signal: Contract=202605, Signal=VOLATILITY
2026-01-27 14:30:06,115 - trading_bot.model_signals - INFO - Successfully logged signal: Contract=202607, Signal=VOLATILITY
2026-01-27 14:30:06,117 - trading_bot.model_signals - INFO - Successfully logged signal: Contract=202609, Signal=VOLATILITY
2026-01-27 14:30:06,120 - trading_bot.model_signals - INFO - Successfully logged signal: Contract=202612, Signal=NEUTRAL
2026-01-27 14:30:06,120 - OrderManager - INFO - Generated 5 signals: [{'contract_month': '202603', 'prediction_type': 'VOLATILITY', 'level': 'HIGH', 'direction': 'VOLATILITY', 'reason': 'Volatility Play: Drought conditions developing', 'regime': 'HIGH_VOLATILITY', 'volatility_sentiment': 'NEUTRAL', 'confidence': 0.65, 'price': 360.25, 'sma_200': 346.73100036621094, 'expected_price': 362.42, 'predicted_return': 0.006023298332008125}, {'contract_month': '202605', 'prediction_type': 'VOLATILITY', 'level': 'HIGH', 'direction': 'VOLATILITY', 'reason': 'Volatility Play: Drought conditions developing', 'regime': 'HIGH_VOLATILITY', 'volatility_sentiment': 'BEARISH', 'confidence': 0.65, 'price': 341.25, 'sma_200': 346.73100036621094, 'expected_price': 341.25, 'predicted_return': 0.00559896291470702}, {'contract_month': '202607', 'prediction_type': 'VOLATILITY', 'level': 'HIGH', 'direction': 'VOLATILITY', 'reason': 'Volatility Play: Drought conditions developing', 'regime': 'RANGE_BOUND', 'volatility_sentiment': 'NEUTRAL', 'confidence': 0.0, 'price': 333.95001220703125, 'sma_200': 346.73100036621094, 'expected_price': 335.66732371114256, 'predicted_return': 0.0051424208454486685}, {'contract_month': '202609', 'prediction_type': 'VOLATILITY', 'level': 'HIGH', 'direction': 'VOLATILITY', 'reason': 'Volatility Play: Drought conditions developing', 'regime': 'RANGE_BOUND', 'volatility_sentiment': 'NEUTRAL', 'confidence': 0.7, 'price': 327.79998779296875, 'sma_200': 346.73100036621094, 'expected_price': 327.8, 'predicted_return': 0.004669288804207896}, {'contract_month': '202612', 'prediction_type': 'DIRECTIONAL', 'direction': 'NEUTRAL', 'reason': 'Both the Permabear and Permabull present strong arguments with valid points. The Permabear emphasizes improving Brazilian weather conditions anticipated to positively impact the harvest, reducing future price pressures. The Permabear also highlights technical resistance and overbought conditions, suggesting short-term downward pressure. On the other hand, the Permabull stresses persistent structural supply issues due to port bottlenecks and macroeconomic variables like BRL strength that restrict immediate farmer selling. Given the volatility is expensive, it makes bullish positions costly, but on the flip side, it reflects market uncertainty. The consensus is BEARISH, but the ML model, though NEUTRAL, signals a bull regime, albeit with modest confidence. Given these mixed signals, with the market showing a slight upwards momentum but in a range-bound scenario and the high cost of volatility, maintaining a NEUTRAL stance is prudent. Avoid directional bets until clearer market direction emerges.', 'regime': 'HIGH_VOLATILITY', 'volatility_sentiment': 'BEARISH', 'confidence': 0.7, 'price': 322.0, 'sma_200': 346.73100036621094, 'expected_price': 323.39645846956745, 'predicted_return': 0.004336827545240363}]
2026-01-27 14:30:06,120 - root - INFO - Fetching 5 active futures contracts for KC on NYBOT...
2026-01-27 14:30:06,182 - root - INFO - Found 11 active tradeable contracts (>=45d exp). Returning the first 5.
2026-01-27 14:30:06,279 - OrderManager - INFO - Account Value for Sizing: $50,000.00
2026-01-27 14:30:06,279 - OrderManager - INFO - Requesting snapshot market price for KCH6...
2026-01-27 14:30:06,322 - OrderManager - INFO - Using bid/ask midpoint for KCH6: 359.075
2026-01-27 14:30:06,322 - root - INFO - Fetching option chain for future KCH6...
2026-01-27 14:30:06,366 - root - INFO - --- Defining HIGH Volatility Strategy for KCH6 ---
2026-01-27 14:30:06,367 - trading_bot.position_sizer - INFO - Dynamic Sizing: Base=1 * Conf(0.82) * Vol(1.0) * Heat(1.0) = 0
2026-01-27 14:30:06,367 - root - INFO - --- Pricing individual legs and creating order object ---
2026-01-27 14:30:06,640 - root - INFO - Fetching market data for option: KOH6 C3.6
2026-01-27 14:30:08,643 - root - INFO - Using IBKR Model Greeks IV: 34.09%
2026-01-27 14:30:08,647 - root - INFO - Theoretical price calculated for C @ 360.0: {'price': np.float64(9.7365), 'delta': np.float64(0.5084), 'gamma': np.float64(0.0161), 'vega': np.float64(29.0334), 'theta': np.float64(-0.3489)}
2026-01-27 14:30:08,648 - root - INFO -   -> Leg Theoretical Price (BUY): KOH6 C3.6 @ 9.74
2026-01-27 14:30:08,648 - root - INFO - Fetching market data for option: KOH6 P3.6
2026-01-27 14:30:10,650 - root - INFO - Using IBKR Model Greeks IV: 34.09%
2026-01-27 14:30:10,653 - root - INFO - Theoretical price calculated for P @ 360.0: {'price': np.float64(10.0702), 'delta': np.float64(-0.4916), 'gamma': np.float64(0.0161), 'vega': np.float64(29.0334), 'theta': np.float64(-0.3504)}
2026-01-27 14:30:10,654 - root - INFO -   -> Leg Theoretical Price (BUY): KOH6 P3.6 @ 10.07
2026-01-27 14:30:10,654 - root - INFO - Net Theoretical: 19.81, Market Spread: 0.61
2026-01-27 14:30:10,654 - root - INFO - Adaptive Strategy: Start @ 19.72, Cap/Floor @ 20.31
2026-01-27 14:30:10,655 - root - INFO - Creating Limit Order for BUY 1 @ 19.72 (Adaptive Cap: 20.31).
2026-01-27 14:30:10,655 - root - INFO - Using Custom Adaptive Logic (IBKR Algo Disabled).
2026-01-27 14:30:10,656 - root - INFO - Assigned OrderRef: a8de17d0-927a-4fb3-828c-fd7b716236b9
2026-01-27 14:30:10,656 - OrderManager - INFO - Successfully queued order for KCH6.
2026-01-27 14:30:10,656 - OrderManager - INFO - Requesting snapshot market price for KCK6...
2026-01-27 14:30:10,910 - OrderManager - INFO - Using bid/ask midpoint for KCK6: 340.175
2026-01-27 14:30:10,911 - root - INFO - Fetching option chain for future KCK6...
2026-01-27 14:30:11,228 - root - INFO - --- Defining HIGH Volatility Strategy for KCK6 ---
2026-01-27 14:30:11,230 - trading_bot.position_sizer - INFO - Dynamic Sizing: Base=1 * Conf(0.82) * Vol(0.6) * Heat(1.0) = 0
2026-01-27 14:30:11,230 - root - INFO - --- Pricing individual legs and creating order object ---
2026-01-27 14:30:11,523 - root - INFO - Fetching market data for option: KOK6 C3.4
2026-01-27 14:30:12,540 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-01-27 14:30:13,525 - root - INFO - Using IBKR Model Greeks IV: 34.27%
2026-01-27 14:30:13,527 - root - INFO - Theoretical price calculated for C @ 340.0: {'price': np.float64(22.1657), 'delta': np.float64(0.5526), 'gamma': np.float64(0.0076), 'vega': np.float64(60.1635), 'theta': np.float64(-0.1594)}
2026-01-27 14:30:13,527 - root - INFO -   -> Leg Theoretical Price (BUY): KOK6 C3.4 @ 22.17
2026-01-27 14:30:13,527 - root - INFO - Fetching market data for option: KOK6 P3.4
2026-01-27 14:30:15,528 - root - INFO - Using IBKR Model Greeks IV: 34.27%
2026-01-27 14:30:15,530 - root - INFO - Theoretical price calculated for P @ 340.0: {'price': np.float64(19.2815), 'delta': np.float64(-0.4474), 'gamma': np.float64(0.0076), 'vega': np.float64(60.1635), 'theta': np.float64(-0.16)}
2026-01-27 14:30:15,530 - root - INFO -   -> Leg Theoretical Price (BUY): KOK6 P3.4 @ 19.28
2026-01-27 14:30:15,532 - root - INFO - Net Theoretical: 41.45, Market Spread: 0.97
2026-01-27 14:30:15,532 - root - INFO - Adaptive Strategy: Start @ 41.14, Cap/Floor @ 41.95
2026-01-27 14:30:15,533 - root - INFO - Creating Limit Order for BUY 1 @ 41.14 (Adaptive Cap: 41.95).
2026-01-27 14:30:15,533 - root - INFO - Using Custom Adaptive Logic (IBKR Algo Disabled).
2026-01-27 14:30:15,535 - root - INFO - Assigned OrderRef: 26114bfc-70f6-4d82-a62c-1870241193a6
2026-01-27 14:30:15,536 - OrderManager - INFO - Successfully queued order for KCK6.
2026-01-27 14:30:15,536 - OrderManager - INFO - Requesting snapshot market price for KCN6...
2026-01-27 14:30:15,855 - OrderManager - INFO - Using bid/ask midpoint for KCN6: 332.925
2026-01-27 14:30:15,856 - root - INFO - Fetching option chain for future KCN6...
2026-01-27 14:30:15,955 - root - INFO - --- Defining HIGH Volatility Strategy for KCN6 ---
2026-01-27 14:30:15,957 - trading_bot.position_sizer - INFO - Dynamic Sizing: Base=1 * Conf(0.50) * Vol(1.0) * Heat(1.0) = 0
2026-01-27 14:30:15,957 - root - INFO - --- Pricing individual legs and creating order object ---
2026-01-27 14:30:16,320 - root - INFO - Fetching market data for option: KON6 C3.325
2026-01-27 14:30:18,322 - root - INFO - Using IBKR Model Greeks IV: 34.54%
2026-01-27 14:30:18,323 - root - INFO - Theoretical price calculated for C @ 332.5: {'price': np.float64(30.4799), 'delta': np.float64(0.5723), 'gamma': np.float64(0.0056), 'vega': np.float64(79.7395), 'theta': np.float64(-0.1188)}
2026-01-27 14:30:18,324 - root - INFO -   -> Leg Theoretical Price (BUY): KON6 C3.325 @ 30.48
2026-01-27 14:30:18,325 - root - INFO - Fetching market data for option: KON6 P3.325
2026-01-27 14:30:20,326 - root - INFO - Using IBKR Model Greeks IV: 34.54%
2026-01-27 14:30:20,328 - root - INFO - Theoretical price calculated for P @ 332.5: {'price': np.float64(25.136), 'delta': np.float64(-0.4277), 'gamma': np.float64(0.0056), 'vega': np.float64(79.7395), 'theta': np.float64(-0.1196)}
2026-01-27 14:30:20,328 - root - INFO -   -> Leg Theoretical Price (BUY): KON6 P3.325 @ 25.14
2026-01-27 14:30:20,329 - root - INFO - Net Theoretical: 55.62, Market Spread: 1.63
2026-01-27 14:30:20,329 - root - INFO - Adaptive Strategy: Start @ 55.07, Cap/Floor @ 56.12
2026-01-27 14:30:20,329 - root - INFO - Creating Limit Order for BUY 1 @ 55.07 (Adaptive Cap: 56.12).
2026-01-27 14:30:20,329 - root - INFO - Using Custom Adaptive Logic (IBKR Algo Disabled).
2026-01-27 14:30:20,329 - root - INFO - Assigned OrderRef: 41a08f03-a4ca-465f-a5c7-ad30d11e5967
2026-01-27 14:30:20,329 - OrderManager - INFO - Successfully queued order for KCN6.
2026-01-27 14:30:20,329 - OrderManager - INFO - Requesting snapshot market price for KCU6...
2026-01-27 14:30:20,542 - OrderManager - INFO - Using bid/ask midpoint for KCU6: 326.70000000000005
2026-01-27 14:30:20,543 - root - INFO - Fetching option chain for future KCU6...
2026-01-27 14:30:20,600 - root - INFO - --- Defining HIGH Volatility Strategy for KCU6 ---
2026-01-27 14:30:20,602 - trading_bot.position_sizer - INFO - Dynamic Sizing: Base=1 * Conf(0.85) * Vol(1.0) * Heat(1.0) = 0
2026-01-27 14:30:20,602 - root - INFO - --- Pricing individual legs and creating order object ---
2026-01-27 14:30:20,868 - root - INFO - Fetching market data for option: KOU6 C3.275
2026-01-27 14:30:22,870 - root - INFO - Using IBKR Model Greeks IV: 35.11%
2026-01-27 14:30:22,872 - root - INFO - Theoretical price calculated for C @ 327.5: {'price': np.float64(36.5991), 'delta': np.float64(0.5809), 'gamma': np.float64(0.0046), 'vega': np.float64(94.2485), 'theta': np.float64(-0.0999)}
2026-01-27 14:30:22,872 - root - INFO -   -> Leg Theoretical Price (BUY): KOU6 C3.275 @ 36.60
2026-01-27 14:30:22,872 - root - INFO - Fetching market data for option: KOU6 P3.275
2026-01-27 14:30:24,875 - root - INFO - Using IBKR Model Greeks IV: 35.11%
2026-01-27 14:30:24,878 - root - INFO - Theoretical price calculated for P @ 327.5: {'price': np.float64(30.3342), 'delta': np.float64(-0.4191), 'gamma': np.float64(0.0046), 'vega': np.float64(94.2485), 'theta': np.float64(-0.1015)}
2026-01-27 14:30:24,878 - root - INFO -   -> Leg Theoretical Price (BUY): KOU6 P3.275 @ 30.33
2026-01-27 14:30:24,878 - root - INFO - Net Theoretical: 66.93, Market Spread: 4.70
2026-01-27 14:30:24,878 - root - INFO - Adaptive Strategy: Start @ 64.07, Cap/Floor @ 67.43
2026-01-27 14:30:24,879 - root - INFO - Creating Limit Order for BUY 1 @ 64.07 (Adaptive Cap: 67.43).
2026-01-27 14:30:24,879 - root - INFO - Using Custom Adaptive Logic (IBKR Algo Disabled).
2026-01-27 14:30:24,879 - root - INFO - Assigned OrderRef: d5778c62-6bbc-46a1-88bc-f4fa74116025
2026-01-27 14:30:24,879 - OrderManager - INFO - Successfully queued order for KCU6.
2026-01-27 14:30:24,879 - OrderManager - INFO - --- Order generation complete. 4 orders queued. ---
2026-01-27 14:30:25,173 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-01-27 14:30:25,371 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-01-27 14:30:25,562 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-01-27 14:30:25,563 - OrderManager - INFO - --- Placing and monitoring 4 orders ---
2026-01-27 14:30:25,563 - trading_bot.heterogeneous_router - INFO - ResponseCache initialized with env=DEV, multiplier=0.25
2026-01-27 14:30:25,563 - trading_bot.heterogeneous_router - INFO - HeterogeneousRouter initialized. Available: ['xai', 'anthropic', 'openai', 'gemini']
2026-01-27 14:30:25,564 - trading_bot.utils - INFO - ðŸ› ï¸ Configuring Market Data: Requesting LIVE (Type 1) Data.
2026-01-27 14:30:25,564 - OrderManager - INFO - Using pooled IB connection for order placement.
2026-01-27 14:30:25,564 - OrderManager - INFO - Sorted orders by expiration proximity.
2026-01-27 14:30:25,564 - OrderManager - INFO - Current Available Funds: $50,000.00 | Equity: $50,000.00
2026-01-27 14:30:27,749 - ib_insync.wrapper - ERROR - Error 162, reqId 37: Historical Market Data Service error message:No data of type EODChart is available for the exchange 'NYBOT' and the security type 'Futures Options' and '2 d' and '1 day', contract: Contract(secType='FOP', conId=744866487, symbol='KC', lastTradeDateOrContractMonth='20260211', strike=360.0, right='C', multiplier='37500', exchange='NYBOT', currency='USD', localSymbol='KOH6 C3.6', tradingClass='KO')
2026-01-27 14:30:27,837 - trading_bot.compliance - INFO - Resolved underlying future: KCH6 (conId: 624024277)
2026-01-27 14:30:27,953 - trading_bot.compliance - INFO - Volume from IB (KCH6): 143.0
2026-01-27 14:30:28,889 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 14:30:35,555 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-01-27 14:30:35,557 - trading_bot.compliance - ERROR - Compliance Guardian failed: Expecting value: line 1 column 1 (char 0)
2026-01-27 14:30:35,557 - OrderManager - WARNING - Order for  blocked by Compliance: Compliance Error: Expecting value: line 1 column 1 (char 0)
2026-01-27 14:30:36,387 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 14:30:36,396 - Orchestrator - INFO - Emergency Decision: NEUTRAL (0.65)
2026-01-27 14:30:36,398 - Orchestrator - INFO - Emergency Cycle concluded with no action: BULLISH (DIRECTIONAL)
2026-01-27 14:30:36,398 - Orchestrator - INFO - Post-cycle debounce set for 1800s
2026-01-27 14:30:37,618 - ib_insync.wrapper - ERROR - Error 162, reqId 43: Historical Market Data Service error message:No data of type EODChart is available for the exchange 'NYBOT' and the security type 'Futures Options' and '2 d' and '1 day', contract: Contract(secType='FOP', conId=743224036, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=340.0, right='C', multiplier='37500', exchange='NYBOT', currency='USD', localSymbol='KOK6 C3.4', tradingClass='KO')
2026-01-27 14:30:37,623 - trading_bot.compliance - INFO - Resolved underlying future: KCK6 (conId: 634760204)
2026-01-27 14:30:37,738 - trading_bot.compliance - INFO - Volume from IB (KCK6): 40.0
2026-01-27 14:30:45,249 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-01-27 14:30:45,253 - trading_bot.compliance - ERROR - Compliance Guardian failed: Expecting value: line 1 column 1 (char 0)
2026-01-27 14:30:45,253 - OrderManager - WARNING - Order for  blocked by Compliance: Compliance Error: Expecting value: line 1 column 1 (char 0)
2026-01-27 14:30:45,253 - OrderManager - INFO - Refreshing account summary for margin safety...
2026-01-27 14:30:45,253 - OrderManager - INFO - Refreshed Available Funds: $50,000.00
2026-01-27 14:30:47,312 - ib_insync.wrapper - ERROR - Error 162, reqId 49: Historical Market Data Service error message:No data of type EODChart is available for the exchange 'NYBOT' and the security type 'Futures Options' and '2 d' and '1 day', contract: Contract(secType='FOP', conId=759112986, symbol='KC', lastTradeDateOrContractMonth='20260612', strike=332.5, right='C', multiplier='37500', exchange='NYBOT', currency='USD', localSymbol='KON6 C3.325', tradingClass='KO')
2026-01-27 14:30:47,366 - trading_bot.compliance - INFO - Resolved underlying future: KCN6 (conId: 646040490)
2026-01-27 14:30:47,489 - trading_bot.compliance - INFO - Volume from IB (KCN6): 22.0
2026-01-27 14:30:54,478 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-01-27 14:30:54,484 - trading_bot.compliance - ERROR - Compliance Guardian failed: Expecting value: line 1 column 1 (char 0)
2026-01-27 14:30:54,485 - OrderManager - WARNING - Order for  blocked by Compliance: Compliance Error: Expecting value: line 1 column 1 (char 0)
2026-01-27 14:30:56,548 - ib_insync.wrapper - ERROR - Error 162, reqId 55: Historical Market Data Service error message:No data of type EODChart is available for the exchange 'NYBOT' and the security type 'Futures Options' and '2 d' and '1 day', contract: Contract(secType='FOP', conId=760187170, symbol='KC', lastTradeDateOrContractMonth='20260814', strike=327.5, right='C', multiplier='37500', exchange='NYBOT', currency='USD', localSymbol='KOU6 C3.275', tradingClass='KO')
2026-01-27 14:30:56,559 - trading_bot.compliance - INFO - Resolved underlying future: KCU6 (conId: 657732419)
2026-01-27 14:30:56,691 - trading_bot.compliance - INFO - Volume from IB (KCU6): 7.0
2026-01-27 14:30:56,693 - OrderManager - WARNING - Order for  blocked by Compliance: REJECTED - Article II: Order qty 1 exceeds 10% of volume (7).
2026-01-27 14:30:56,693 - OrderManager - WARNING - No orders fit within available funds or compliance limits. Aborting placement.
2026-01-27 14:30:56,693 - OrderManager - INFO - Order placement complete. Releasing event handlers.
2026-01-27 14:30:56,693 - OrderManager - INFO - >>> Combined task 'Generate and Execute Orders' complete <<<
2026-01-27 14:30:56,698 - Orchestrator - INFO - Next task 'close_stale_positions' scheduled for 2026-01-27 18:20:00 UTC. Waiting for 3.82 hours.
2026-01-27 14:50:56,511 - Orchestrator - WARNING - MICROSTRUCTURE ALERT: Liquidity Depletion: 36% of average
2026-01-27 14:50:56,846 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-01-27 15:04:05,298 - Orchestrator - WARNING - MICROSTRUCTURE ALERT: Liquidity Depletion: 39% of average
2026-01-27 15:04:05,533 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-01-27 15:21:07,508 - Orchestrator - WARNING - MICROSTRUCTURE ALERT: Liquidity Depletion: 39% of average
2026-01-27 15:21:07,827 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-01-27 15:28:08,636 - Orchestrator - WARNING - MICROSTRUCTURE ALERT: Liquidity Depletion: 37% of average
2026-01-27 15:28:08,971 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-01-27 15:42:10,627 - Orchestrator - WARNING - MICROSTRUCTURE ALERT: Liquidity Depletion: 36% of average
2026-01-27 15:42:10,938 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-01-27 15:55:12,492 - trading_bot.sentinels - WARNING - PRICE SENTINEL TRIGGERED: Price moved 1.58% in last hour (Threshold: 1.5%)
2026-01-27 15:55:12,504 - trading_bot.state_manager - INFO - Logged sentinel event from PriceSentinel to history.
2026-01-27 15:55:12,504 - Orchestrator - INFO - ðŸš¨ EMERGENCY CYCLE TRIGGERED by PriceSentinel: Price moved 1.58% in last hour (Threshold: 1.5%)
2026-01-27 15:55:12,817 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-01-27 15:55:12,916 - trading_bot.heterogeneous_router - INFO - ResponseCache initialized with env=DEV, multiplier=0.25
2026-01-27 15:55:12,916 - trading_bot.heterogeneous_router - INFO - HeterogeneousRouter initialized. Available: ['xai', 'anthropic', 'openai', 'gemini']
2026-01-27 15:55:12,916 - trading_bot.agents - INFO - Heterogeneous routing enabled. Diversity: {'available_providers': ['xai', 'anthropic', 'openai', 'gemini'], 'diversity_score': 1.0}
2026-01-27 15:55:12,926 - trading_bot.tms - INFO - TMS initialized at ./data/tms
2026-01-27 15:55:12,926 - trading_bot.agents - INFO - Coffee Council initialized. Agents: gemini-3-pro-preview, Master: gemini-3-pro-preview
2026-01-27 15:55:12,926 - root - INFO - Fetching 2 active futures contracts for KC on NYBOT...
2026-01-27 15:55:12,989 - root - INFO - Found 11 active tradeable contracts (>=45d exp). Returning the first 2.
2026-01-27 15:55:12,989 - Orchestrator - INFO - Targeting contract: KCH6 (202603)
2026-01-27 15:55:17,103 - trading_bot.agents - INFO - Running Specialized Cycle triggered by PriceSentinel...
2026-01-27 15:55:17,104 - trading_bot.agents - INFO - Routing to technical (Reason: Default routing)
2026-01-27 15:55:17,105 - trading_bot.agents - INFO - Waking up technical...
2026-01-27 15:55:17,457 - trading_bot.agents - INFO - Retrieved 3 TMS insights for technical.
2026-01-27 15:55:17,457 - trading_bot.agents - INFO - [technical] Phase 1: Gathering grounded data...
2026-01-27 15:55:17,457 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 15:56:35,764 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 15:56:36,189 - trading_bot.tms - INFO - TMS: Stored insight from technical
2026-01-27 15:56:36,305 - trading_bot.weighted_voting - INFO - Market Regime Detected: TRENDING
2026-01-27 15:56:36,305 - trading_bot.weighted_voting - INFO - ML confidence normalized: 0.50 -> 0.50
2026-01-27 15:56:36,305 - trading_bot.weighted_voting - INFO - ML Blend: Reliability=0.50, DynamicWeight=0.15, Regime=TRENDING
2026-01-27 15:56:36,305 - trading_bot.weighted_voting - INFO - Weighted Vote: NEUTRAL (score=0.112, dominant=technical)
2026-01-27 15:56:36,305 - trading_bot.weighted_voting - INFO - Vote Breakdown: [
  {
    "agent": "agronomist",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.0,
    "reliability_mult": 0.5,
    "final_weight": 0.5,
    "contribution": 0.0
  },
  {
    "agent": "macro",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 2.25,
    "reliability_mult": 0.5,
    "final_weight": 1.12,
    "contribution": 0.0
  },
  {
    "agent": "geopolitical",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.0
  },
  {
    "agent": "supply_chain",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.0,
    "reliability_mult": 0.5,
    "final_weight": 0.5,
    "contribution": 0.0
  },
  {
    "agent": "inventory",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.0,
    "reliability_mult": 0.5,
    "final_weight": 0.5,
    "contribution": 0.0
  },
  {
    "agent": "sentiment",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 2.0,
    "reliability_mult": 0.5,
    "final_weight": 1.0,
    "contribution": 0.0
  },
  {
    "agent": "technical",
    "direction": "BULLISH",
    "confidence": 0.67,
    "domain_weight": 3.0,
    "reliability_mult": 0.5,
    "final_weight": 1.5,
    "contribution": 1.005
  },
  {
    "agent": "volatility",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 2.5,
    "reliability_mult": 0.5,
    "final_weight": 1.25,
    "contribution": 0.0
  },
  {
    "agent": "latest_ml_signals",
    "direction": "NEUTRAL",
    "confidence": 0.5,
    "domain_weight": 1.0,
    "reliability_mult": 0.5,
    "final_weight": 0.5,
    "contribution": 0.0
  }
]
2026-01-27 15:56:54,838 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-01-27 15:57:06,797 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 15:57:13,640 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 15:57:13,652 - trading_bot.agents - INFO - Master decision vetoed by conflicting Weighted Vote (NEUTRAL)
2026-01-27 15:57:13,652 - Orchestrator - INFO - Emergency Decision: NEUTRAL (0.68)
2026-01-27 15:57:13,653 - Orchestrator - INFO - Emergency Cycle concluded with no action: NEUTRAL (DIRECTIONAL)
2026-01-27 15:57:13,653 - Orchestrator - INFO - Post-cycle debounce set for 1800s
2026-01-27 15:59:15,600 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 15:59:15,701 - trading_bot.sentinels - INFO - Strict search for 'arabica prices' returned 0 posts. Trying broad search...
2026-01-27 15:59:15,845 - trading_bot.sentinels - INFO - Broad search returned 1 posts for 'arabica prices'
2026-01-27 15:59:16,276 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 15:59:16,359 - trading_bot.sentinels - INFO - Strict search for 'Brazil coffee harvest' returned 0 posts. Trying broad search...
2026-01-27 15:59:16,492 - trading_bot.sentinels - INFO - Broad search returned 2 posts for 'Brazil coffee harvest'
2026-01-27 15:59:17,279 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 15:59:17,368 - trading_bot.sentinels - INFO - Strict search for 'coffee futures' returned 0 posts. Trying broad search...
2026-01-27 15:59:17,814 - trading_bot.sentinels - WARNING - Both strict and broad search returned 0 posts for 'coffee futures'
2026-01-27 15:59:19,114 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 15:59:19,203 - trading_bot.sentinels - INFO - Strict search for 'Colombia coffee' returned 0 posts. Trying broad search...
2026-01-27 15:59:19,557 - trading_bot.sentinels - INFO - Broad search returned 10 posts for 'Colombia coffee'
2026-01-27 15:59:19,908 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 15:59:20,285 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 15:59:21,799 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 15:59:21,889 - trading_bot.sentinels - INFO - Strict search for 'US coffee tariffs' returned 0 posts. Trying broad search...
2026-01-27 15:59:22,187 - trading_bot.sentinels - INFO - Broad search returned 3 posts for 'US coffee tariffs'
2026-01-27 15:59:22,526 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 15:59:25,281 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 15:59:28,804 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 15:59:28,814 - trading_bot.sentinels - WARNING - X volume spike: 16 vs mean 4 (>3.0x)
2026-01-27 15:59:28,814 - trading_bot.sentinels - INFO - X volume anomaly: z-score=4.3
2026-01-27 15:59:28,814 - trading_bot.sentinels - WARNING - ðŸš¨ X SENTINEL TRIGGERED: UNUSUAL X ACTIVITY SPIKE (16 posts, 3.0x baseline)
2026-01-27 15:59:28,814 - Orchestrator - INFO - POST_CYCLE debounce active until 2026-01-27 16:27:13.653268. Skipping XSentimentSentinel
