
  You can now view your Streamlit app in your browser.

  URL: http://0.0.0.0:8501

2026-02-03 17:44:20,444 - OrderManager - INFO - >>> Starting combined task: Generate and Execute Orders <<<
2026-02-03 17:44:20,444 - OrderManager - INFO - --- Starting order generation and queuing process ---
2026-02-03 17:44:20,445 - trading_bot.connection_pool - INFO - Connecting IB (dashboard_orders) ID: 169...
2026-02-03 17:44:20,627 - trading_bot.connection_pool - INFO - IB (dashboard_orders) connected successfully with ID 169
2026-02-03 17:44:20,635 - trading_bot.utils - INFO - ðŸ› ï¸ Configuring Market Data: Requesting LIVE (Type 1) Data.
2026-02-03 17:44:20,636 - OrderManager - INFO - Connected to IB for signal generation (purpose: dashboard_orders).
2026-02-03 17:44:20,636 - OrderManager - INFO - Step 1: Generating structured signals via Council...
2026-02-03 17:44:20,638 - trading_bot.signal_generator - INFO - --- Starting Multi-Agent Signal Generation (Council) ---
2026-02-03 17:44:20,824 - trading_bot.heterogeneous_router - INFO - ResponseCache initialized with env=DEV, multiplier=0.25
2026-02-03 17:44:20,825 - trading_bot.heterogeneous_router - INFO - HeterogeneousRouter initialized. Available: ['openai', 'gemini', 'xai', 'anthropic']
2026-02-03 17:44:20,825 - trading_bot.agents - INFO - Heterogeneous routing enabled. Diversity: {'available_providers': ['openai', 'gemini', 'xai', 'anthropic'], 'diversity_score': 1.0}
2026-02-03 17:44:20,845 - chromadb.telemetry.product.posthog - INFO - Anonymized telemetry enabled. See                     https://docs.trychroma.com/telemetry for more information.
2026-02-03 17:44:20,951 - trading_bot.tms - INFO - TMS initialized at ./data/tms
2026-02-03 17:44:20,957 - trading_bot.enhanced_brier - INFO - Loaded 208 predictions from ./data/enhanced_brier.json
2026-02-03 17:44:20,957 - trading_bot.agents - INFO - Loaded commodity profile: Coffee Arabica
2026-02-03 17:44:20,957 - trading_bot.observability - INFO - HallucinationDetector initialized for Coffee Arabica: 9 port tokens, 24 producer tokens
2026-02-03 17:44:20,957 - trading_bot.observability - INFO - ObservabilityHub initialized for Coffee Arabica
2026-02-03 17:44:20,957 - trading_bot.agents - INFO - Observability Hub initialized.
2026-02-03 17:44:20,957 - trading_bot.agents - INFO - Trading Council initialized for Coffee Arabica. Agents: gemini-3-pro-preview, Master: gemini-3-pro-preview
2026-02-03 17:44:20,957 - trading_bot.agents - INFO - Grounded data cache invalidated (0 entries cleared). Next cycle will perform fresh searches.
2026-02-03 17:44:20,958 - trading_bot.heterogeneous_router - INFO - ResponseCache initialized with env=DEV, multiplier=0.25
2026-02-03 17:44:20,958 - trading_bot.heterogeneous_router - INFO - HeterogeneousRouter initialized. Available: ['openai', 'gemini', 'xai', 'anthropic']
2026-02-03 17:44:20,958 - root - INFO - Fetching 5 active futures contracts for KC on NYBOT...
2026-02-03 17:44:21,137 - root - INFO - Skipping contract KCH6 (Exp: 20260319): Expires < 45 days.
2026-02-03 17:44:21,137 - root - INFO - Found 10 active tradeable contracts (>=45d exp). Returning the first 5.
2026-02-03 17:44:21,138 - trading_bot.market_data_provider - INFO - Building market context for 5 contracts...
2026-02-03 17:44:21,139 - trading_bot.market_data_provider - INFO - Building market context for KCK6 (202605)...
2026-02-03 17:44:21,139 - trading_bot.market_data_provider - INFO - Building market context for KCN6 (202607)...
2026-02-03 17:44:21,139 - trading_bot.market_data_provider - INFO - Building market context for KCU6 (202609)...
2026-02-03 17:44:22,872 - trading_bot.market_data_provider - INFO - Market context for KCK6 (202605): price=300.15, sma_200=335.65525, regime=HIGH_VOLATILITY, vol_5d=0.0330
2026-02-03 17:44:22,873 - trading_bot.market_data_provider - INFO - Building market context for KCZ6 (202612)...
2026-02-03 17:44:22,941 - trading_bot.market_data_provider - INFO - Market context for KCN6 (202607): price=294.65, sma_200=325.35875, regime=HIGH_VOLATILITY, vol_5d=0.0320
2026-02-03 17:44:22,942 - trading_bot.market_data_provider - INFO - Building market context for KCH7 (202703)...
2026-02-03 17:44:23,018 - trading_bot.market_data_provider - INFO - Market context for KCU6 (202609): price=289.80, sma_200=314.61725, regime=HIGH_VOLATILITY, vol_5d=0.0311
2026-02-03 17:44:23,530 - trading_bot.market_data_provider - INFO - Market context for KCH7 (202703): price=281.75, sma_200=300.64775000000003, regime=TRENDING, vol_5d=0.0301
2026-02-03 17:44:23,616 - trading_bot.market_data_provider - INFO - Market context for KCZ6 (202612): price=285.00, sma_200=306.30224999999996, regime=TRENDING, vol_5d=0.0306
2026-02-03 17:44:23,617 - trading_bot.market_data_provider - INFO - Market context complete: 5/5 contracts successful
2026-02-03 17:44:23,617 - trading_bot.signal_generator - INFO - Market context built for 5 contracts
2026-02-03 17:44:23,618 - trading_bot.signal_generator - INFO - Convening Council for KCK6 (202605) (Cycle: KC-d39fbaba)...
2026-02-03 17:44:23,619 - trading_bot.signal_generator - INFO - Convening Council for KCN6 (202607) (Cycle: KC-fcc04894)...
2026-02-03 17:44:23,619 - trading_bot.signal_generator - INFO - Convening Council for KCU6 (202609) (Cycle: KC-0dcd004c)...
2026-02-03 17:44:24,763 - trading_bot.agents - INFO - Retrieved 3 TMS insights for agronomist.
2026-02-03 17:44:24,763 - trading_bot.agents - INFO - [agronomist] Phase 1: Gathering grounded data...
2026-02-03 17:44:25,353 - trading_bot.agents - INFO - Retrieved 3 TMS insights for macro.
2026-02-03 17:44:25,354 - trading_bot.agents - INFO - [macro] Phase 1: Gathering grounded data...
2026-02-03 17:44:25,900 - trading_bot.agents - INFO - Retrieved 3 TMS insights for geopolitical.
2026-02-03 17:44:25,901 - trading_bot.agents - INFO - [geopolitical] Phase 1: Gathering grounded data...
2026-02-03 17:44:26,351 - trading_bot.agents - INFO - Retrieved 3 TMS insights for supply_chain.
2026-02-03 17:44:26,351 - trading_bot.agents - INFO - [supply_chain] Phase 1: Gathering grounded data...
2026-02-03 17:44:26,865 - trading_bot.agents - INFO - Retrieved 3 TMS insights for inventory.
2026-02-03 17:44:26,865 - trading_bot.agents - INFO - [inventory] Phase 1: Gathering grounded data...
2026-02-03 17:44:27,324 - trading_bot.agents - INFO - Retrieved 3 TMS insights for sentiment.
2026-02-03 17:44:27,324 - trading_bot.agents - INFO - [sentiment] Phase 1: Gathering grounded data...
2026-02-03 17:44:27,730 - trading_bot.agents - INFO - Retrieved 3 TMS insights for technical.
2026-02-03 17:44:27,730 - trading_bot.agents - INFO - [technical] Phase 1: Gathering grounded data...
2026-02-03 17:44:28,093 - trading_bot.agents - INFO - Retrieved 3 TMS insights for volatility.
2026-02-03 17:44:28,093 - trading_bot.agents - INFO - [volatility] Phase 1: Gathering grounded data...
2026-02-03 17:44:28,582 - trading_bot.agents - INFO - Retrieved 3 TMS insights for agronomist.
2026-02-03 17:44:28,582 - trading_bot.agents - INFO - [agronomist] Phase 1: Gathering grounded data...
2026-02-03 17:44:29,046 - trading_bot.agents - INFO - Retrieved 3 TMS insights for macro.
2026-02-03 17:44:29,047 - trading_bot.agents - INFO - [macro] Phase 1: Gathering grounded data...
2026-02-03 17:44:29,530 - trading_bot.agents - INFO - Retrieved 3 TMS insights for geopolitical.
2026-02-03 17:44:29,530 - trading_bot.agents - INFO - [geopolitical] Phase 1: Gathering grounded data...
2026-02-03 17:44:29,952 - trading_bot.agents - INFO - Retrieved 3 TMS insights for supply_chain.
2026-02-03 17:44:29,952 - trading_bot.agents - INFO - [supply_chain] Phase 1: Gathering grounded data...
2026-02-03 17:44:30,323 - trading_bot.agents - INFO - Retrieved 3 TMS insights for inventory.
2026-02-03 17:44:30,324 - trading_bot.agents - INFO - [inventory] Phase 1: Gathering grounded data...
2026-02-03 17:44:30,750 - trading_bot.agents - INFO - Retrieved 3 TMS insights for sentiment.
2026-02-03 17:44:30,750 - trading_bot.agents - INFO - [sentiment] Phase 1: Gathering grounded data...
2026-02-03 17:44:31,102 - trading_bot.agents - INFO - Retrieved 3 TMS insights for technical.
2026-02-03 17:44:31,102 - trading_bot.agents - INFO - [technical] Phase 1: Gathering grounded data...
2026-02-03 17:44:31,524 - trading_bot.agents - INFO - Retrieved 3 TMS insights for volatility.
2026-02-03 17:44:31,525 - trading_bot.agents - INFO - [volatility] Phase 1: Gathering grounded data...
2026-02-03 17:44:31,923 - trading_bot.agents - INFO - Retrieved 3 TMS insights for agronomist.
2026-02-03 17:44:31,924 - trading_bot.agents - INFO - [agronomist] Phase 1: Gathering grounded data...
2026-02-03 17:44:32,364 - trading_bot.agents - INFO - Retrieved 3 TMS insights for macro.
2026-02-03 17:44:32,364 - trading_bot.agents - INFO - [macro] Phase 1: Gathering grounded data...
2026-02-03 17:44:32,869 - trading_bot.agents - INFO - Retrieved 3 TMS insights for geopolitical.
2026-02-03 17:44:32,869 - trading_bot.agents - INFO - [geopolitical] Phase 1: Gathering grounded data...
2026-02-03 17:44:33,321 - trading_bot.agents - INFO - Retrieved 3 TMS insights for supply_chain.
2026-02-03 17:44:33,321 - trading_bot.agents - INFO - [supply_chain] Phase 1: Gathering grounded data...
2026-02-03 17:44:33,780 - trading_bot.agents - INFO - Retrieved 3 TMS insights for inventory.
2026-02-03 17:44:33,780 - trading_bot.agents - INFO - [inventory] Phase 1: Gathering grounded data...
2026-02-03 17:44:34,234 - trading_bot.agents - INFO - Retrieved 3 TMS insights for sentiment.
2026-02-03 17:44:34,234 - trading_bot.agents - INFO - [sentiment] Phase 1: Gathering grounded data...
2026-02-03 17:44:34,594 - trading_bot.agents - INFO - Retrieved 3 TMS insights for technical.
2026-02-03 17:44:34,594 - trading_bot.agents - INFO - [technical] Phase 1: Gathering grounded data...
2026-02-03 17:44:34,986 - trading_bot.agents - INFO - Retrieved 3 TMS insights for volatility.
2026-02-03 17:44:34,986 - trading_bot.agents - INFO - [volatility] Phase 1: Gathering grounded data...
2026-02-03 17:44:55,933 - trading_bot.rate_limiter - INFO - GlobalRateLimiter initialized: ['gemini', 'openai', 'anthropic', 'xai']
2026-02-03 17:44:59,285 - trading_bot.heterogeneous_router - WARNING - Attempt 1 failed for generate, retrying in 10.0s: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_requests_per_model, limit: 25, model: gemini-3-pro\nPlease retry in 801.092702ms.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_requests_per_model', 'quotaId': 'GenerateRequestsPerMinutePerProjectPerModel', 'quotaDimensions': {'location': 'global', 'model': 'gemini-3-pro'}, 'quotaValue': '25'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '0s'}]}}
2026-02-03 17:45:00,966 - trading_bot.observability - WARNING - Hallucination detected [MEDIUM]: sentiment - Cited source not found in retrieved documents
2026-02-03 17:45:07,113 - trading_bot.heterogeneous_router - WARNING - Attempt 1 failed for generate, retrying in 54.1s: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_requests_per_model, limit: 25, model: gemini-3-pro\nPlease retry in 52.972908387s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_requests_per_model', 'quotaId': 'GenerateRequestsPerMinutePerProjectPerModel', 'quotaDimensions': {'location': 'global', 'model': 'gemini-3-pro'}, 'quotaValue': '25'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '52s'}]}}
2026-02-03 17:45:07,647 - trading_bot.heterogeneous_router - WARNING - Attempt 1 failed for generate, retrying in 54.1s: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_requests_per_model, limit: 25, model: gemini-3-pro\nPlease retry in 52.438918047s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_requests_per_model', 'quotaId': 'GenerateRequestsPerMinutePerProjectPerModel', 'quotaDimensions': {'location': 'global', 'model': 'gemini-3-pro'}, 'quotaValue': '25'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '52s'}]}}
2026-02-03 17:45:09,499 - trading_bot.heterogeneous_router - WARNING - Attempt 2 failed for generate, retrying in 51.4s: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_requests_per_model, limit: 25, model: gemini-3-pro\nPlease retry in 50.587365076s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_requests_per_model', 'quotaId': 'GenerateRequestsPerMinutePerProjectPerModel', 'quotaDimensions': {'location': 'global', 'model': 'gemini-3-pro'}, 'quotaValue': '25'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '50s'}]}}
2026-02-03 17:45:10,060 - trading_bot.observability - WARNING - Hallucination detected [MEDIUM]: macro - Cited source not found in retrieved documents
2026-02-03 17:45:10,545 - trading_bot.tms - INFO - TMS: macro insight cues -> ['geopolitical', 'fundamentalist', 'technical', 'sentiment']
2026-02-03 17:45:11,769 - trading_bot.heterogeneous_router - WARNING - Attempt 1 failed for generate, retrying in 49.8s: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_requests_per_model, limit: 25, model: gemini-3-pro\nPlease retry in 48.316902522s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_requests_per_model', 'quotaId': 'GenerateRequestsPerMinutePerProjectPerModel', 'quotaDimensions': {'location': 'global', 'model': 'gemini-3-pro'}, 'quotaValue': '25'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '48s'}]}}
2026-02-03 17:45:14,080 - trading_bot.observability - WARNING - Hallucination detected [MEDIUM]: macro - Cited source not found in retrieved documents
2026-02-03 17:45:14,562 - trading_bot.tms - INFO - TMS: macro insight cues -> ['geopolitical', 'fundamentalist']
2026-02-03 17:45:15,703 - trading_bot.observability - WARNING - Hallucination detected [MEDIUM]: macro - Cited source not found in retrieved documents
2026-02-03 17:45:16,220 - trading_bot.tms - INFO - TMS: macro insight cues -> ['geopolitical', 'fundamentalist']
2026-02-03 17:45:17,920 - trading_bot.heterogeneous_router - WARNING - Attempt 1 failed for generate, retrying in 43.1s: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_requests_per_model, limit: 25, model: gemini-3-pro\nPlease retry in 42.1686934s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_requests_per_model', 'quotaId': 'GenerateRequestsPerMinutePerProjectPerModel', 'quotaDimensions': {'location': 'global', 'model': 'gemini-3-pro'}, 'quotaValue': '25'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '42s'}]}}
2026-02-03 17:45:18,980 - trading_bot.heterogeneous_router - WARNING - Attempt 1 failed for generate, retrying in 43.0s: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_requests_per_model, limit: 25, model: gemini-3-pro\nPlease retry in 41.108533725s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_requests_per_model', 'quotaId': 'GenerateRequestsPerMinutePerProjectPerModel', 'quotaDimensions': {'location': 'global', 'model': 'gemini-3-pro'}, 'quotaValue': '25'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '41s'}]}}
2026-02-03 17:45:19,493 - trading_bot.observability - WARNING - Hallucination detected [MEDIUM]: geopolitical - Cited source not found in retrieved documents
2026-02-03 17:45:22,617 - trading_bot.heterogeneous_router - WARNING - Attempt 1 failed for generate, retrying in 38.4s: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_requests_per_model, limit: 25, model: gemini-3-pro\nPlease retry in 37.471120404s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_requests_per_model', 'quotaId': 'GenerateRequestsPerMinutePerProjectPerModel', 'quotaDimensions': {'location': 'global', 'model': 'gemini-3-pro'}, 'quotaValue': '25'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '37s'}]}}
2026-02-03 17:45:27,621 - trading_bot.observability - WARNING - Hallucination detected [MEDIUM]: geopolitical - Cited source not found in retrieved documents
2026-02-03 17:45:28,386 - trading_bot.heterogeneous_router - WARNING - Attempt 1 failed for generate, retrying in 32.4s: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_requests_per_model, limit: 25, model: gemini-3-pro\nPlease retry in 31.701856475s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_requests_per_model', 'quotaId': 'GenerateRequestsPerMinutePerProjectPerModel', 'quotaDimensions': {'location': 'global', 'model': 'gemini-3-pro'}, 'quotaValue': '25'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '31s'}]}}
2026-02-03 17:45:28,440 - trading_bot.heterogeneous_router - WARNING - Attempt 1 failed for generate, retrying in 33.3s: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_requests_per_model, limit: 25, model: gemini-3-pro\nPlease retry in 31.646605442s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_requests_per_model', 'quotaId': 'GenerateRequestsPerMinutePerProjectPerModel', 'quotaDimensions': {'location': 'global', 'model': 'gemini-3-pro'}, 'quotaValue': '25'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '31s'}]}}
2026-02-03 17:45:28,678 - trading_bot.observability - WARNING - Hallucination detected [MEDIUM]: geopolitical - Cited source not found in retrieved documents
2026-02-03 17:45:42,975 - trading_bot.agents - WARNING - [technical] Output validation issues: ['Direction-evidence mismatch: BEARISH call but 7 bullish vs 1 bearish evidence words']
2026-02-03 17:45:42,976 - trading_bot.agents - WARNING - [technical] Validation issues: ['Direction-evidence mismatch: BEARISH call but 7 bullish vs 1 bearish evidence words']
2026-02-03 17:45:43,469 - trading_bot.tms - INFO - TMS: technical insight cues -> ['fundamentalist']
2026-02-03 17:46:01,359 - trading_bot.tms - INFO - TMS: technical insight cues -> ['fundamentalist']
2026-02-03 17:46:04,447 - trading_bot.tms - INFO - TMS: technical insight cues -> ['fundamentalist']
2026-02-03 17:46:12,558 - trading_bot.agents - WARNING - [agronomist] Output validation issues: ['Over-confidence: 0.95 with low evidence']
2026-02-03 17:46:12,560 - trading_bot.agents - WARNING - [agronomist] Validation issues: ['Over-confidence: 0.95 with low evidence']
2026-02-03 17:46:12,560 - trading_bot.agents - INFO - [agronomist] Confidence clamped: 0.95 â†’ 0.75
2026-02-03 17:46:14,344 - trading_bot.observability - WARNING - Hallucination detected [MEDIUM]: volatility - Cited source not found in retrieved documents
2026-02-03 17:46:23,451 - trading_bot.signal_generator - INFO - Agent research complete for KCN6 (202607): 8/8 returned non-default results
2026-02-03 17:46:23,452 - trading_bot.signal_generator - WARNING - HARD FRESHNESS GATE: 6/8 agents have critically stale data (>24h). Skipping KCN6 (202607).
2026-02-03 17:46:23,452 - trading_bot.signal_generator - INFO - Convening Council for KCZ6 (202612) (Cycle: KC-55e8b25f)...
2026-02-03 17:46:24,351 - trading_bot.agents - INFO - Retrieved 3 TMS insights for agronomist.
2026-02-03 17:46:24,352 - trading_bot.agents - INFO - [agronomist] Phase 1: Gathering grounded data...
2026-02-03 17:46:24,352 - trading_bot.agents - INFO - [agronomist] Using cached grounded data.
2026-02-03 17:46:25,323 - trading_bot.agents - INFO - Retrieved 3 TMS insights for macro.
2026-02-03 17:46:25,323 - trading_bot.agents - INFO - [macro] Phase 1: Gathering grounded data...
2026-02-03 17:46:25,323 - trading_bot.agents - INFO - [macro] Using cached grounded data.
2026-02-03 17:46:25,325 - trading_bot.observability - WARNING - Hallucination detected [MEDIUM]: macro - Cited source not found in retrieved documents
2026-02-03 17:46:25,818 - trading_bot.tms - INFO - TMS: macro insight cues -> ['geopolitical', 'fundamentalist']
2026-02-03 17:46:26,291 - trading_bot.agents - INFO - Retrieved 3 TMS insights for geopolitical.
2026-02-03 17:46:26,291 - trading_bot.agents - INFO - [geopolitical] Phase 1: Gathering grounded data...
2026-02-03 17:46:26,291 - trading_bot.agents - INFO - [geopolitical] Using cached grounded data.
2026-02-03 17:46:26,294 - trading_bot.observability - WARNING - Hallucination detected [MEDIUM]: geopolitical - Cited source not found in retrieved documents
2026-02-03 17:46:27,155 - trading_bot.agents - INFO - Retrieved 3 TMS insights for supply_chain.
2026-02-03 17:46:27,155 - trading_bot.agents - INFO - [supply_chain] Phase 1: Gathering grounded data...
2026-02-03 17:46:27,155 - trading_bot.agents - INFO - [supply_chain] Using cached grounded data.
2026-02-03 17:46:28,012 - trading_bot.agents - INFO - Retrieved 3 TMS insights for inventory.
2026-02-03 17:46:28,012 - trading_bot.agents - INFO - [inventory] Phase 1: Gathering grounded data...
2026-02-03 17:46:28,012 - trading_bot.agents - INFO - [inventory] Using cached grounded data.
2026-02-03 17:46:28,819 - trading_bot.agents - INFO - Retrieved 3 TMS insights for sentiment.
2026-02-03 17:46:28,819 - trading_bot.agents - INFO - [sentiment] Phase 1: Gathering grounded data...
2026-02-03 17:46:28,819 - trading_bot.agents - INFO - [sentiment] Using cached grounded data.
2026-02-03 17:46:29,645 - trading_bot.agents - INFO - Retrieved 3 TMS insights for technical.
2026-02-03 17:46:29,645 - trading_bot.agents - INFO - [technical] Phase 1: Gathering grounded data...
2026-02-03 17:46:30,080 - trading_bot.agents - INFO - Retrieved 3 TMS insights for volatility.
2026-02-03 17:46:30,080 - trading_bot.agents - INFO - [volatility] Phase 1: Gathering grounded data...
2026-02-03 17:46:30,085 - trading_bot.agents - WARNING - [volatility] Output validation issues: ['Direction-evidence mismatch: BEARISH call but 8 bullish vs 1 bearish evidence words']
2026-02-03 17:46:30,085 - trading_bot.agents - WARNING - [volatility] Validation issues: ['Direction-evidence mismatch: BEARISH call but 8 bullish vs 1 bearish evidence words']
2026-02-03 17:46:30,086 - trading_bot.observability - WARNING - Hallucination detected [MEDIUM]: volatility - Cited source not found in retrieved documents
2026-02-03 17:46:31,094 - trading_bot.observability - WARNING - Hallucination detected [MEDIUM]: volatility - Cited source not found in retrieved documents
2026-02-03 17:46:33,145 - trading_bot.signal_generator - INFO - Agent research complete for KCK6 (202605): 8/8 returned non-default results
2026-02-03 17:46:33,146 - trading_bot.signal_generator - WARNING - HARD FRESHNESS GATE: 6/8 agents have critically stale data (>24h). Skipping KCK6 (202605).
2026-02-03 17:46:33,146 - trading_bot.signal_generator - INFO - Convening Council for KCH7 (202703) (Cycle: KC-5a28ad75)...
2026-02-03 17:46:33,302 - trading_bot.signal_generator - INFO - Agent research complete for KCU6 (202609): 8/8 returned non-default results
2026-02-03 17:46:33,303 - trading_bot.signal_generator - WARNING - HARD FRESHNESS GATE: 6/8 agents have critically stale data (>24h). Skipping KCU6 (202609).
2026-02-03 17:46:34,108 - trading_bot.agents - INFO - Retrieved 3 TMS insights for agronomist.
2026-02-03 17:46:34,108 - trading_bot.agents - INFO - [agronomist] Phase 1: Gathering grounded data...
2026-02-03 17:46:34,108 - trading_bot.agents - INFO - [agronomist] Using cached grounded data.
2026-02-03 17:46:35,012 - trading_bot.agents - INFO - Retrieved 3 TMS insights for macro.
2026-02-03 17:46:35,012 - trading_bot.agents - INFO - [macro] Phase 1: Gathering grounded data...
2026-02-03 17:46:35,012 - trading_bot.agents - INFO - [macro] Using cached grounded data.
2026-02-03 17:46:35,014 - trading_bot.observability - WARNING - Hallucination detected [MEDIUM]: macro - Cited source not found in retrieved documents
2026-02-03 17:46:35,478 - trading_bot.tms - INFO - TMS: macro insight cues -> ['geopolitical', 'fundamentalist']
2026-02-03 17:46:35,862 - trading_bot.agents - INFO - Retrieved 3 TMS insights for geopolitical.
2026-02-03 17:46:35,862 - trading_bot.agents - INFO - [geopolitical] Phase 1: Gathering grounded data...
2026-02-03 17:46:35,862 - trading_bot.agents - INFO - [geopolitical] Using cached grounded data.
2026-02-03 17:46:35,865 - trading_bot.observability - WARNING - Hallucination detected [MEDIUM]: geopolitical - Cited source not found in retrieved documents
2026-02-03 17:46:36,821 - trading_bot.agents - INFO - Retrieved 3 TMS insights for supply_chain.
2026-02-03 17:46:36,821 - trading_bot.agents - INFO - [supply_chain] Phase 1: Gathering grounded data...
2026-02-03 17:46:36,821 - trading_bot.agents - INFO - [supply_chain] Using cached grounded data.
2026-02-03 17:46:37,699 - trading_bot.agents - INFO - Retrieved 3 TMS insights for inventory.
2026-02-03 17:46:37,699 - trading_bot.agents - INFO - [inventory] Phase 1: Gathering grounded data...
2026-02-03 17:46:37,699 - trading_bot.agents - INFO - [inventory] Using cached grounded data.
2026-02-03 17:46:38,668 - trading_bot.agents - INFO - Retrieved 3 TMS insights for sentiment.
2026-02-03 17:46:38,668 - trading_bot.agents - INFO - [sentiment] Phase 1: Gathering grounded data...
2026-02-03 17:46:38,668 - trading_bot.agents - INFO - [sentiment] Using cached grounded data.
2026-02-03 17:46:39,663 - trading_bot.agents - INFO - Retrieved 3 TMS insights for technical.
2026-02-03 17:46:39,664 - trading_bot.agents - INFO - [technical] Phase 1: Gathering grounded data...
2026-02-03 17:46:40,188 - trading_bot.agents - INFO - Retrieved 3 TMS insights for volatility.
2026-02-03 17:46:40,188 - trading_bot.agents - INFO - [volatility] Phase 1: Gathering grounded data...
2026-02-03 17:47:39,938 - trading_bot.tms - INFO - TMS: technical insight cues -> ['fundamentalist']
2026-02-03 17:48:00,320 - trading_bot.agents - WARNING - [volatility] Output validation issues: ['Direction-evidence mismatch: BEARISH call but 5 bullish vs 2 bearish evidence words']
2026-02-03 17:48:00,321 - trading_bot.agents - WARNING - [volatility] Validation issues: ['Direction-evidence mismatch: BEARISH call but 5 bullish vs 2 bearish evidence words']
2026-02-03 17:48:00,851 - trading_bot.signal_generator - INFO - Agent research complete for KCZ6 (202612): 8/8 returned non-default results
2026-02-03 17:48:00,851 - trading_bot.signal_generator - WARNING - HARD FRESHNESS GATE: 6/8 agents have critically stale data (>24h). Skipping KCZ6 (202612).
2026-02-03 17:48:18,156 - trading_bot.signal_generator - INFO - Agent research complete for KCH7 (202703): 8/8 returned non-default results
2026-02-03 17:48:18,156 - trading_bot.signal_generator - WARNING - HARD FRESHNESS GATE: 6/8 agents have critically stale data (>24h). Skipping KCH7 (202703).
2026-02-03 17:48:18,162 - trading_bot.signal_generator - INFO - Persisted 8 agent reports to state.
2026-02-03 17:48:18,163 - OrderManager - INFO - Generated 5 signals: [{'price': 300.15, 'sma_200': 335.65525, 'expected_price': 300.15, 'predicted_return': 0.0, 'action': 'NEUTRAL', 'confidence': 0.0, 'reason': 'Hard Freshness Gate: 6 agents returned critically stale data (>24h)', 'regime': 'HIGH_VOLATILITY', 'volatility_5d': 0.03304794157175451, 'price_vs_sma': -0.10577892048463429, 'data_source': 'IBKR_LIVE', 'timestamp': '2026-02-03T17:44:22.872509+00:00', 'contract_month': '202605', 'prediction_type': 'NEUTRAL', 'direction': 'NEUTRAL'}, {'price': 294.65, 'sma_200': 325.35875, 'expected_price': 294.65, 'predicted_return': 0.0, 'action': 'NEUTRAL', 'confidence': 0.0, 'reason': 'Hard Freshness Gate: 6 agents returned critically stale data (>24h)', 'regime': 'HIGH_VOLATILITY', 'volatility_5d': 0.03202295499129043, 'price_vs_sma': -0.09438427581861564, 'data_source': 'IBKR_LIVE', 'timestamp': '2026-02-03T17:44:22.941018+00:00', 'contract_month': '202607', 'prediction_type': 'NEUTRAL', 'direction': 'NEUTRAL'}, {'price': 289.8, 'sma_200': 314.61725, 'expected_price': 289.8, 'predicted_return': 0.0, 'action': 'NEUTRAL', 'confidence': 0.0, 'reason': 'Hard Freshness Gate: 6 agents returned critically stale data (>24h)', 'regime': 'HIGH_VOLATILITY', 'volatility_5d': 0.031088271264750136, 'price_vs_sma': -0.07888076702723706, 'data_source': 'IBKR_LIVE', 'timestamp': '2026-02-03T17:44:23.018806+00:00', 'contract_month': '202609', 'prediction_type': 'NEUTRAL', 'direction': 'NEUTRAL'}, {'price': 285.0, 'sma_200': 306.30224999999996, 'expected_price': 285.0, 'predicted_return': 0.0, 'action': 'NEUTRAL', 'confidence': 0.0, 'reason': 'Hard Freshness Gate: 6 agents returned critically stale data (>24h)', 'regime': 'TRENDING', 'volatility_5d': 0.03064890345653643, 'price_vs_sma': -0.06954650186213115, 'data_source': 'IBKR_LIVE', 'timestamp': '2026-02-03T17:44:23.616585+00:00', 'contract_month': '202612', 'prediction_type': 'NEUTRAL', 'direction': 'NEUTRAL'}, {'price': 281.75, 'sma_200': 300.64775000000003, 'expected_price': 281.75, 'predicted_return': 0.0, 'action': 'NEUTRAL', 'confidence': 0.0, 'reason': 'Hard Freshness Gate: 6 agents returned critically stale data (>24h)', 'regime': 'TRENDING', 'volatility_5d': 0.030084651067555035, 'price_vs_sma': -0.06285678173211018, 'data_source': 'IBKR_LIVE', 'timestamp': '2026-02-03T17:44:23.530859+00:00', 'contract_month': '202703', 'prediction_type': 'NEUTRAL', 'direction': 'NEUTRAL'}]
2026-02-03 17:48:18,163 - root - INFO - Fetching 5 active futures contracts for KC on NYBOT...
2026-02-03 17:48:18,224 - root - INFO - Skipping contract KCH6 (Exp: 20260319): Expires < 45 days.
2026-02-03 17:48:18,225 - root - INFO - Found 10 active tradeable contracts (>=45d exp). Returning the first 5.
2026-02-03 17:48:18,225 - OrderManager - INFO - Skipping KCU6: Too deferred (226 days > 180 max)
2026-02-03 17:48:18,225 - OrderManager - INFO - Skipping KCZ6: Too deferred (317 days > 180 max)
2026-02-03 17:48:18,225 - OrderManager - INFO - Skipping KCH7: Too deferred (407 days > 180 max)
2026-02-03 17:48:18,225 - OrderManager - INFO - Date filter passed: 2/5 contracts within 180 days.
2026-02-03 17:48:18,225 - OrderManager - INFO - Checking liquidity for 2 contracts (parallel)...
2026-02-03 17:48:20,229 - OrderManager - INFO - Volume filter passed: 2 liquid candidates proceeding to signal generation.
2026-02-03 17:48:20,236 - ib_insync.wrapper - ERROR - Error 300, reqId 20: Can't find EId with tickerId:20
2026-02-03 17:48:20,237 - ib_insync.wrapper - ERROR - Error 300, reqId 21: Can't find EId with tickerId:21
2026-02-03 17:48:20,394 - OrderManager - INFO - Account Value for Sizing: $43,588.97
2026-02-03 17:48:20,394 - OrderManager - INFO - NO TRADE: 202605 â€” Direction=NEUTRAL, Type=NEUTRAL. Reason: Hard Freshness Gate: 6 agents returned critically stale data (>24h)
2026-02-03 17:48:20,394 - OrderManager - INFO - NO TRADE: 202607 â€” Direction=NEUTRAL, Type=NEUTRAL. Reason: Hard Freshness Gate: 6 agents returned critically stale data (>24h)
2026-02-03 17:48:20,394 - OrderManager - INFO - NO TRADE: 202609 â€” Direction=NEUTRAL, Type=NEUTRAL. Reason: Hard Freshness Gate: 6 agents returned critically stale data (>24h)
2026-02-03 17:48:20,394 - OrderManager - INFO - NO TRADE: 202612 â€” Direction=NEUTRAL, Type=NEUTRAL. Reason: Hard Freshness Gate: 6 agents returned critically stale data (>24h)
2026-02-03 17:48:20,395 - OrderManager - INFO - NO TRADE: 202703 â€” Direction=NEUTRAL, Type=NEUTRAL. Reason: Hard Freshness Gate: 6 agents returned critically stale data (>24h)
2026-02-03 17:48:20,395 - OrderManager - INFO - --- Order generation complete. 0 orders queued. ---
2026-02-03 17:48:20,728 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-02-03 17:48:20,731 - OrderManager - INFO - No orders were queued. Skipping placement step.
2026-02-03 17:48:20,732 - OrderManager - INFO - >>> Combined task 'Generate and Execute Orders' complete <<<
2026-02-03 17:48:21,027 - Utilities - INFO - Connection pool released successfully
2026-02-03 18:02:17,965 - trading_bot.utils - INFO - ðŸ› ï¸ Configuring Market Data: Requesting LIVE (Type 1) Data.
2026-02-03 18:02:44.378 Please replace `use_container_width` with `width`.

`use_container_width` will be removed after 2025-12-31.

For `use_container_width=True`, use `width='stretch'`. For `use_container_width=False`, use `width='content'`.
2026-02-03 18:36:58,107 - PerformanceAnalyzer - INFO - --- Consolidating Trade Ledgers ---
2026-02-03 18:36:58,108 - PerformanceAnalyzer - INFO - Loading main trade ledger: trade_ledger.csv
2026-02-03 18:36:58,112 - PerformanceAnalyzer - INFO - Found 3 archived trade ledger(s).
2026-02-03 18:36:58,112 - PerformanceAnalyzer - INFO - Loading archived ledger: trade_ledger_20260129_190559.csv
2026-02-03 18:36:58,117 - PerformanceAnalyzer - INFO - Loading archived ledger: trade_ledger_20260130_190602.csv
2026-02-03 18:36:58,123 - PerformanceAnalyzer - INFO - Loading archived ledger: trade_ledger_20260202_190601.csv
2026-02-03 18:36:58,135 - PerformanceAnalyzer - INFO - Consolidated a total of 44 trade records.
2026-02-03 18:36:58,363 - trading_bot.utils - INFO - ðŸ› ï¸ Configuring Market Data: Requesting LIVE (Type 1) Data.
/home/rodrigo/real_options/pages/4_Financials.py:284: UserWarning:

Converting to PeriodArray/Index representation will drop timezone information.

2026-02-03 18:37:09,882 - trading_bot.utils - INFO - ðŸ› ï¸ Configuring Market Data: Requesting LIVE (Type 1) Data.
2026-02-03 18:37:14,314 - trading_bot.tms - INFO - TMS initialized at ./data/tms
2026-02-03 18:37:14,365 - trading_bot.heterogeneous_router - INFO - ResponseCache initialized with env=DEV, multiplier=0.25
2026-02-03 18:37:14,367 - trading_bot.heterogeneous_router - INFO - HeterogeneousRouter initialized. Available: ['openai', 'gemini', 'xai', 'anthropic']
