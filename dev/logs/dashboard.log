
  You can now view your Streamlit app in your browser.

  URL: http://0.0.0.0:8502

2026-02-04 16:16:08,075 - OrderManager - INFO - >>> Starting combined task: Generate and Execute Orders <<<
2026-02-04 16:16:08,075 - OrderManager - INFO - --- Starting order generation and queuing process ---
2026-02-04 16:16:08,076 - trading_bot.connection_pool - INFO - Connecting IB (dashboard_orders) ID: 162...
2026-02-04 16:16:08,076 - ib_insync.client - INFO - Connecting to 127.0.0.1:7497 with clientId 162...
2026-02-04 16:16:08,077 - ib_insync.client - INFO - Connected
2026-02-04 16:16:08,080 - ib_insync.client - INFO - Logged on to server version 176
2026-02-04 16:16:08,121 - ib_insync.wrapper - INFO - Warning 2104, reqId -1: Market data farm connection is OK:usfuture.nj
2026-02-04 16:16:08,122 - ib_insync.wrapper - INFO - Warning 2104, reqId -1: Market data farm connection is OK:usfarm
2026-02-04 16:16:08,122 - ib_insync.wrapper - INFO - Warning 2106, reqId -1: HMDS data farm connection is OK:ushmds
2026-02-04 16:16:08,122 - ib_insync.wrapper - INFO - Warning 2158, reqId -1: Sec-def data farm connection is OK:secdefil
2026-02-04 16:16:08,122 - ib_insync.client - INFO - API connection ready
2026-02-04 16:16:08,123 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=745575714, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.35, right='C', multiplier='37500', currency='USD', localSymbol='KOK6 C3.35', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 16:16:08,164 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=743955683, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.15, right='P', multiplier='37500', currency='USD', localSymbol='KOK6 P3.15', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 16:16:08,165 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=725781080, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.2, right='P', multiplier='37500', currency='USD', localSymbol='KOK6 P3.2', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 16:16:08,165 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=745191382, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.075, right='P', multiplier='37500', currency='USD', localSymbol='KOK6 P3.075', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 16:16:08,165 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=756864355, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.225, right='C', multiplier='37500', currency='USD', localSymbol='KOK6 C3.225', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 16:16:08,165 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=757830282, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.275, right='C', multiplier='37500', currency='USD', localSymbol='KOK6 C3.275', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 16:16:08,165 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=745575700, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.125, right='P', multiplier='37500', currency='USD', localSymbol='KOK6 P3.125', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 16:16:08,165 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=732415567, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.3, right='C', multiplier='37500', currency='USD', localSymbol='KOK6 C3.3', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 16:16:08,326 - ib_insync.wrapper - INFO - updatePortfolio: PortfolioItem(contract=FuturesOption(conId=745191382, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=307.5, right='P', multiplier='37500', primaryExchange='NYBOT', currency='USD', localSymbol='KOK6 P3.075', tradingClass='KO'), position=0.0, marketPrice=1.7976931348623157e+308, marketValue=1.7976931348623157e+308, averageCost=1.7976931348623157e+308, unrealizedPNL=0.0, realizedPNL=0.0, account='DUM450165')
2026-02-04 16:16:08,326 - ib_insync.wrapper - INFO - updatePortfolio: PortfolioItem(contract=FuturesOption(conId=745575700, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=312.5, right='P', multiplier='37500', primaryExchange='NYBOT', currency='USD', localSymbol='KOK6 P3.125', tradingClass='KO'), position=0.0, marketPrice=1.7976931348623157e+308, marketValue=1.7976931348623157e+308, averageCost=1.7976931348623157e+308, unrealizedPNL=0.0, realizedPNL=0.0, account='DUM450165')
2026-02-04 16:16:08,326 - ib_insync.wrapper - INFO - updatePortfolio: PortfolioItem(contract=FuturesOption(conId=743955683, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=315.0, right='P', multiplier='37500', primaryExchange='NYBOT', currency='USD', localSymbol='KOK6 P3.15', tradingClass='KO'), position=0.0, marketPrice=1.7976931348623157e+308, marketValue=1.7976931348623157e+308, averageCost=1.7976931348623157e+308, unrealizedPNL=0.0, realizedPNL=0.0, account='DUM450165')
2026-02-04 16:16:08,326 - ib_insync.wrapper - INFO - updatePortfolio: PortfolioItem(contract=FuturesOption(conId=725781080, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=320.0, right='P', multiplier='37500', primaryExchange='NYBOT', currency='USD', localSymbol='KOK6 P3.2', tradingClass='KO'), position=0.0, marketPrice=1.7976931348623157e+308, marketValue=1.7976931348623157e+308, averageCost=1.7976931348623157e+308, unrealizedPNL=0.0, realizedPNL=0.0, account='DUM450165')
2026-02-04 16:16:08,327 - ib_insync.wrapper - INFO - updatePortfolio: PortfolioItem(contract=FuturesOption(conId=756864355, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=322.5, right='C', multiplier='37500', primaryExchange='NYBOT', currency='USD', localSymbol='KOK6 C3.225', tradingClass='KO'), position=0.0, marketPrice=1.7976931348623157e+308, marketValue=1.7976931348623157e+308, averageCost=1.7976931348623157e+308, unrealizedPNL=0.0, realizedPNL=0.0, account='DUM450165')
2026-02-04 16:16:08,327 - ib_insync.wrapper - INFO - updatePortfolio: PortfolioItem(contract=FuturesOption(conId=757830282, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=327.5, right='C', multiplier='37500', primaryExchange='NYBOT', currency='USD', localSymbol='KOK6 C3.275', tradingClass='KO'), position=0.0, marketPrice=1.7976931348623157e+308, marketValue=1.7976931348623157e+308, averageCost=1.7976931348623157e+308, unrealizedPNL=0.0, realizedPNL=0.0, account='DUM450165')
2026-02-04 16:16:08,328 - ib_insync.wrapper - INFO - updatePortfolio: PortfolioItem(contract=FuturesOption(conId=732415567, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=330.0, right='C', multiplier='37500', primaryExchange='NYBOT', currency='USD', localSymbol='KOK6 C3.3', tradingClass='KO'), position=0.0, marketPrice=1.7976931348623157e+308, marketValue=1.7976931348623157e+308, averageCost=1.7976931348623157e+308, unrealizedPNL=0.0, realizedPNL=0.0, account='DUM450165')
2026-02-04 16:16:08,328 - ib_insync.wrapper - INFO - updatePortfolio: PortfolioItem(contract=FuturesOption(conId=745575714, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=335.0, right='C', multiplier='37500', primaryExchange='NYBOT', currency='USD', localSymbol='KOK6 C3.35', tradingClass='KO'), position=0.0, marketPrice=1.7976931348623157e+308, marketValue=1.7976931348623157e+308, averageCost=1.7976931348623157e+308, unrealizedPNL=0.0, realizedPNL=0.0, account='DUM450165')
2026-02-04 16:16:08,623 - ib_insync.ib - INFO - Synchronization complete
2026-02-04 16:16:08,623 - trading_bot.connection_pool - INFO - IB (dashboard_orders) connected successfully with ID 162
2026-02-04 16:16:08,634 - trading_bot.utils - INFO - ðŸ› ï¸ Configuring Market Data: Requesting LIVE (Type 1) Data.
2026-02-04 16:16:08,634 - OrderManager - INFO - Connected to IB for signal generation (purpose: dashboard_orders).
2026-02-04 16:16:08,635 - OrderManager - INFO - Step 1: Generating structured signals via Council...
2026-02-04 16:16:08,635 - trading_bot.signal_generator - INFO - --- Starting Multi-Agent Signal Generation (Council) ---
2026-02-04 16:16:08,764 - trading_bot.heterogeneous_router - INFO - ResponseCache initialized with env=DEV, multiplier=0.25
2026-02-04 16:16:08,765 - trading_bot.heterogeneous_router - INFO - HeterogeneousRouter initialized. Available: ['anthropic', 'openai', 'xai', 'gemini']
2026-02-04 16:16:08,765 - trading_bot.agents - INFO - Heterogeneous routing enabled. Diversity: {'available_providers': ['anthropic', 'openai', 'xai', 'gemini'], 'diversity_score': 1.0}
2026-02-04 16:16:08,771 - trading_bot.tms - INFO - TMS initialized at ./data/tms
2026-02-04 16:16:08,774 - trading_bot.enhanced_brier - INFO - Loaded 216 predictions from ./data/enhanced_brier.json
2026-02-04 16:16:08,775 - trading_bot.agents - INFO - Loaded commodity profile: Coffee (Arabica)
2026-02-04 16:16:08,775 - trading_bot.observability - INFO - HallucinationDetector initialized for Coffee (Arabica): 9 port tokens, 23 producer tokens
2026-02-04 16:16:08,775 - trading_bot.observability - INFO - ObservabilityHub initialized for Coffee (Arabica)
2026-02-04 16:16:08,775 - trading_bot.agents - INFO - Observability Hub initialized.
2026-02-04 16:16:08,775 - trading_bot.agents - INFO - Trading Council initialized for Coffee (Arabica). Agents: gemini-3-pro-preview, Master: gemini-3-pro-preview
2026-02-04 16:16:08,775 - trading_bot.agents - INFO - Grounded data cache invalidated (0 entries cleared). Next cycle will perform fresh searches.
2026-02-04 16:16:08,775 - trading_bot.heterogeneous_router - INFO - ResponseCache initialized with env=DEV, multiplier=0.25
2026-02-04 16:16:08,775 - trading_bot.heterogeneous_router - INFO - HeterogeneousRouter initialized. Available: ['anthropic', 'openai', 'xai', 'gemini']
2026-02-04 16:16:08,775 - root - INFO - Fetching 5 active futures contracts for KC on NYBOT...
2026-02-04 16:16:08,936 - root - INFO - Skipping contract KCH6 (Exp: 20260319): Expires < 45 days.
2026-02-04 16:16:08,936 - root - INFO - Found 10 active tradeable contracts (>=45d exp). Returning the first 5.
2026-02-04 16:16:08,937 - trading_bot.market_data_provider - INFO - Building market context for 5 contracts...
2026-02-04 16:16:08,937 - trading_bot.market_data_provider - INFO - Building market context for KCK6 (202605)...
2026-02-04 16:16:08,937 - trading_bot.market_data_provider - INFO - Building market context for KCN6 (202607)...
2026-02-04 16:16:08,937 - trading_bot.market_data_provider - INFO - Building market context for KCU6 (202609)...
2026-02-04 16:16:09,758 - trading_bot.market_data_provider - INFO - Market context for KCK6 (202605): price=300.60, sma_200=335.44300000000004, regime=HIGH_VOLATILITY, vol_5d=0.0282
2026-02-04 16:16:09,759 - trading_bot.market_data_provider - INFO - Building market context for KCZ6 (202612)...
2026-02-04 16:16:09,847 - trading_bot.market_data_provider - INFO - Market context for KCN6 (202607): price=295.50, sma_200=325.18125, regime=TRENDING, vol_5d=0.0269
2026-02-04 16:16:09,847 - trading_bot.market_data_provider - INFO - Building market context for KCH7 (202703)...
2026-02-04 16:16:09,952 - trading_bot.market_data_provider - INFO - Market context for KCU6 (202609): price=290.40, sma_200=314.48724999999996, regime=TRENDING, vol_5d=0.0261
2026-02-04 16:16:10,817 - trading_bot.market_data_provider - INFO - Market context for KCZ6 (202612): price=285.10, sma_200=306.20825, regime=TRENDING, vol_5d=0.0258
2026-02-04 16:16:10,858 - trading_bot.market_data_provider - INFO - Market context for KCH7 (202703): price=280.95, sma_200=300.5765, regime=TRENDING, vol_5d=0.0258
2026-02-04 16:16:10,858 - trading_bot.market_data_provider - INFO - Market context complete: 5/5 contracts successful
2026-02-04 16:16:10,858 - trading_bot.signal_generator - INFO - Market context built for 5 contracts
2026-02-04 16:16:10,858 - trading_bot.signal_generator - INFO - Convening Council for KCK6 (202605) (Cycle: KC-9fd85d8f)...
2026-02-04 16:16:10,858 - trading_bot.signal_generator - INFO - Convening Council for KCN6 (202607) (Cycle: KC-3ac09706)...
2026-02-04 16:16:10,858 - trading_bot.signal_generator - INFO - Convening Council for KCU6 (202609) (Cycle: KC-a6a1a3dc)...
2026-02-04 16:16:11,803 - trading_bot.agents - INFO - Retrieved 3 TMS insights for agronomist.
2026-02-04 16:16:11,803 - trading_bot.agents - INFO - [agronomist] Phase 1: Gathering grounded data...
2026-02-04 16:16:11,803 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:16:12,091 - trading_bot.agents - INFO - Retrieved 3 TMS insights for macro.
2026-02-04 16:16:12,091 - trading_bot.agents - INFO - [macro] Phase 1: Gathering grounded data...
2026-02-04 16:16:12,091 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:16:12,369 - trading_bot.agents - INFO - Retrieved 3 TMS insights for geopolitical.
2026-02-04 16:16:12,369 - trading_bot.agents - INFO - [geopolitical] Phase 1: Gathering grounded data...
2026-02-04 16:16:12,370 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:16:12,638 - trading_bot.agents - INFO - Retrieved 3 TMS insights for supply_chain.
2026-02-04 16:16:12,639 - trading_bot.agents - INFO - [supply_chain] Phase 1: Gathering grounded data...
2026-02-04 16:16:12,897 - trading_bot.agents - INFO - Retrieved 3 TMS insights for inventory.
2026-02-04 16:16:12,898 - trading_bot.agents - INFO - [inventory] Phase 1: Gathering grounded data...
2026-02-04 16:16:13,150 - trading_bot.agents - INFO - Retrieved 3 TMS insights for sentiment.
2026-02-04 16:16:13,150 - trading_bot.agents - INFO - [sentiment] Phase 1: Gathering grounded data...
2026-02-04 16:16:13,408 - trading_bot.agents - INFO - Retrieved 3 TMS insights for technical.
2026-02-04 16:16:13,408 - trading_bot.agents - INFO - [technical] Phase 1: Gathering grounded data...
2026-02-04 16:16:13,691 - trading_bot.agents - INFO - Retrieved 3 TMS insights for volatility.
2026-02-04 16:16:13,691 - trading_bot.agents - INFO - [volatility] Phase 1: Gathering grounded data...
2026-02-04 16:16:13,992 - trading_bot.agents - INFO - Retrieved 3 TMS insights for agronomist.
2026-02-04 16:16:13,993 - trading_bot.agents - INFO - [agronomist] Phase 1: Gathering grounded data...
2026-02-04 16:16:14,289 - trading_bot.agents - INFO - Retrieved 3 TMS insights for macro.
2026-02-04 16:16:14,289 - trading_bot.agents - INFO - [macro] Phase 1: Gathering grounded data...
2026-02-04 16:16:14,552 - trading_bot.agents - INFO - Retrieved 3 TMS insights for geopolitical.
2026-02-04 16:16:14,552 - trading_bot.agents - INFO - [geopolitical] Phase 1: Gathering grounded data...
2026-02-04 16:16:14,828 - trading_bot.agents - INFO - Retrieved 3 TMS insights for supply_chain.
2026-02-04 16:16:14,829 - trading_bot.agents - INFO - [supply_chain] Phase 1: Gathering grounded data...
2026-02-04 16:16:15,088 - trading_bot.agents - INFO - Retrieved 3 TMS insights for inventory.
2026-02-04 16:16:15,088 - trading_bot.agents - INFO - [inventory] Phase 1: Gathering grounded data...
2026-02-04 16:16:15,350 - trading_bot.agents - INFO - Retrieved 3 TMS insights for sentiment.
2026-02-04 16:16:15,350 - trading_bot.agents - INFO - [sentiment] Phase 1: Gathering grounded data...
2026-02-04 16:16:15,609 - trading_bot.agents - INFO - Retrieved 3 TMS insights for technical.
2026-02-04 16:16:15,610 - trading_bot.agents - INFO - [technical] Phase 1: Gathering grounded data...
2026-02-04 16:16:15,870 - trading_bot.agents - INFO - Retrieved 3 TMS insights for volatility.
2026-02-04 16:16:15,870 - trading_bot.agents - INFO - [volatility] Phase 1: Gathering grounded data...
2026-02-04 16:16:16,130 - trading_bot.agents - INFO - Retrieved 3 TMS insights for agronomist.
2026-02-04 16:16:16,130 - trading_bot.agents - INFO - [agronomist] Phase 1: Gathering grounded data...
2026-02-04 16:16:16,383 - trading_bot.agents - INFO - Retrieved 3 TMS insights for macro.
2026-02-04 16:16:16,384 - trading_bot.agents - INFO - [macro] Phase 1: Gathering grounded data...
2026-02-04 16:16:16,639 - trading_bot.agents - INFO - Retrieved 3 TMS insights for geopolitical.
2026-02-04 16:16:16,639 - trading_bot.agents - INFO - [geopolitical] Phase 1: Gathering grounded data...
2026-02-04 16:16:16,898 - trading_bot.agents - INFO - Retrieved 3 TMS insights for supply_chain.
2026-02-04 16:16:16,898 - trading_bot.agents - INFO - [supply_chain] Phase 1: Gathering grounded data...
2026-02-04 16:16:17,157 - trading_bot.agents - INFO - Retrieved 3 TMS insights for inventory.
2026-02-04 16:16:17,157 - trading_bot.agents - INFO - [inventory] Phase 1: Gathering grounded data...
2026-02-04 16:16:17,418 - trading_bot.agents - INFO - Retrieved 3 TMS insights for sentiment.
2026-02-04 16:16:17,418 - trading_bot.agents - INFO - [sentiment] Phase 1: Gathering grounded data...
2026-02-04 16:16:17,676 - trading_bot.agents - INFO - Retrieved 3 TMS insights for technical.
2026-02-04 16:16:17,676 - trading_bot.agents - INFO - [technical] Phase 1: Gathering grounded data...
2026-02-04 16:16:17,937 - trading_bot.agents - INFO - Retrieved 3 TMS insights for volatility.
2026-02-04 16:16:17,937 - trading_bot.agents - INFO - [volatility] Phase 1: Gathering grounded data...
2026-02-04 16:16:46,625 - trading_bot.rate_limiter - INFO - GlobalRateLimiter initialized: ['gemini', 'openai', 'anthropic', 'xai']
2026-02-04 16:16:47,308 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:16:48,851 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:16:49,463 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:16:56,796 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-04 16:16:56,807 - trading_bot.observability - WARNING - Hallucination detected [MEDIUM]: macro - Cited source not found in retrieved documents
2026-02-04 16:16:57,137 - trading_bot.tms - INFO - TMS: macro insight cues -> ['sentiment', 'technical', 'fundamentalist', 'geopolitical']
2026-02-04 16:16:57,476 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:17:01,206 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-04 16:17:01,211 - trading_bot.agents - WARNING - [geopolitical] Output validation issues: ["Possible hallucination: 4 numbers not in grounded data: ['475', '2027', '486']"]
2026-02-04 16:17:01,211 - trading_bot.agents - WARNING - [geopolitical] Validation issues: ["Possible hallucination: 4 numbers not in grounded data: ['475', '2027', '486']"]
2026-02-04 16:17:01,212 - trading_bot.observability - WARNING - Hallucination detected [MEDIUM]: geopolitical - Cited source not found in retrieved documents
2026-02-04 16:17:06,840 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:17:36,437 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:17:38,668 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:17:43,009 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:17:45,249 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:17:46,789 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:17:52,469 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-04 16:17:52,473 - trading_bot.observability - WARNING - Hallucination detected [MEDIUM]: sentiment - Cited source not found in retrieved documents
2026-02-04 16:17:58,418 - trading_bot.agents - WARNING - [inventory] Output validation issues: ['Direction-evidence mismatch: BULLISH call but 5 bearish vs 0 bullish evidence words']
2026-02-04 16:17:58,418 - trading_bot.agents - WARNING - [inventory] Validation issues: ['Direction-evidence mismatch: BULLISH call but 5 bearish vs 0 bullish evidence words']
2026-02-04 16:17:58,418 - trading_bot.agents - INFO - [inventory] Confidence clamped: 0.90 â†’ 0.30 (adjustment: 0.30)
2026-02-04 16:18:21,754 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:18:23,973 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:18:40,122 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:18:45,303 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:18:46,735 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:18:48,974 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:18:49,624 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:18:51,796 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-04 16:18:51,803 - trading_bot.observability - WARNING - Hallucination detected [MEDIUM]: macro - Cited source not found in retrieved documents
2026-02-04 16:18:52,093 - trading_bot.tms - INFO - TMS: macro insight cues -> ['fundamentalist', 'geopolitical']
2026-02-04 16:18:58,435 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-04 16:18:58,440 - trading_bot.agents - WARNING - [technical] Output validation issues: ["Possible hallucination: 7 numbers not in grounded data: ['314', '271', '347']"]
2026-02-04 16:18:58,440 - trading_bot.agents - WARNING - [technical] Validation issues: ["Possible hallucination: 7 numbers not in grounded data: ['314', '271', '347']"]
2026-02-04 16:18:58,772 - trading_bot.tms - INFO - TMS: technical insight cues -> ['fundamentalist']
2026-02-04 16:19:05,458 - trading_bot.observability - WARNING - Hallucination detected [MEDIUM]: volatility - Cited source not found in retrieved documents
2026-02-04 16:19:18,717 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-04 16:19:18,721 - trading_bot.signal_generator - INFO - Agent research complete for KCK6 (202605): 8/8 returned non-default results
2026-02-04 16:19:18,721 - trading_bot.signal_generator - INFO - SOFT FRESHNESS PENALTY: 2/8 agents have moderately stale data (>4h). Proceeding with confidence penalty for KCK6 (202605).
2026-02-04 16:19:18,722 - trading_bot.weighted_voting - INFO - Market Regime Detected: HIGH_VOLATILITY
2026-02-04 16:19:18,724 - trading_bot.enhanced_brier - INFO - Loaded 216 predictions from ./data/enhanced_brier.json
2026-02-04 16:19:18,724 - trading_bot.weighted_voting - INFO - Dynamic Weights: {"agronomist": "domain=2.2 \u00d7 reliability=1.0 = 2.25", "macro": "domain=1.5 \u00d7 reliability=1.0 = 1.05", "geopolitical": "domain=1.5 \u00d7 reliability=1.0 = 0.38", "supply_chain": "domain=1.5 \u00d7 reliability=1.0 = 0.38", "inventory": "domain=1.5 \u00d7 reliability=1.0 = 0.38", "sentiment": "domain=1.5 \u00d7 reliability=1.0 = 0.38", "technical": "domain=1.0 \u00d7 reliability=1.0 = 1.05", "volatility": "domain=2.2 \u00d7 reliability=1.0 = 1.57"}
2026-02-04 16:19:18,724 - trading_bot.weighted_voting - INFO - Weighted Vote: BEARISH (score=-0.578, dominant=agronomist)
2026-02-04 16:19:18,725 - trading_bot.weighted_voting - INFO - Vote Breakdown: [
  {
    "agent": "agronomist",
    "direction": "BEARISH",
    "confidence": 0.95,
    "domain_weight": 2.25,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 2.25,
    "contribution": -2.137
  },
  {
    "agent": "macro",
    "direction": "BULLISH",
    "confidence": 0.9,
    "domain_weight": 1.5,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 1.05,
    "contribution": 0.945
  },
  {
    "agent": "geopolitical",
    "direction": "BEARISH",
    "confidence": 0.9,
    "domain_weight": 1.5,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 0.38,
    "contribution": -0.338
  },
  {
    "agent": "supply_chain",
    "direction": "BEARISH",
    "confidence": 0.9,
    "domain_weight": 1.5,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 0.38,
    "contribution": -0.338
  },
  {
    "agent": "inventory",
    "direction": "BULLISH",
    "confidence": 0.3,
    "domain_weight": 1.5,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 0.38,
    "contribution": 0.112
  },
  {
    "agent": "sentiment",
    "direction": "BEARISH",
    "confidence": 0.9,
    "domain_weight": 1.5,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 0.38,
    "contribution": -0.338
  },
  {
    "agent": "technical",
    "direction": "BEARISH",
    "confidence": 0.67,
    "domain_weight": 1.0499999999999998,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 1.05,
    "contribution": -0.703
  },
  {
    "agent": "volatility",
    "direction": "BEARISH",
    "confidence": 0.95,
    "domain_weight": 2.25,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 1.57,
    "contribution": -1.496
  }
]
2026-02-04 16:19:30,509 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:19:32,747 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:19:35,616 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:19:38,402 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-04 16:19:38,408 - trading_bot.agents - WARNING - [geopolitical] Output validation issues: ['Direction-evidence mismatch: BEARISH call but 7 bullish vs 0 bearish evidence words']
2026-02-04 16:19:38,409 - trading_bot.agents - WARNING - [geopolitical] Validation issues: ['Direction-evidence mismatch: BEARISH call but 7 bullish vs 0 bearish evidence words']
2026-02-04 16:19:38,409 - trading_bot.agents - INFO - [geopolitical] Confidence clamped: 0.85 â†’ 0.30 (adjustment: 0.30)
2026-02-04 16:19:38,410 - trading_bot.observability - WARNING - Hallucination detected [MEDIUM]: geopolitical - Cited source not found in retrieved documents
2026-02-04 16:19:39,526 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:19:40,893 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-02-04 16:19:41,745 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:19:53,705 - trading_bot.agents - WARNING - [supply_chain] Output validation issues: ['Direction-evidence mismatch: BULLISH call but 6 bearish vs 1 bullish evidence words']
2026-02-04 16:19:53,706 - trading_bot.agents - WARNING - [supply_chain] Validation issues: ['Direction-evidence mismatch: BULLISH call but 6 bearish vs 1 bullish evidence words']
2026-02-04 16:19:53,706 - trading_bot.agents - INFO - [supply_chain] Confidence clamped: 0.95 â†’ 0.30 (adjustment: 0.30)
2026-02-04 16:20:04,753 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:20:07,049 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-04 16:20:27,599 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-04 16:20:30,049 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:20:32,295 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:20:36,992 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:20:37,022 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-04 16:20:37,026 - trading_bot.agents - INFO - Master Decision: BEARISH | Thesis: PLAUSIBLE (conf=0.7) | Catalyst: Record Brazilian coffee exports and favorable weather condit
2026-02-04 16:20:37,026 - trading_bot.signal_generator - INFO - Consensus Sensor: Master=BEARISH, Vote=BEARISH â†’ multiplier=1.0, adj_confidence=0.7
2026-02-04 16:20:37,028 - trading_bot.signal_generator - INFO - DA SKIPPED: Scheduled cycle (v7.0 â€” DA reserved for emergency triggers)
2026-02-04 16:20:39,232 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-02-04 16:20:39,233 - trading_bot.signal_generator - INFO - Council Decision KCK6 (202605): BEARISH (0.7)
2026-02-04 16:20:39,242 - root - INFO - Logged council decision for KCK6 (202605)
2026-02-04 16:20:39,249 - trading_bot.decision_signals - INFO - Decision signal logged: KCK6 (202605) â†’ BEARISH (DIRECTIONAL/BEAR_PUT_SPREAD)
2026-02-04 16:20:39,285 - trading_bot.brier_scoring - INFO - Loaded time-weighted Brier scores for 9 agents: {agronomist: 0.20, geopolitical: 0.17, inventory: 0.00, macro: 0.48, master_decision: 0.03, sentiment: 0.00, supply_chain: 0.03, technical: 0.12, volatility: 0.11}
2026-02-04 16:20:39,324 - trading_bot.signal_generator - INFO - STRATEGY: Directional spread with expensive vol (thesis=PLAUSIBLE)
2026-02-04 16:20:39,324 - trading_bot.strategy_router - INFO - STRATEGY (scheduled): DIRECTIONAL spread (thesis=PLAUSIBLE, vol=BEARISH)
2026-02-04 16:20:39,324 - trading_bot.signal_generator - INFO - Strategy Router Shadow Run: MATCH âœ…
2026-02-04 16:20:39,324 - trading_bot.signal_generator - INFO - Convening Council for KCZ6 (202612) (Cycle: KC-43b398f7)...
2026-02-04 16:20:40,092 - trading_bot.agents - INFO - Retrieved 3 TMS insights for agronomist.
2026-02-04 16:20:40,093 - trading_bot.agents - INFO - [agronomist] Phase 1: Gathering grounded data...
2026-02-04 16:20:40,093 - trading_bot.agents - INFO - [agronomist] Using cached grounded data.
2026-02-04 16:20:40,331 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:20:40,595 - trading_bot.agents - INFO - Retrieved 3 TMS insights for macro.
2026-02-04 16:20:40,596 - trading_bot.agents - INFO - [macro] Phase 1: Gathering grounded data...
2026-02-04 16:20:40,596 - trading_bot.agents - INFO - [macro] Using cached grounded data.
2026-02-04 16:20:40,846 - trading_bot.observability - WARNING - Hallucination detected [MEDIUM]: macro - Cited source not found in retrieved documents
2026-02-04 16:20:41,135 - trading_bot.tms - INFO - TMS: macro insight cues -> ['fundamentalist', 'geopolitical']
2026-02-04 16:20:41,376 - trading_bot.agents - INFO - Retrieved 3 TMS insights for geopolitical.
2026-02-04 16:20:41,376 - trading_bot.agents - INFO - [geopolitical] Phase 1: Gathering grounded data...
2026-02-04 16:20:41,377 - trading_bot.agents - INFO - [geopolitical] Using cached grounded data.
2026-02-04 16:20:41,624 - trading_bot.agents - WARNING - [geopolitical] Output validation issues: ['Direction-evidence mismatch: BEARISH call but 7 bullish vs 0 bearish evidence words']
2026-02-04 16:20:41,624 - trading_bot.agents - WARNING - [geopolitical] Validation issues: ['Direction-evidence mismatch: BEARISH call but 7 bullish vs 0 bearish evidence words']
2026-02-04 16:20:41,624 - trading_bot.agents - INFO - [geopolitical] Confidence clamped: 0.85 â†’ 0.30 (adjustment: 0.30)
2026-02-04 16:20:41,625 - trading_bot.observability - WARNING - Hallucination detected [MEDIUM]: geopolitical - Cited source not found in retrieved documents
2026-02-04 16:20:42,149 - trading_bot.agents - INFO - Retrieved 3 TMS insights for supply_chain.
2026-02-04 16:20:42,150 - trading_bot.agents - INFO - [supply_chain] Phase 1: Gathering grounded data...
2026-02-04 16:20:42,150 - trading_bot.agents - INFO - [supply_chain] Using cached grounded data.
2026-02-04 16:20:42,391 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:20:42,631 - trading_bot.agents - INFO - Retrieved 3 TMS insights for inventory.
2026-02-04 16:20:42,631 - trading_bot.agents - INFO - [inventory] Phase 1: Gathering grounded data...
2026-02-04 16:20:42,631 - trading_bot.agents - INFO - [inventory] Using cached grounded data.
2026-02-04 16:20:42,873 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:20:43,113 - trading_bot.agents - INFO - Retrieved 3 TMS insights for sentiment.
2026-02-04 16:20:43,113 - trading_bot.agents - INFO - [sentiment] Phase 1: Gathering grounded data...
2026-02-04 16:20:43,113 - trading_bot.agents - INFO - [sentiment] Using cached grounded data.
2026-02-04 16:20:43,853 - trading_bot.agents - INFO - Retrieved 3 TMS insights for technical.
2026-02-04 16:20:43,854 - trading_bot.agents - INFO - [technical] Phase 1: Gathering grounded data...
2026-02-04 16:20:44,094 - trading_bot.agents - INFO - Retrieved 3 TMS insights for volatility.
2026-02-04 16:20:44,094 - trading_bot.agents - INFO - [volatility] Phase 1: Gathering grounded data...
2026-02-04 16:20:44,364 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:20:45,966 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-04 16:20:46,277 - trading_bot.tms - INFO - TMS: technical insight cues -> ['fundamentalist']
2026-02-04 16:20:58,549 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:21:00,893 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:21:01,658 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-04 16:21:01,667 - trading_bot.observability - WARNING - Hallucination detected [MEDIUM]: macro - Cited source not found in retrieved documents
2026-02-04 16:21:01,974 - trading_bot.tms - INFO - TMS: macro insight cues -> ['sentiment', 'technical', 'fundamentalist', 'geopolitical']
2026-02-04 16:21:02,287 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:21:03,103 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:21:08,983 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-04 16:21:18,104 - trading_bot.agents - WARNING - [supply_chain] Output validation issues: ['Direction-evidence mismatch: BULLISH call but 6 bearish vs 1 bullish evidence words']
2026-02-04 16:21:18,104 - trading_bot.agents - WARNING - [supply_chain] Validation issues: ['Direction-evidence mismatch: BULLISH call but 6 bearish vs 1 bullish evidence words']
2026-02-04 16:21:18,104 - trading_bot.agents - INFO - [supply_chain] Confidence clamped: 0.90 â†’ 0.30 (adjustment: 0.30)
2026-02-04 16:21:18,105 - trading_bot.observability - WARNING - Hallucination detected [MEDIUM]: supply_chain - Cited source not found in retrieved documents
2026-02-04 16:21:26,749 - trading_bot.observability - WARNING - Hallucination detected [MEDIUM]: volatility - Cited source not found in retrieved documents
2026-02-04 16:21:27,043 - trading_bot.signal_generator - INFO - Agent research complete for KCN6 (202607): 8/8 returned non-default results
2026-02-04 16:21:27,044 - trading_bot.signal_generator - INFO - SOFT FRESHNESS PENALTY: 5/8 agents have moderately stale data (>4h). Proceeding with confidence penalty for KCN6 (202607).
2026-02-04 16:21:27,044 - trading_bot.weighted_voting - INFO - Market Regime Detected: HIGH_VOLATILITY
2026-02-04 16:21:27,044 - trading_bot.weighted_voting - INFO - Dynamic Weights: {"agronomist": "domain=2.2 \u00d7 reliability=1.0 = 2.25", "macro": "domain=1.5 \u00d7 reliability=1.0 = 1.05", "geopolitical": "domain=1.5 \u00d7 reliability=1.0 = 1.05", "supply_chain": "domain=1.5 \u00d7 reliability=1.0 = 0.38", "inventory": "domain=1.5 \u00d7 reliability=1.0 = 1.05", "sentiment": "domain=1.5 \u00d7 reliability=1.0 = 1.05", "technical": "domain=1.0 \u00d7 reliability=1.0 = 1.05", "volatility": "domain=2.2 \u00d7 reliability=1.0 = 1.57"}
2026-02-04 16:21:27,044 - trading_bot.weighted_voting - INFO - Weighted Vote: BEARISH (score=-0.282, dominant=agronomist)
2026-02-04 16:21:27,044 - trading_bot.weighted_voting - INFO - Vote Breakdown: [
  {
    "agent": "agronomist",
    "direction": "BEARISH",
    "confidence": 0.95,
    "domain_weight": 2.25,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 2.25,
    "contribution": -2.137
  },
  {
    "agent": "macro",
    "direction": "BULLISH",
    "confidence": 0.9,
    "domain_weight": 1.5,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 1.05,
    "contribution": 0.945
  },
  {
    "agent": "geopolitical",
    "direction": "BEARISH",
    "confidence": 0.3,
    "domain_weight": 1.5,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 1.05,
    "contribution": -0.315
  },
  {
    "agent": "supply_chain",
    "direction": "BULLISH",
    "confidence": 0.3,
    "domain_weight": 1.5,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 0.38,
    "contribution": 0.112
  },
  {
    "agent": "inventory",
    "direction": "BULLISH",
    "confidence": 0.9,
    "domain_weight": 1.5,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 1.05,
    "contribution": 0.945
  },
  {
    "agent": "sentiment",
    "direction": "NEUTRAL",
    "confidence": 0.9,
    "domain_weight": 1.5,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 1.05,
    "contribution": 0.0
  },
  {
    "agent": "technical",
    "direction": "BEARISH",
    "confidence": 0.68,
    "domain_weight": 1.0499999999999998,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 1.05,
    "contribution": -0.714
  },
  {
    "agent": "volatility",
    "direction": "BEARISH",
    "confidence": 0.95,
    "domain_weight": 2.25,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 1.57,
    "contribution": -1.496
  }
]
2026-02-04 16:21:28,399 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:21:35,445 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-04 16:21:35,454 - trading_bot.agents - WARNING - [geopolitical] Output validation issues: ['Direction-evidence mismatch: BEARISH call but 4 bullish vs 1 bearish evidence words']
2026-02-04 16:21:35,455 - trading_bot.agents - WARNING - [geopolitical] Validation issues: ['Direction-evidence mismatch: BEARISH call but 4 bullish vs 1 bearish evidence words']
2026-02-04 16:21:35,455 - trading_bot.agents - INFO - [geopolitical] Confidence clamped: 0.90 â†’ 0.30 (adjustment: 0.30)
2026-02-04 16:21:35,455 - trading_bot.observability - WARNING - Hallucination detected [MEDIUM]: geopolitical - Cited source not found in retrieved documents
2026-02-04 16:21:53,413 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-02-04 16:21:57,106 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:21:59,344 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:22:01,190 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:22:03,393 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:22:06,808 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:22:07,823 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-04 16:22:17,981 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-04 16:22:25,167 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-04 16:22:25,175 - trading_bot.agents - INFO - Master Decision: BEARISH | Thesis: PLAUSIBLE (conf=0.7) | Catalyst: Improved weather conditions in Brazil boosting supply
2026-02-04 16:22:25,175 - trading_bot.signal_generator - INFO - Consensus Sensor: Master=BEARISH, Vote=BEARISH â†’ multiplier=1.0, adj_confidence=0.7
2026-02-04 16:22:25,176 - trading_bot.signal_generator - INFO - DA SKIPPED: Scheduled cycle (v7.0 â€” DA reserved for emergency triggers)
2026-02-04 16:22:27,017 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-02-04 16:22:27,019 - trading_bot.signal_generator - INFO - Council Decision KCN6 (202607): BEARISH (0.7)
2026-02-04 16:22:27,025 - root - INFO - Logged council decision for KCN6 (202607)
2026-02-04 16:22:27,029 - trading_bot.decision_signals - INFO - Decision signal logged: KCN6 (202607) â†’ BEARISH (DIRECTIONAL/BEAR_PUT_SPREAD)
2026-02-04 16:22:27,066 - trading_bot.signal_generator - INFO - STRATEGY: Directional spread with expensive vol (thesis=PLAUSIBLE)
2026-02-04 16:22:27,066 - trading_bot.strategy_router - INFO - STRATEGY (scheduled): DIRECTIONAL spread (thesis=PLAUSIBLE, vol=BEARISH)
2026-02-04 16:22:27,066 - trading_bot.signal_generator - INFO - Strategy Router Shadow Run: MATCH âœ…
2026-02-04 16:22:27,066 - trading_bot.signal_generator - INFO - Convening Council for KCH7 (202703) (Cycle: KC-0dce492e)...
2026-02-04 16:22:27,821 - trading_bot.agents - INFO - Retrieved 3 TMS insights for agronomist.
2026-02-04 16:22:27,821 - trading_bot.agents - INFO - [agronomist] Phase 1: Gathering grounded data...
2026-02-04 16:22:27,821 - trading_bot.agents - INFO - [agronomist] Using cached grounded data.
2026-02-04 16:22:28,603 - trading_bot.agents - INFO - Retrieved 3 TMS insights for macro.
2026-02-04 16:22:28,604 - trading_bot.agents - INFO - [macro] Phase 1: Gathering grounded data...
2026-02-04 16:22:28,604 - trading_bot.agents - INFO - [macro] Using cached grounded data.
2026-02-04 16:22:28,882 - trading_bot.observability - WARNING - Hallucination detected [MEDIUM]: macro - Cited source not found in retrieved documents
2026-02-04 16:22:28,882 - trading_bot.observability - ERROR - Agent macro QUARANTINED: 5 flawed cycles in 7 days.
2026-02-04 16:22:29,176 - trading_bot.tms - INFO - TMS: macro insight cues -> ['sentiment', 'technical', 'fundamentalist', 'geopolitical']
2026-02-04 16:22:29,421 - trading_bot.agents - INFO - Retrieved 3 TMS insights for geopolitical.
2026-02-04 16:22:29,422 - trading_bot.agents - INFO - [geopolitical] Phase 1: Gathering grounded data...
2026-02-04 16:22:29,422 - trading_bot.agents - INFO - [geopolitical] Using cached grounded data.
2026-02-04 16:22:29,674 - trading_bot.agents - WARNING - [geopolitical] Output validation issues: ['Direction-evidence mismatch: BEARISH call but 4 bullish vs 1 bearish evidence words']
2026-02-04 16:22:29,674 - trading_bot.agents - WARNING - [geopolitical] Validation issues: ['Direction-evidence mismatch: BEARISH call but 4 bullish vs 1 bearish evidence words']
2026-02-04 16:22:29,674 - trading_bot.agents - INFO - [geopolitical] Confidence clamped: 0.90 â†’ 0.30 (adjustment: 0.30)
2026-02-04 16:22:29,675 - trading_bot.observability - WARNING - Hallucination detected [MEDIUM]: geopolitical - Cited source not found in retrieved documents
2026-02-04 16:22:29,676 - trading_bot.observability - ERROR - Agent geopolitical QUARANTINED: 5 flawed cycles in 7 days.
2026-02-04 16:22:30,226 - trading_bot.agents - INFO - Retrieved 3 TMS insights for supply_chain.
2026-02-04 16:22:30,226 - trading_bot.agents - INFO - [supply_chain] Phase 1: Gathering grounded data...
2026-02-04 16:22:30,226 - trading_bot.agents - INFO - [supply_chain] Using cached grounded data.
2026-02-04 16:22:30,476 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:22:30,725 - trading_bot.agents - INFO - Retrieved 3 TMS insights for inventory.
2026-02-04 16:22:30,725 - trading_bot.agents - INFO - [inventory] Phase 1: Gathering grounded data...
2026-02-04 16:22:30,725 - trading_bot.agents - INFO - [inventory] Using cached grounded data.
2026-02-04 16:22:30,972 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:22:31,222 - trading_bot.agents - INFO - Retrieved 3 TMS insights for sentiment.
2026-02-04 16:22:31,223 - trading_bot.agents - INFO - [sentiment] Phase 1: Gathering grounded data...
2026-02-04 16:22:31,223 - trading_bot.agents - INFO - [sentiment] Using cached grounded data.
2026-02-04 16:22:32,007 - trading_bot.agents - INFO - Retrieved 3 TMS insights for technical.
2026-02-04 16:22:32,007 - trading_bot.agents - INFO - [technical] Phase 1: Gathering grounded data...
2026-02-04 16:22:32,258 - trading_bot.agents - INFO - Retrieved 3 TMS insights for volatility.
2026-02-04 16:22:32,258 - trading_bot.agents - INFO - [volatility] Phase 1: Gathering grounded data...
2026-02-04 16:22:44,187 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:22:46,437 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:23:18,157 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:23:18,571 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:23:26,509 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-04 16:23:26,513 - trading_bot.agents - WARNING - [technical] Output validation issues: ["Possible hallucination: 8 numbers not in grounded data: ['314', '302', '283']"]
2026-02-04 16:23:26,513 - trading_bot.agents - WARNING - [technical] Validation issues: ["Possible hallucination: 8 numbers not in grounded data: ['314', '302', '283']"]
2026-02-04 16:23:26,849 - trading_bot.tms - INFO - TMS: technical insight cues -> ['fundamentalist']
2026-02-04 16:23:28,044 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-04 16:23:28,047 - trading_bot.agents - WARNING - [technical] Output validation issues: ["Possible hallucination: 5 numbers not in grounded data: ['353', '283', '300']"]
2026-02-04 16:23:28,047 - trading_bot.agents - WARNING - [technical] Validation issues: ["Possible hallucination: 5 numbers not in grounded data: ['353', '283', '300']"]
2026-02-04 16:23:28,339 - trading_bot.tms - INFO - TMS: technical insight cues -> ['fundamentalist']
2026-02-04 16:23:46,341 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-04 16:23:46,343 - trading_bot.signal_generator - INFO - Agent research complete for KCU6 (202609): 8/8 returned non-default results
2026-02-04 16:23:46,343 - trading_bot.signal_generator - INFO - SOFT FRESHNESS PENALTY: 3/8 agents have moderately stale data (>4h). Proceeding with confidence penalty for KCU6 (202609).
2026-02-04 16:23:46,344 - trading_bot.weighted_voting - INFO - Market Regime Detected: HIGH_VOLATILITY
2026-02-04 16:23:46,344 - trading_bot.weighted_voting - INFO - Dynamic Weights: {"agronomist": "domain=2.2 \u00d7 reliability=1.0 = 2.25", "macro": "domain=1.5 \u00d7 reliability=1.0 = 1.05", "geopolitical": "domain=1.5 \u00d7 reliability=1.0 = 0.38", "supply_chain": "domain=1.5 \u00d7 reliability=1.0 = 0.38", "inventory": "domain=1.5 \u00d7 reliability=1.0 = 1.05", "sentiment": "domain=1.5 \u00d7 reliability=1.0 = 0.38", "technical": "domain=1.0 \u00d7 reliability=1.0 = 1.05", "volatility": "domain=2.2 \u00d7 reliability=1.0 = 1.57"}
2026-02-04 16:23:46,344 - trading_bot.weighted_voting - INFO - Weighted Vote: BEARISH (score=-0.271, dominant=agronomist)
2026-02-04 16:23:46,345 - trading_bot.weighted_voting - INFO - Vote Breakdown: [
  {
    "agent": "agronomist",
    "direction": "BEARISH",
    "confidence": 0.95,
    "domain_weight": 2.25,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 2.25,
    "contribution": -2.137
  },
  {
    "agent": "macro",
    "direction": "BULLISH",
    "confidence": 0.85,
    "domain_weight": 1.5,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 1.05,
    "contribution": 0.892
  },
  {
    "agent": "geopolitical",
    "direction": "BEARISH",
    "confidence": 0.3,
    "domain_weight": 1.5,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 0.38,
    "contribution": -0.112
  },
  {
    "agent": "supply_chain",
    "direction": "BEARISH",
    "confidence": 0.9,
    "domain_weight": 1.5,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 0.38,
    "contribution": -0.338
  },
  {
    "agent": "inventory",
    "direction": "BULLISH",
    "confidence": 0.95,
    "domain_weight": 1.5,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 1.05,
    "contribution": 0.997
  },
  {
    "agent": "sentiment",
    "direction": "NEUTRAL",
    "confidence": 0.9,
    "domain_weight": 1.5,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 0.38,
    "contribution": 0.0
  },
  {
    "agent": "technical",
    "direction": "NEUTRAL",
    "confidence": 0.68,
    "domain_weight": 1.0499999999999998,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 1.05,
    "contribution": 0.0
  },
  {
    "agent": "volatility",
    "direction": "BEARISH",
    "confidence": 0.95,
    "domain_weight": 2.25,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 1.57,
    "contribution": -1.496
  }
]
2026-02-04 16:23:49,417 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-04 16:23:55,425 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:24:06,966 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-02-04 16:24:21,120 - trading_bot.signal_generator - INFO - Agent research complete for KCZ6 (202612): 8/8 returned non-default results
2026-02-04 16:24:21,120 - trading_bot.signal_generator - INFO - SOFT FRESHNESS PENALTY: 3/8 agents have moderately stale data (>4h). Proceeding with confidence penalty for KCZ6 (202612).
2026-02-04 16:24:21,120 - trading_bot.weighted_voting - INFO - Market Regime Detected: RANGE_BOUND
2026-02-04 16:24:21,121 - trading_bot.weighted_voting - INFO - Dynamic Weights: {"agronomist": "domain=1.5 \u00d7 reliability=1.0 = 1.50", "macro": "domain=1.5 \u00d7 reliability=1.0 = 1.05", "geopolitical": "domain=1.5 \u00d7 reliability=1.0 = 1.05", "supply_chain": "domain=1.5 \u00d7 reliability=1.0 = 0.38", "inventory": "domain=1.5 \u00d7 reliability=1.0 = 1.50", "sentiment": "domain=1.5 \u00d7 reliability=1.0 = 1.05", "technical": "domain=2.2 \u00d7 reliability=1.0 = 2.25", "volatility": "domain=1.0 \u00d7 reliability=1.0 = 1.05"}
2026-02-04 16:24:21,121 - trading_bot.weighted_voting - INFO - Weighted Vote: BEARISH (score=-0.202, dominant=agronomist)
2026-02-04 16:24:21,122 - trading_bot.weighted_voting - INFO - Vote Breakdown: [
  {
    "agent": "agronomist",
    "direction": "BEARISH",
    "confidence": 0.95,
    "domain_weight": 1.5,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 1.5,
    "contribution": -1.425
  },
  {
    "agent": "macro",
    "direction": "BULLISH",
    "confidence": 0.9,
    "domain_weight": 1.5,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 1.05,
    "contribution": 0.945
  },
  {
    "agent": "geopolitical",
    "direction": "BEARISH",
    "confidence": 0.3,
    "domain_weight": 1.5,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 1.05,
    "contribution": -0.315
  },
  {
    "agent": "supply_chain",
    "direction": "BULLISH",
    "confidence": 0.3,
    "domain_weight": 1.5,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 0.38,
    "contribution": 0.112
  },
  {
    "agent": "inventory",
    "direction": "NEUTRAL",
    "confidence": 0.0,
    "domain_weight": 1.5,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 1.5,
    "contribution": 0.0
  },
  {
    "agent": "sentiment",
    "direction": "NEUTRAL",
    "confidence": 0.9,
    "domain_weight": 1.5,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 1.05,
    "contribution": 0.0
  },
  {
    "agent": "technical",
    "direction": "BEARISH",
    "confidence": 0.58,
    "domain_weight": 2.25,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 2.25,
    "contribution": -1.305
  },
  {
    "agent": "volatility",
    "direction": "NEUTRAL",
    "confidence": 0.0,
    "domain_weight": 1.0499999999999998,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 1.05,
    "contribution": 0.0
  }
]
2026-02-04 16:24:22,645 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-02-04 16:24:40,099 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-04 16:24:42,345 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-02-04 16:24:48,005 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-04 16:24:48,739 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-04 16:24:48,742 - trading_bot.agents - INFO - Master Decision: BEARISH | Thesis: PLAUSIBLE (conf=0.7) | Catalyst: Optimally-timed rainfall during the critical bean-filling st
2026-02-04 16:24:48,742 - trading_bot.signal_generator - INFO - Consensus Sensor: Master=BEARISH, Vote=BEARISH â†’ multiplier=1.0, adj_confidence=0.7
2026-02-04 16:24:48,742 - trading_bot.signal_generator - INFO - DA SKIPPED: Scheduled cycle (v7.0 â€” DA reserved for emergency triggers)
2026-02-04 16:24:50,453 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-02-04 16:24:50,454 - trading_bot.signal_generator - INFO - Council Decision KCU6 (202609): BEARISH (0.7)
2026-02-04 16:24:50,461 - root - INFO - Logged council decision for KCU6 (202609)
2026-02-04 16:24:50,465 - trading_bot.decision_signals - INFO - Decision signal logged: KCU6 (202609) â†’ BEARISH (DIRECTIONAL/BEAR_PUT_SPREAD)
2026-02-04 16:24:50,498 - trading_bot.signal_generator - INFO - STRATEGY: Directional spread with expensive vol (thesis=PLAUSIBLE)
2026-02-04 16:24:50,499 - trading_bot.strategy_router - INFO - STRATEGY (scheduled): DIRECTIONAL spread (thesis=PLAUSIBLE, vol=BEARISH)
2026-02-04 16:24:50,499 - trading_bot.signal_generator - INFO - Strategy Router Shadow Run: MATCH âœ…
2026-02-04 16:25:03,451 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-04 16:25:03,455 - trading_bot.signal_generator - INFO - Agent research complete for KCH7 (202703): 8/8 returned non-default results
2026-02-04 16:25:03,455 - trading_bot.signal_generator - INFO - SOFT FRESHNESS PENALTY: 3/8 agents have moderately stale data (>4h). Proceeding with confidence penalty for KCH7 (202703).
2026-02-04 16:25:03,455 - trading_bot.weighted_voting - INFO - Market Regime Detected: HIGH_VOLATILITY
2026-02-04 16:25:03,456 - trading_bot.weighted_voting - INFO - Dynamic Weights: {"agronomist": "domain=2.2 \u00d7 reliability=1.0 = 2.25", "macro": "domain=1.5 \u00d7 reliability=1.0 = 1.05", "geopolitical": "domain=1.5 \u00d7 reliability=1.0 = 0.38", "supply_chain": "domain=1.5 \u00d7 reliability=1.0 = 0.38", "inventory": "domain=1.5 \u00d7 reliability=1.0 = 1.05", "sentiment": "domain=1.5 \u00d7 reliability=1.0 = 0.38", "technical": "domain=1.0 \u00d7 reliability=1.0 = 1.05", "volatility": "domain=2.2 \u00d7 reliability=1.0 = 1.57"}
2026-02-04 16:25:03,456 - trading_bot.weighted_voting - INFO - Weighted Vote: BEARISH (score=-0.323, dominant=agronomist)
2026-02-04 16:25:03,456 - trading_bot.weighted_voting - INFO - Vote Breakdown: [
  {
    "agent": "agronomist",
    "direction": "BEARISH",
    "confidence": 0.95,
    "domain_weight": 2.25,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 2.25,
    "contribution": -2.137
  },
  {
    "agent": "macro",
    "direction": "BULLISH",
    "confidence": 0.85,
    "domain_weight": 1.5,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 1.05,
    "contribution": 0.892
  },
  {
    "agent": "geopolitical",
    "direction": "BEARISH",
    "confidence": 0.3,
    "domain_weight": 1.5,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 0.38,
    "contribution": -0.112
  },
  {
    "agent": "supply_chain",
    "direction": "BEARISH",
    "confidence": 0.9,
    "domain_weight": 1.5,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 0.38,
    "contribution": -0.338
  },
  {
    "agent": "inventory",
    "direction": "BULLISH",
    "confidence": 0.95,
    "domain_weight": 1.5,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 1.05,
    "contribution": 0.997
  },
  {
    "agent": "sentiment",
    "direction": "NEUTRAL",
    "confidence": 0.9,
    "domain_weight": 1.5,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 0.38,
    "contribution": 0.0
  },
  {
    "agent": "technical",
    "direction": "BEARISH",
    "confidence": 0.48,
    "domain_weight": 1.0499999999999998,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 1.05,
    "contribution": -0.504
  },
  {
    "agent": "volatility",
    "direction": "BEARISH",
    "confidence": 0.9,
    "domain_weight": 2.25,
    "reliability_mult": 1.0,
    "staleness_weight": 1.0,
    "age_hours": 0.0,
    "final_weight": 1.57,
    "contribution": -1.417
  }
]
2026-02-04 16:25:16,147 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-04 16:25:23,250 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-02-04 16:25:24,992 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-04 16:25:25,001 - trading_bot.agents - INFO - Master Decision: BEARISH | Thesis: PLAUSIBLE (conf=0.7) | Catalyst: Improved agronomic conditions in Minas Gerais
2026-02-04 16:25:25,001 - trading_bot.signal_generator - INFO - Consensus Sensor: Master=BEARISH, Vote=BEARISH â†’ multiplier=1.0, adj_confidence=0.7
2026-02-04 16:25:25,001 - trading_bot.signal_generator - INFO - DA SKIPPED: Scheduled cycle (v7.0 â€” DA reserved for emergency triggers)
2026-02-04 16:25:27,089 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-02-04 16:25:27,091 - trading_bot.signal_generator - INFO - Council Decision KCZ6 (202612): BEARISH (0.7)
2026-02-04 16:25:27,097 - root - INFO - Logged council decision for KCZ6 (202612)
2026-02-04 16:25:27,101 - trading_bot.decision_signals - INFO - Decision signal logged: KCZ6 (202612) â†’ BEARISH (DIRECTIONAL/BEAR_PUT_SPREAD)
2026-02-04 16:25:27,130 - trading_bot.signal_generator - INFO - STRATEGY: Directional spread (thesis=PLAUSIBLE, vol=NEUTRAL)
2026-02-04 16:25:27,131 - trading_bot.strategy_router - INFO - STRATEGY (scheduled): DIRECTIONAL spread (thesis=PLAUSIBLE, vol=NEUTRAL)
2026-02-04 16:25:27,131 - trading_bot.signal_generator - INFO - Strategy Router Shadow Run: MATCH âœ…
2026-02-04 16:25:54,650 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-04 16:26:04,826 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-04 16:26:04,836 - trading_bot.agents - INFO - Master Decision: BEARISH | Thesis: PLAUSIBLE (conf=0.7) | Catalyst: Improving supply dynamics due to significant rainfall and in
2026-02-04 16:26:04,837 - trading_bot.signal_generator - INFO - Consensus Sensor: Master=BEARISH, Vote=BEARISH â†’ multiplier=1.0, adj_confidence=0.7
2026-02-04 16:26:04,837 - trading_bot.signal_generator - INFO - DA SKIPPED: Scheduled cycle (v7.0 â€” DA reserved for emergency triggers)
2026-02-04 16:26:06,815 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-02-04 16:26:06,817 - trading_bot.signal_generator - INFO - Council Decision KCH7 (202703): BEARISH (0.7)
2026-02-04 16:26:06,824 - root - INFO - Logged council decision for KCH7 (202703)
2026-02-04 16:26:06,828 - trading_bot.decision_signals - INFO - Decision signal logged: KCH7 (202703) â†’ BEARISH (DIRECTIONAL/BEAR_PUT_SPREAD)
2026-02-04 16:26:06,865 - trading_bot.signal_generator - INFO - STRATEGY: Directional spread with expensive vol (thesis=PLAUSIBLE)
2026-02-04 16:26:06,865 - trading_bot.strategy_router - INFO - STRATEGY (scheduled): DIRECTIONAL spread (thesis=PLAUSIBLE, vol=BEARISH)
2026-02-04 16:26:06,865 - trading_bot.signal_generator - INFO - Strategy Router Shadow Run: MATCH âœ…
2026-02-04 16:26:06,871 - trading_bot.signal_generator - INFO - Persisted 8 agent reports to state.
2026-02-04 16:26:06,872 - OrderManager - INFO - Generated 5 signals: [{'contract_month': '202605', 'prediction_type': 'DIRECTIONAL', 'direction': 'BEARISH', 'reason': 'The debate leans towards a bearish outlook primarily due to an increase in Brazilian coffee exports and the forecast of favorable weather conditions, both of which suggest an improved supply situation. The bear highlighted that the massive YoY increase in exports undermines any logistics bottleneck arguments that could sustain higher prices, and this is a key point repeated in both the supply chain and agronomist reports. These reports also noted that favorable weather conditions during a critical stage of coffee development further improve crop prospects, which the market is reacting to by adjusting prices downward. Although there is some bullish sentiment related to potential macroeconomic factors, such as a strong Brazilian Real and technical analysis pointing toward oversold conditions with a possible bounce, these factors are outweighed by the strength and immediacy of the supply-side evidence. The volatility report supports a bearish sentiment due to the high cost of options, which aligns with the bearish sentiment. [Consensus ALIGNED (Vote=BEARISH)] [VOL WARNING: Options expensive. Spread costs elevated. Thesis: PLAUSIBLE]', 'regime': 'HIGH_VOLATILITY', 'volatility_sentiment': 'BEARISH', 'confidence': 0.7, 'price': 300.6, 'sma_200': 335.44300000000004, 'expected_price': 300.6, 'predicted_return': 0.0, 'thesis_strength': 'PLAUSIBLE', 'conviction_multiplier': 1.0}, {'contract_month': '202607', 'prediction_type': 'DIRECTIONAL', 'direction': 'BEARISH', 'reason': 'The bearish stance is better grounded in high-confidence evidence and aligns with the broader market reality. The Agronomist Report, with a 0.95 confidence level, provides robust evidence of improved weather conditions in Brazil, which directly enhance coffee bean yields, fundamentally shifting supply expectations. This has already been reflected in a 5.5-month low in Arabica prices, suggesting the market has preemptively accounted for these conditions. The bearish technical indicators, including a significant price drop of 11.86% over the last month and price being well below key moving averages, further underscore a strong downside momentum. Furthermore, the continued speculative long positioning represents a risk of liquidation, enhancing bearish pressure. Although the bullish side cites potential logistical bottlenecks and a strong BRL discouraging short-term selling, these do not outweigh the more substantial supply increases and negative technical signals. [Consensus ALIGNED (Vote=BEARISH)] [VOL WARNING: Options expensive. Spread costs elevated. Thesis: PLAUSIBLE]', 'regime': 'HIGH_VOLATILITY', 'volatility_sentiment': 'BEARISH', 'confidence': 0.7, 'price': 295.5, 'sma_200': 325.18125, 'expected_price': 295.5, 'predicted_return': 0.0, 'thesis_strength': 'PLAUSIBLE', 'conviction_multiplier': 1.0}, {'contract_month': '202609', 'prediction_type': 'DIRECTIONAL', 'direction': 'BEARISH', 'reason': 'The bearish argument is more grounded in the evidence provided. The most critical line of evidence is the Agronomist Report, with a high confidence level of 0.95, confirming that recent and forecasted rains in Minas Gerais during the bean-filling stage are optimal for yield improvements, not damage. This weather data aligns with the market response, where Arabica prices dropped approximately 4.85% due to improved yield expectations. Additionally, the surge in January exports (Supply Chain Report) at 35.8% year-over-year reinforces the narrative that logistical issues have shifted from bottlenecks to a sudden inventory release. The confluence of these elements presents a bearish outlook, overpowering bullish arguments that lacked similar levels of confidence or independent corroboration. The inventory drawdown and backwardation were acknowledged by both sides, indicating short-term tightness; however, the overwhelming evidence of ongoing supply improvements holds more weight. [Consensus ALIGNED (Vote=BEARISH)] [VOL WARNING: Options expensive. Spread costs elevated. Thesis: PLAUSIBLE]', 'regime': 'HIGH_VOLATILITY', 'volatility_sentiment': 'BEARISH', 'confidence': 0.7, 'price': 290.4, 'sma_200': 314.48724999999996, 'expected_price': 290.4, 'predicted_return': 0.0, 'thesis_strength': 'PLAUSIBLE', 'conviction_multiplier': 1.0}, {'contract_month': '202612', 'prediction_type': 'DIRECTIONAL', 'direction': 'BEARISH', 'reason': 'The bearish side of the debate is grounded in strong, high-confidence agronomic data indicating improved crop conditions due to above-average rainfall during the critical bean-filling stage. This has already been priced in with a significant drop in futures prices. The technical indicators reinforce a bearish trend with the current price well below key moving averages and notable selling pressure over the past month. The macroeconomic environment, with a strong Brazilian Real, could potentially restrict immediate farmer selling but does not balance the high-confidence evidence of supply improvement. While the bullish arguments point to logistical supply constraints and currency dynamics, these are low-confidence or speculative views compared to the overwhelming agronomic evidence. [Consensus ALIGNED (Vote=BEARISH)]', 'regime': 'RANGE_BOUND', 'volatility_sentiment': 'NEUTRAL', 'confidence': 0.7, 'price': 285.1, 'sma_200': 306.20825, 'expected_price': 285.1, 'predicted_return': 0.0, 'thesis_strength': 'PLAUSIBLE', 'conviction_multiplier': 1.0}, {'contract_month': '202703', 'prediction_type': 'DIRECTIONAL', 'direction': 'BEARISH', 'reason': 'The debate between the Permabear and Permabull positions leans towards a BEARISH outlook. The evidence shows that recent agronomic improvements and export increases are significant, as confirmed by high confidence ratings (Agronomist 0.95 and Supply Chain 0.90) indicating improving supply dynamics and dispelling fears of supply tightness. The significant rainfall in Minas Gerais and the surge in exports suggest an alleviation of earlier supply constraints. The Technical Report shows that prices are below the 200-day SMA, with a broader sell consensus, while the current price action continues to align with a bearish trend. The elevated implied volatility further makes bullish positions expensive, supporting a bearish tilt. The bullish argument acknowledges declining ICE Certified Stocks and backwardation as signs of potential near-term tightness, but these are outweighed by the broader bearish supply improvements and technical positioning. The strongest counterargument stems from ICE Certified Stocks indicating near-term physical tightness, but the overall weight of evidence suggests supply relief is more impactful. [Consensus ALIGNED (Vote=BEARISH)] [VOL WARNING: Options expensive. Spread costs elevated. Thesis: PLAUSIBLE]', 'regime': 'HIGH_VOLATILITY', 'volatility_sentiment': 'BEARISH', 'confidence': 0.7, 'price': 280.95, 'sma_200': 300.5765, 'expected_price': 280.95, 'predicted_return': 0.0, 'thesis_strength': 'PLAUSIBLE', 'conviction_multiplier': 1.0}]
2026-02-04 16:26:06,872 - root - INFO - Fetching 5 active futures contracts for KC on NYBOT...
2026-02-04 16:26:06,934 - root - INFO - Skipping contract KCH6 (Exp: 20260319): Expires < 45 days.
2026-02-04 16:26:06,934 - root - INFO - Found 10 active tradeable contracts (>=45d exp). Returning the first 5.
2026-02-04 16:26:06,935 - OrderManager - INFO - Skipping KCU6: Too deferred (225 days > 180 max)
2026-02-04 16:26:06,935 - OrderManager - INFO - Skipping KCZ6: Too deferred (316 days > 180 max)
2026-02-04 16:26:06,935 - OrderManager - INFO - Skipping KCH7: Too deferred (406 days > 180 max)
2026-02-04 16:26:06,935 - OrderManager - INFO - Date filter passed: 2/5 contracts within 180 days.
2026-02-04 16:26:06,935 - OrderManager - INFO - Checking liquidity for 2 contracts (parallel)...
2026-02-04 16:26:08,938 - OrderManager - INFO - Volume filter passed: 2 liquid candidates proceeding to signal generation.
2026-02-04 16:26:08,939 - ib_insync.wrapper - ERROR - Error 300, reqId 25: Can't find EId with tickerId:25
2026-02-04 16:26:08,941 - ib_insync.wrapper - ERROR - Error 300, reqId 26: Can't find EId with tickerId:26
2026-02-04 16:26:09,102 - OrderManager - INFO - Account Value for Sizing: $43,588.97
2026-02-04 16:26:09,102 - OrderManager - INFO - Requesting snapshot market price for KCK6...
2026-02-04 16:26:09,145 - OrderManager - INFO - Using bid/ask midpoint for KCK6: 300.225
2026-02-04 16:26:09,145 - root - INFO - Fetching option chain for future KCK6...
2026-02-04 16:26:09,148 - root - INFO - --- Defining BEARISH Spread for KCK6 ---
2026-02-04 16:26:09,149 - root - INFO - Identified ATM strike: 300.0 for underlying price 300.225
2026-02-04 16:26:09,149 - root - INFO - Defined Bear Put Spread legs: BUY 300.0P, SELL 150.0P
2026-02-04 16:26:09,153 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=745575714, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.35, right='C', multiplier='37500', currency='USD', localSymbol='KOK6 C3.35', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 16:26:09,153 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=743955683, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.15, right='P', multiplier='37500', currency='USD', localSymbol='KOK6 P3.15', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 16:26:09,153 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=725781080, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.2, right='P', multiplier='37500', currency='USD', localSymbol='KOK6 P3.2', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 16:26:09,154 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=745191382, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.075, right='P', multiplier='37500', currency='USD', localSymbol='KOK6 P3.075', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 16:26:09,154 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=756864355, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.225, right='C', multiplier='37500', currency='USD', localSymbol='KOK6 C3.225', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 16:26:09,154 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=757830282, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.275, right='C', multiplier='37500', currency='USD', localSymbol='KOK6 C3.275', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 16:26:09,154 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=745575700, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.125, right='P', multiplier='37500', currency='USD', localSymbol='KOK6 P3.125', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 16:26:09,154 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=732415567, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.3, right='C', multiplier='37500', currency='USD', localSymbol='KOK6 C3.3', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 16:26:09,154 - trading_bot.position_sizer - INFO - Dynamic Sizing: Base=1 * Conf(0.85) * Vol(0.6) * Heat(1.0) * Conviction(1.0) = 1 (raw: 0.510)
2026-02-04 16:26:09,154 - root - INFO - --- Pricing individual legs and creating order object ---
2026-02-04 16:26:09,502 - root - INFO - Fetching market data for option: KOK6 P3
2026-02-04 16:26:11,503 - root - WARNING - IV data missing for KOK6 P3, proceeding with price-only execution.
2026-02-04 16:26:11,508 - root - INFO - Theoretical price calculated for P @ 300.0: {'price': np.float64(16.4527), 'delta': np.float64(-0.4494), 'gamma': np.float64(0.0089), 'vega': np.float64(50.1368), 'theta': np.float64(-0.1516)}
2026-02-04 16:26:11,509 - root - INFO -   -> Leg Theoretical Price (BUY): KOK6 P3 @ 16.45
2026-02-04 16:26:11,509 - root - INFO - Fetching market data for option: KOK6 P1.5
2026-02-04 16:26:13,510 - root - INFO - Using IBKR Model Greeks IV: 64.27%
2026-02-04 16:26:13,512 - root - INFO - Theoretical price calculated for P @ 150.0: {'price': np.float64(0.0875), 'delta': np.float64(-0.0033), 'gamma': np.float64(0.0001), 'vega': np.float64(1.2501), 'theta': np.float64(-0.0063)}
2026-02-04 16:26:13,512 - root - INFO -   -> Leg Theoretical Price (SELL): KOK6 P1.5 @ 0.09
2026-02-04 16:26:13,512 - root - INFO - BUY Cap Calc: Theoretical=16.85, Market=19.80, Mid=19.31, Final Cap=19.30
2026-02-04 16:26:13,512 - root - INFO - Net Theoretical: 16.37, Market Spread: 0.81
2026-02-04 16:26:13,512 - root - INFO - Adaptive Strategy: Start @ 18.95, Cap/Floor @ 19.30
2026-02-04 16:26:13,512 - root - INFO - Creating Limit Order for BUY 1 @ 18.95 (Adaptive Cap: 19.30).
2026-02-04 16:26:13,512 - root - INFO - Using Custom Adaptive Logic (IBKR Algo Disabled).
2026-02-04 16:26:13,512 - root - INFO - Assigned OrderRef: 4d3985b3-c976-4446-b542-720c2da329fd
2026-02-04 16:26:13,617 - trading_bot.compliance - INFO - DEBIT spread: Max risk = $7,106.25 (premium paid)
2026-02-04 16:26:13,617 - OrderManager - INFO - Capital tracking: Committed $7,106.25 | Remaining $36,482.72 | This order: $7,106.25
2026-02-04 16:26:13,617 - OrderManager - INFO - Successfully queued order for KCK6.
2026-02-04 16:26:13,617 - OrderManager - INFO - Requesting snapshot market price for KCN6...
2026-02-04 16:26:13,834 - OrderManager - INFO - Using bid/ask midpoint for KCN6: 295.20000000000005
2026-02-04 16:26:13,834 - root - INFO - Fetching option chain for future KCN6...
2026-02-04 16:26:14,093 - root - INFO - --- Defining BEARISH Spread for KCN6 ---
2026-02-04 16:26:14,093 - root - INFO - Identified ATM strike: 295.0 for underlying price 295.20000000000005
2026-02-04 16:26:14,093 - root - INFO - Defined Bear Put Spread legs: BUY 295.0P, SELL 147.5P
2026-02-04 16:26:14,095 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=745575714, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.35, right='C', multiplier='37500', currency='USD', localSymbol='KOK6 C3.35', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 16:26:14,095 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=743955683, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.15, right='P', multiplier='37500', currency='USD', localSymbol='KOK6 P3.15', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 16:26:14,096 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=725781080, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.2, right='P', multiplier='37500', currency='USD', localSymbol='KOK6 P3.2', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 16:26:14,096 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=745191382, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.075, right='P', multiplier='37500', currency='USD', localSymbol='KOK6 P3.075', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 16:26:14,096 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=756864355, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.225, right='C', multiplier='37500', currency='USD', localSymbol='KOK6 C3.225', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 16:26:14,096 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=757830282, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.275, right='C', multiplier='37500', currency='USD', localSymbol='KOK6 C3.275', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 16:26:14,096 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=745575700, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.125, right='P', multiplier='37500', currency='USD', localSymbol='KOK6 P3.125', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 16:26:14,096 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=732415567, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.3, right='C', multiplier='37500', currency='USD', localSymbol='KOK6 C3.3', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 16:26:14,096 - trading_bot.position_sizer - INFO - Dynamic Sizing: Base=1 * Conf(0.85) * Vol(0.6) * Heat(1.0) * Conviction(1.0) = 1 (raw: 0.510)
2026-02-04 16:26:14,096 - root - INFO - --- Pricing individual legs and creating order object ---
2026-02-04 16:26:14,355 - root - INFO - Fetching market data for option: KON6 P2.95
2026-02-04 16:26:16,355 - root - INFO - Using IBKR Model Greeks IV: 37.64%
2026-02-04 16:26:16,357 - root - INFO - Theoretical price calculated for P @ 295.0: {'price': np.float64(23.904), 'delta': np.float64(-0.4296), 'gamma': np.float64(0.006), 'vega': np.float64(68.6515), 'theta': np.float64(-0.1174)}
2026-02-04 16:26:16,357 - root - INFO -   -> Leg Theoretical Price (BUY): KON6 P2.95 @ 23.90
2026-02-04 16:26:16,358 - root - INFO - Fetching market data for option: KON6 P1.475
2026-02-04 16:26:18,359 - root - INFO - Using IBKR Model Greeks IV: 50.27%
2026-02-04 16:26:18,362 - root - INFO - Theoretical price calculated for P @ 147.5: {'price': np.float64(0.1778), 'delta': np.float64(-0.0058), 'gamma': np.float64(0.0002), 'vega': np.float64(2.8661), 'theta': np.float64(-0.0058)}
2026-02-04 16:26:18,362 - root - INFO -   -> Leg Theoretical Price (SELL): KON6 P1.475 @ 0.18
2026-02-04 16:26:18,362 - root - INFO - BUY Cap Calc: Theoretical=24.20, Market=26.75, Mid=25.76, Final Cap=25.75
2026-02-04 16:26:18,362 - root - INFO - Net Theoretical: 23.73, Market Spread: 1.66
2026-02-04 16:26:18,362 - root - INFO - Adaptive Strategy: Start @ 24.95, Cap/Floor @ 25.75
2026-02-04 16:26:18,362 - root - INFO - Creating Limit Order for BUY 1 @ 24.95 (Adaptive Cap: 25.75).
2026-02-04 16:26:18,362 - root - INFO - Using Custom Adaptive Logic (IBKR Algo Disabled).
2026-02-04 16:26:18,362 - root - INFO - Assigned OrderRef: 9b2e4e99-655d-4b83-b2be-5a1fa0858c95
2026-02-04 16:26:18,465 - trading_bot.compliance - INFO - DEBIT spread: Max risk = $9,356.25 (premium paid)
2026-02-04 16:26:18,465 - OrderManager - INFO - Capital tracking: Committed $16,462.50 | Remaining $27,126.47 | This order: $9,356.25
2026-02-04 16:26:18,465 - OrderManager - INFO - Successfully queued order for KCN6.
2026-02-04 16:26:18,465 - OrderManager - WARNING - No active future for signal month 202609.
2026-02-04 16:26:18,465 - OrderManager - WARNING - No active future for signal month 202612.
2026-02-04 16:26:18,465 - OrderManager - WARNING - No active future for signal month 202703.
2026-02-04 16:26:18,465 - OrderManager - INFO - --- Order generation complete. 2 orders queued. ---
2026-02-04 16:26:18,783 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-02-04 16:26:18,974 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-02-04 16:26:19,178 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-02-04 16:26:19,496 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-02-04 16:26:19,683 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-02-04 16:26:19,905 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-02-04 16:26:20,123 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-02-04 16:26:20,125 - OrderManager - INFO - --- Placing and monitoring 2 orders ---
2026-02-04 16:26:20,125 - trading_bot.heterogeneous_router - INFO - ResponseCache initialized with env=DEV, multiplier=0.25
2026-02-04 16:26:20,125 - trading_bot.heterogeneous_router - INFO - HeterogeneousRouter initialized. Available: ['anthropic', 'openai', 'xai', 'gemini']
2026-02-04 16:26:20,126 - trading_bot.drawdown_circuit_breaker - INFO - Loaded drawdown state: NORMAL (0.00%)
2026-02-04 16:26:20,127 - trading_bot.utils - INFO - ðŸ› ï¸ Configuring Market Data: Requesting LIVE (Type 1) Data.
2026-02-04 16:26:20,127 - OrderManager - INFO - Using pooled IB connection for order placement.
2026-02-04 16:26:20,127 - OrderManager - INFO - Sorted orders by expiration proximity.
2026-02-04 16:26:20,127 - OrderManager - INFO - Current Available Funds: $43,528.07 | Equity: $43,588.97
2026-02-04 16:26:20,228 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=745575714, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.35, right='C', multiplier='37500', currency='USD', localSymbol='KOK6 C3.35', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 16:26:20,270 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=743955683, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.15, right='P', multiplier='37500', currency='USD', localSymbol='KOK6 P3.15', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 16:26:20,270 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=725781080, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.2, right='P', multiplier='37500', currency='USD', localSymbol='KOK6 P3.2', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 16:26:20,270 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=745191382, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.075, right='P', multiplier='37500', currency='USD', localSymbol='KOK6 P3.075', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 16:26:20,270 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=756864355, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.225, right='C', multiplier='37500', currency='USD', localSymbol='KOK6 C3.225', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 16:26:20,270 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=757830282, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.275, right='C', multiplier='37500', currency='USD', localSymbol='KOK6 C3.275', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 16:26:20,270 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=745575700, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.125, right='P', multiplier='37500', currency='USD', localSymbol='KOK6 P3.125', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 16:26:20,270 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=732415567, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.3, right='C', multiplier='37500', currency='USD', localSymbol='KOK6 C3.3', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 16:26:22,334 - ib_insync.wrapper - ERROR - Error 162, reqId 46: Historical Market Data Service error message:No data of type EODChart is available for the exchange 'NYBOT' and the security type 'Futures Options' and '2 d' and '1 day', contract: Contract(secType='FOP', conId=697282526, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=300.0, right='P', multiplier='37500', exchange='NYBOT', currency='USD', localSymbol='KOK6 P3', tradingClass='KO')
2026-02-04 16:26:22,339 - trading_bot.compliance - INFO - Resolved underlying future: KCK6 (conId: 634760204)
2026-02-04 16:26:22,452 - trading_bot.compliance - INFO - Volume from IB (KCK6): 296.0
2026-02-04 16:26:22,453 - trading_bot.compliance - INFO - DEBIT spread: Max risk = $7,106.25 (premium paid)
2026-02-04 16:26:26,784 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-02-04 16:26:27,094 - OrderManager - INFO - Approved KC-P300.0+P150.0: Margin $7,184.74 | Remaining: $36,343.33
2026-02-04 16:26:29,153 - ib_insync.wrapper - ERROR - Error 162, reqId 53: Historical Market Data Service error message:No data of type EODChart is available for the exchange 'NYBOT' and the security type 'Futures Options' and '2 d' and '1 day', contract: Contract(secType='FOP', conId=742750208, symbol='KC', lastTradeDateOrContractMonth='20260612', strike=295.0, right='P', multiplier='37500', exchange='NYBOT', currency='USD', localSymbol='KON6 P2.95', tradingClass='KO')
2026-02-04 16:26:29,158 - trading_bot.compliance - INFO - Resolved underlying future: KCN6 (conId: 646040490)
2026-02-04 16:26:29,267 - trading_bot.compliance - INFO - Volume from IB (KCN6): 97.0
2026-02-04 16:26:29,267 - trading_bot.compliance - INFO - DEBIT spread: Max risk = $9,356.25 (premium paid)
2026-02-04 16:26:38,624 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-02-04 16:26:38,779 - OrderManager - INFO - Approved KC-P295.0+P147.5: Margin $9,127.37 | Remaining: $27,215.96
2026-02-04 16:26:42,883 - OrderManager - INFO - Placing Order for KC-P300.0+P150.0. Limit: 18.95. BAG: 18.8x19.67, V:0.0, L:N/A@16:26:40. LEGs: Leg KOK6 P3: 18.97x19.66, V:258.0, L:21.65, Leg KOK6 P1.5: 0.01x0.17, V:0.0, L:N/A
2026-02-04 16:26:43,038 - ib_insync.wrapper - ERROR - Error 200, reqId 64: No security definition has been found for the request, contract: Future(symbol='KC', lastTradeDateOrContractMonth='20260410', exchange='NYBOT', currency='USD')
2026-02-04 16:26:43,038 - ib_insync.ib - WARNING - Unknown contract: Future(symbol='KC', lastTradeDateOrContractMonth='20260410', exchange='NYBOT', currency='USD')
2026-02-04 16:26:43,038 - root - INFO - Placing protected spread order for ...
2026-02-04 16:26:43,039 - ib_insync.ib - INFO - placeOrder: New order Trade(contract=Bag(symbol='KC', exchange='NYBOT', currency='USD', comboLegs=[ComboLeg(conId=697282526, ratio=1, action='BUY', exchange='NYBOT', openClose=0, shortSaleSlot=0, designatedLocation='', exemptCode=-1), ComboLeg(conId=636352681, ratio=1, action='SELL', exchange='NYBOT', openClose=0, shortSaleSlot=0, designatedLocation='', exemptCode=-1)]), order=LimitOrder(orderId=65, clientId=162, action='BUY', totalQuantity=1, lmtPrice=18.95, tif='DAY', orderRef='4d3985b3-c976-4446-b542-720c2da329fd'), orderStatus=OrderStatus(orderId=65, status='PendingSubmit', filled=0.0, remaining=0.0, avgFillPrice=0.0, permId=0, parentId=0, lastFillPrice=0.0, clientId=0, whyHeld='', mktCapPrice=0.0), fills=[], log=[TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 26, 43, 39011, tzinfo=datetime.timezone.utc), status='PendingSubmit', message='', errorCode=0)], advancedError='')
2026-02-04 16:26:43,039 - ib_insync.ib - INFO - placeOrder: New order Trade(contract=Future(symbol='KC', lastTradeDateOrContractMonth='20260410', exchange='NYBOT', currency='USD'), order=StopOrder(orderId=66, clientId=162, action='BUY', totalQuantity=1, auxPrice=309.62, tif='GTC', orderRef='CATASTROPHE_4d3985b3-c976-4446-b542-720c2da329fd', outsideRth=True), orderStatus=OrderStatus(orderId=66, status='PendingSubmit', filled=0.0, remaining=0.0, avgFillPrice=0.0, permId=0, parentId=0, lastFillPrice=0.0, clientId=0, whyHeld='', mktCapPrice=0.0), fills=[], log=[TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 26, 43, 39457, tzinfo=datetime.timezone.utc), status='PendingSubmit', message='', errorCode=0)], advancedError='')
2026-02-04 16:26:43,039 - root - INFO - Catastrophe protection placed: BUY  @ 309.62 (stop) for spread order 65
2026-02-04 16:26:43,199 - ib_insync.wrapper - ERROR - Error 200, reqId 66: No security definition has been found for the request
2026-02-04 16:26:43,199 - ib_insync.wrapper - WARNING - Canceled order: Trade(contract=Future(symbol='KC', lastTradeDateOrContractMonth='20260410', exchange='NYBOT', currency='USD'), order=StopOrder(orderId=66, clientId=162, action='BUY', totalQuantity=1, auxPrice=309.62, tif='GTC', orderRef='CATASTROPHE_4d3985b3-c976-4446-b542-720c2da329fd', outsideRth=True), orderStatus=OrderStatus(orderId=66, status='Cancelled', filled=0.0, remaining=0.0, avgFillPrice=0.0, permId=0, parentId=0, lastFillPrice=0.0, clientId=0, whyHeld='', mktCapPrice=0.0), fills=[], log=[TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 26, 43, 39457, tzinfo=datetime.timezone.utc), status='PendingSubmit', message='', errorCode=0), TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 26, 43, 199160, tzinfo=datetime.timezone.utc), status='Cancelled', message='Error 200, reqId 66: No security definition has been found for the request', errorCode=200)], advancedError='')
2026-02-04 16:26:45,053 - ib_insync.wrapper - INFO - orderStatus: Trade(contract=Bag(symbol='KC', exchange='NYBOT', currency='USD', comboLegs=[ComboLeg(conId=697282526, ratio=1, action='BUY', exchange='NYBOT', openClose=0, shortSaleSlot=0, designatedLocation='', exemptCode=-1), ComboLeg(conId=636352681, ratio=1, action='SELL', exchange='NYBOT', openClose=0, shortSaleSlot=0, designatedLocation='', exemptCode=-1)]), order=LimitOrder(orderId=65, clientId=162, permId=2015205776, action='BUY', totalQuantity=1.0, lmtPrice=18.95, auxPrice=0.0, tif='DAY', orderRef='4d3985b3-c976-4446-b542-720c2da329fd'), orderStatus=OrderStatus(orderId=65, status='Submitted', filled=0.0, remaining=1.0, avgFillPrice=0.0, permId=2015205776, parentId=0, lastFillPrice=0.0, clientId=162, whyHeld='', mktCapPrice=0.0), fills=[], log=[TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 26, 43, 39011, tzinfo=datetime.timezone.utc), status='PendingSubmit', message='', errorCode=0), TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 26, 45, 52684, tzinfo=datetime.timezone.utc), status='Submitted', message='', errorCode=0)], advancedError='')
2026-02-04 16:26:45,054 - OrderManager - INFO - Order 65 status update: Submitted
2026-02-04 16:26:47,746 - OrderManager - INFO - Placing Order for KC-P295.0+P147.5. Limit: 24.95. BAG: 24.97x26.51, V:0.0, L:N/A@16:26:44. LEGs: Leg KON6 P2.95: 25.36x26.65, V:0.0, L:N/A, Leg KON6 P1.475: 0.14x0.39, V:0.0, L:N/A
2026-02-04 16:26:47,803 - ib_insync.wrapper - ERROR - Error 200, reqId 73: No security definition has been found for the request, contract: Future(symbol='KC', lastTradeDateOrContractMonth='20260612', exchange='NYBOT', currency='USD')
2026-02-04 16:26:47,803 - ib_insync.ib - WARNING - Unknown contract: Future(symbol='KC', lastTradeDateOrContractMonth='20260612', exchange='NYBOT', currency='USD')
2026-02-04 16:26:47,803 - root - INFO - Placing protected spread order for ...
2026-02-04 16:26:47,804 - ib_insync.ib - INFO - placeOrder: New order Trade(contract=Bag(symbol='KC', exchange='NYBOT', currency='USD', comboLegs=[ComboLeg(conId=742750208, ratio=1, action='BUY', exchange='NYBOT', openClose=0, shortSaleSlot=0, designatedLocation='', exemptCode=-1), ComboLeg(conId=646216430, ratio=1, action='SELL', exchange='NYBOT', openClose=0, shortSaleSlot=0, designatedLocation='', exemptCode=-1)]), order=LimitOrder(orderId=74, clientId=162, action='BUY', totalQuantity=1, lmtPrice=24.95, tif='DAY', orderRef='9b2e4e99-655d-4b83-b2be-5a1fa0858c95'), orderStatus=OrderStatus(orderId=74, status='PendingSubmit', filled=0.0, remaining=0.0, avgFillPrice=0.0, permId=0, parentId=0, lastFillPrice=0.0, clientId=0, whyHeld='', mktCapPrice=0.0), fills=[], log=[TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 26, 47, 804067, tzinfo=datetime.timezone.utc), status='PendingSubmit', message='', errorCode=0)], advancedError='')
2026-02-04 16:26:47,804 - ib_insync.ib - INFO - placeOrder: New order Trade(contract=Future(symbol='KC', lastTradeDateOrContractMonth='20260612', exchange='NYBOT', currency='USD'), order=StopOrder(orderId=75, clientId=162, action='BUY', totalQuantity=1, auxPrice=304.37, tif='GTC', orderRef='CATASTROPHE_9b2e4e99-655d-4b83-b2be-5a1fa0858c95', outsideRth=True), orderStatus=OrderStatus(orderId=75, status='PendingSubmit', filled=0.0, remaining=0.0, avgFillPrice=0.0, permId=0, parentId=0, lastFillPrice=0.0, clientId=0, whyHeld='', mktCapPrice=0.0), fills=[], log=[TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 26, 47, 804730, tzinfo=datetime.timezone.utc), status='PendingSubmit', message='', errorCode=0)], advancedError='')
2026-02-04 16:26:47,805 - root - INFO - Catastrophe protection placed: BUY  @ 304.37 (stop) for spread order 74
2026-02-04 16:26:47,965 - ib_insync.wrapper - ERROR - Error 200, reqId 75: No security definition has been found for the request
2026-02-04 16:26:47,965 - ib_insync.wrapper - WARNING - Canceled order: Trade(contract=Future(symbol='KC', lastTradeDateOrContractMonth='20260612', exchange='NYBOT', currency='USD'), order=StopOrder(orderId=75, clientId=162, action='BUY', totalQuantity=1, auxPrice=304.37, tif='GTC', orderRef='CATASTROPHE_9b2e4e99-655d-4b83-b2be-5a1fa0858c95', outsideRth=True), orderStatus=OrderStatus(orderId=75, status='Cancelled', filled=0.0, remaining=0.0, avgFillPrice=0.0, permId=0, parentId=0, lastFillPrice=0.0, clientId=0, whyHeld='', mktCapPrice=0.0), fills=[], log=[TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 26, 47, 804730, tzinfo=datetime.timezone.utc), status='PendingSubmit', message='', errorCode=0), TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 26, 47, 965244, tzinfo=datetime.timezone.utc), status='Cancelled', message='Error 200, reqId 75: No security definition has been found for the request', errorCode=200)], advancedError='')
2026-02-04 16:26:48,499 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-02-04 16:26:48,501 - OrderManager - INFO - Monitoring orders for up to 30.0 minutes...
2026-02-04 16:26:49,044 - ib_insync.wrapper - INFO - orderStatus: Trade(contract=Bag(symbol='KC', exchange='NYBOT', currency='USD', comboLegs=[ComboLeg(conId=742750208, ratio=1, action='BUY', exchange='NYBOT', openClose=0, shortSaleSlot=0, designatedLocation='', exemptCode=-1), ComboLeg(conId=646216430, ratio=1, action='SELL', exchange='NYBOT', openClose=0, shortSaleSlot=0, designatedLocation='', exemptCode=-1)]), order=LimitOrder(orderId=74, clientId=162, permId=2015205777, action='BUY', totalQuantity=1.0, lmtPrice=24.95, auxPrice=0.0, tif='DAY', orderRef='9b2e4e99-655d-4b83-b2be-5a1fa0858c95'), orderStatus=OrderStatus(orderId=74, status='Submitted', filled=0.0, remaining=1.0, avgFillPrice=0.0, permId=2015205777, parentId=0, lastFillPrice=0.0, clientId=162, whyHeld='', mktCapPrice=0.0), fills=[], log=[TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 26, 47, 804067, tzinfo=datetime.timezone.utc), status='PendingSubmit', message='', errorCode=0), TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 26, 49, 43876, tzinfo=datetime.timezone.utc), status='Submitted', message='', errorCode=0)], advancedError='')
2026-02-04 16:26:49,044 - OrderManager - INFO - Order 74 status update: Submitted
2026-02-04 16:26:58,510 - OrderManager - INFO - Adaptive Update for Order 65 (): 18.95 -> 19.3 (Cap/Floor: 19.3)
2026-02-04 16:26:58,511 - ib_insync.ib - INFO - placeOrder: Modify order Trade(contract=Bag(symbol='KC', exchange='NYBOT', currency='USD', comboLegs=[ComboLeg(conId=697282526, ratio=1, action='BUY', exchange='NYBOT', openClose=0, shortSaleSlot=0, designatedLocation='', exemptCode=-1), ComboLeg(conId=636352681, ratio=1, action='SELL', exchange='NYBOT', openClose=0, shortSaleSlot=0, designatedLocation='', exemptCode=-1)]), order=LimitOrder(orderId=65, clientId=162, permId=2015205776, action='BUY', totalQuantity=1.0, lmtPrice=19.3, auxPrice=0.0, tif='DAY', orderRef='4d3985b3-c976-4446-b542-720c2da329fd'), orderStatus=OrderStatus(orderId=65, status='Submitted', filled=0.0, remaining=1.0, avgFillPrice=0.0, permId=2015205776, parentId=0, lastFillPrice=0.0, clientId=162, whyHeld='', mktCapPrice=0.0), fills=[], log=[TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 26, 43, 39011, tzinfo=datetime.timezone.utc), status='PendingSubmit', message='', errorCode=0), TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 26, 45, 52684, tzinfo=datetime.timezone.utc), status='Submitted', message='', errorCode=0), TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 26, 58, 511031, tzinfo=datetime.timezone.utc), status='Submitted', message='Modify', errorCode=0)], advancedError='')
2026-02-04 16:26:58,606 - ib_insync.wrapper - INFO - orderStatus: Trade(contract=Bag(symbol='KC', exchange='NYBOT', currency='USD', comboLegs=[ComboLeg(conId=697282526, ratio=1, action='BUY', exchange='NYBOT', openClose=0, shortSaleSlot=0, designatedLocation='', exemptCode=-1), ComboLeg(conId=636352681, ratio=1, action='SELL', exchange='NYBOT', openClose=0, shortSaleSlot=0, designatedLocation='', exemptCode=-1)]), order=LimitOrder(orderId=65, clientId=162, permId=2015205776, action='BUY', totalQuantity=1.0, lmtPrice=19.3, auxPrice=0.0, tif='DAY', orderRef='4d3985b3-c976-4446-b542-720c2da329fd'), orderStatus=OrderStatus(orderId=65, status='Submitted', filled=0.0, remaining=1.0, avgFillPrice=0.0, permId=2015205776, parentId=0, lastFillPrice=0.0, clientId=162, whyHeld='', mktCapPrice=0.0), fills=[], log=[TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 26, 43, 39011, tzinfo=datetime.timezone.utc), status='PendingSubmit', message='', errorCode=0), TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 26, 45, 52684, tzinfo=datetime.timezone.utc), status='Submitted', message='', errorCode=0), TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 26, 58, 511031, tzinfo=datetime.timezone.utc), status='Submitted', message='Modify', errorCode=0), TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 26, 58, 606215, tzinfo=datetime.timezone.utc), status='Submitted', message='Modified', errorCode=0)], advancedError='')
2026-02-04 16:27:03,517 - OrderManager - INFO - Adaptive Update for Order 74 (): 24.95 -> 25.75 (Cap/Floor: 25.75)
2026-02-04 16:27:03,519 - ib_insync.ib - INFO - placeOrder: Modify order Trade(contract=Bag(symbol='KC', exchange='NYBOT', currency='USD', comboLegs=[ComboLeg(conId=742750208, ratio=1, action='BUY', exchange='NYBOT', openClose=0, shortSaleSlot=0, designatedLocation='', exemptCode=-1), ComboLeg(conId=646216430, ratio=1, action='SELL', exchange='NYBOT', openClose=0, shortSaleSlot=0, designatedLocation='', exemptCode=-1)]), order=LimitOrder(orderId=74, clientId=162, permId=2015205777, action='BUY', totalQuantity=1.0, lmtPrice=25.75, auxPrice=0.0, tif='DAY', orderRef='9b2e4e99-655d-4b83-b2be-5a1fa0858c95'), orderStatus=OrderStatus(orderId=74, status='Submitted', filled=0.0, remaining=1.0, avgFillPrice=0.0, permId=2015205777, parentId=0, lastFillPrice=0.0, clientId=162, whyHeld='', mktCapPrice=0.0), fills=[], log=[TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 26, 47, 804067, tzinfo=datetime.timezone.utc), status='PendingSubmit', message='', errorCode=0), TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 26, 49, 43876, tzinfo=datetime.timezone.utc), status='Submitted', message='', errorCode=0), TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 27, 3, 518860, tzinfo=datetime.timezone.utc), status='Submitted', message='Modify', errorCode=0)], advancedError='')
2026-02-04 16:27:03,653 - ib_insync.wrapper - INFO - orderStatus: Trade(contract=Bag(symbol='KC', exchange='NYBOT', currency='USD', comboLegs=[ComboLeg(conId=742750208, ratio=1, action='BUY', exchange='NYBOT', openClose=0, shortSaleSlot=0, designatedLocation='', exemptCode=-1), ComboLeg(conId=646216430, ratio=1, action='SELL', exchange='NYBOT', openClose=0, shortSaleSlot=0, designatedLocation='', exemptCode=-1)]), order=LimitOrder(orderId=74, clientId=162, permId=2015205777, action='BUY', totalQuantity=1.0, lmtPrice=25.75, auxPrice=0.0, tif='DAY', orderRef='9b2e4e99-655d-4b83-b2be-5a1fa0858c95'), orderStatus=OrderStatus(orderId=74, status='Submitted', filled=0.0, remaining=1.0, avgFillPrice=0.0, permId=2015205777, parentId=0, lastFillPrice=0.0, clientId=162, whyHeld='', mktCapPrice=0.0), fills=[], log=[TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 26, 47, 804067, tzinfo=datetime.timezone.utc), status='PendingSubmit', message='', errorCode=0), TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 26, 49, 43876, tzinfo=datetime.timezone.utc), status='Submitted', message='', errorCode=0), TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 27, 3, 518860, tzinfo=datetime.timezone.utc), status='Submitted', message='Modify', errorCode=0), TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 27, 3, 652881, tzinfo=datetime.timezone.utc), status='Submitted', message='Modified', errorCode=0)], advancedError='')
2026-02-04 16:56:48,839 - OrderManager - WARNING - Monitoring loop timed out. Some orders may not be in a terminal state.
2026-02-04 16:56:52,987 - OrderManager - WARNING - Order 65 (KC-P300.0+P150.0) TIMED OUT. Original Limit: 19.30. Final BAG: 19.61x20.4, V:0.0, L:N/A@16:56:49. Final LEGs: Leg KOK6 P3: 19.78x20.43, V:266.0, L:19.7, Leg KOK6 P1.5: 0.03x0.17, V:0.0, L:N/A
2026-02-04 16:56:52,989 - ib_insync.ib - INFO - cancelOrder: Trade(contract=Bag(symbol='KC', exchange='NYBOT', currency='USD', comboLegs=[ComboLeg(conId=697282526, ratio=1, action='BUY', exchange='NYBOT', openClose=0, shortSaleSlot=0, designatedLocation='', exemptCode=-1), ComboLeg(conId=636352681, ratio=1, action='SELL', exchange='NYBOT', openClose=0, shortSaleSlot=0, designatedLocation='', exemptCode=-1)]), order=LimitOrder(orderId=65, clientId=162, permId=2015205776, action='BUY', totalQuantity=1.0, lmtPrice=19.3, auxPrice=0.0, tif='DAY', orderRef='4d3985b3-c976-4446-b542-720c2da329fd'), orderStatus=OrderStatus(orderId=65, status='PendingCancel', filled=0.0, remaining=1.0, avgFillPrice=0.0, permId=2015205776, parentId=0, lastFillPrice=0.0, clientId=162, whyHeld='', mktCapPrice=0.0), fills=[], log=[TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 26, 43, 39011, tzinfo=datetime.timezone.utc), status='PendingSubmit', message='', errorCode=0), TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 26, 45, 52684, tzinfo=datetime.timezone.utc), status='Submitted', message='', errorCode=0), TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 26, 58, 511031, tzinfo=datetime.timezone.utc), status='Submitted', message='Modify', errorCode=0), TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 26, 58, 606215, tzinfo=datetime.timezone.utc), status='Submitted', message='Modified', errorCode=0), TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 56, 52, 989574, tzinfo=datetime.timezone.utc), status='PendingCancel', message='', errorCode=0)], advancedError='')
2026-02-04 16:56:52,990 - OrderManager - INFO - Order 65 status update: PendingCancel
2026-02-04 16:56:53,094 - ib_insync.wrapper - INFO - orderStatus: Trade(contract=Bag(symbol='KC', exchange='NYBOT', currency='USD', comboLegs=[ComboLeg(conId=697282526, ratio=1, action='BUY', exchange='NYBOT', openClose=0, shortSaleSlot=0, designatedLocation='', exemptCode=-1), ComboLeg(conId=636352681, ratio=1, action='SELL', exchange='NYBOT', openClose=0, shortSaleSlot=0, designatedLocation='', exemptCode=-1)]), order=LimitOrder(orderId=65, clientId=162, permId=2015205776, action='BUY', totalQuantity=1.0, lmtPrice=19.3, auxPrice=0.0, tif='DAY', orderRef='4d3985b3-c976-4446-b542-720c2da329fd'), orderStatus=OrderStatus(orderId=65, status='Cancelled', filled=0.0, remaining=1.0, avgFillPrice=0.0, permId=2015205776, parentId=0, lastFillPrice=0.0, clientId=162, whyHeld='', mktCapPrice=0.0), fills=[], log=[TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 26, 43, 39011, tzinfo=datetime.timezone.utc), status='PendingSubmit', message='', errorCode=0), TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 26, 45, 52684, tzinfo=datetime.timezone.utc), status='Submitted', message='', errorCode=0), TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 26, 58, 511031, tzinfo=datetime.timezone.utc), status='Submitted', message='Modify', errorCode=0), TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 26, 58, 606215, tzinfo=datetime.timezone.utc), status='Submitted', message='Modified', errorCode=0), TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 56, 52, 989574, tzinfo=datetime.timezone.utc), status='PendingCancel', message='', errorCode=0), TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 56, 53, 93617, tzinfo=datetime.timezone.utc), status='Cancelled', message='', errorCode=0)], advancedError='')
2026-02-04 16:56:53,094 - OrderManager - INFO - Order 65 status update: Cancelled
2026-02-04 16:56:53,094 - ib_insync.wrapper - INFO - Warning 202, reqId 65: Order Canceled - reason:
2026-02-04 16:56:57,394 - OrderManager - WARNING - Order 74 (KC-P295.0+P147.5) TIMED OUT. Original Limit: 25.75. Final BAG: 25.49x27.21, V:0.0, L:N/A@16:56:53. Final LEGs: Leg KON6 P2.95: 25.89x27.35, V:0.0, L:N/A, Leg KON6 P1.475: 0.14x0.4, V:0.0, L:N/A
2026-02-04 16:56:57,396 - ib_insync.ib - INFO - cancelOrder: Trade(contract=Bag(symbol='KC', exchange='NYBOT', currency='USD', comboLegs=[ComboLeg(conId=742750208, ratio=1, action='BUY', exchange='NYBOT', openClose=0, shortSaleSlot=0, designatedLocation='', exemptCode=-1), ComboLeg(conId=646216430, ratio=1, action='SELL', exchange='NYBOT', openClose=0, shortSaleSlot=0, designatedLocation='', exemptCode=-1)]), order=LimitOrder(orderId=74, clientId=162, permId=2015205777, action='BUY', totalQuantity=1.0, lmtPrice=25.75, auxPrice=0.0, tif='DAY', orderRef='9b2e4e99-655d-4b83-b2be-5a1fa0858c95'), orderStatus=OrderStatus(orderId=74, status='PendingCancel', filled=0.0, remaining=1.0, avgFillPrice=0.0, permId=2015205777, parentId=0, lastFillPrice=0.0, clientId=162, whyHeld='', mktCapPrice=0.0), fills=[], log=[TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 26, 47, 804067, tzinfo=datetime.timezone.utc), status='PendingSubmit', message='', errorCode=0), TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 26, 49, 43876, tzinfo=datetime.timezone.utc), status='Submitted', message='', errorCode=0), TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 27, 3, 518860, tzinfo=datetime.timezone.utc), status='Submitted', message='Modify', errorCode=0), TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 27, 3, 652881, tzinfo=datetime.timezone.utc), status='Submitted', message='Modified', errorCode=0), TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 56, 57, 396244, tzinfo=datetime.timezone.utc), status='PendingCancel', message='', errorCode=0)], advancedError='')
2026-02-04 16:56:57,396 - OrderManager - INFO - Order 74 status update: PendingCancel
2026-02-04 16:56:57,471 - ib_insync.wrapper - INFO - orderStatus: Trade(contract=Bag(symbol='KC', exchange='NYBOT', currency='USD', comboLegs=[ComboLeg(conId=742750208, ratio=1, action='BUY', exchange='NYBOT', openClose=0, shortSaleSlot=0, designatedLocation='', exemptCode=-1), ComboLeg(conId=646216430, ratio=1, action='SELL', exchange='NYBOT', openClose=0, shortSaleSlot=0, designatedLocation='', exemptCode=-1)]), order=LimitOrder(orderId=74, clientId=162, permId=2015205777, action='BUY', totalQuantity=1.0, lmtPrice=25.75, auxPrice=0.0, tif='DAY', orderRef='9b2e4e99-655d-4b83-b2be-5a1fa0858c95'), orderStatus=OrderStatus(orderId=74, status='Cancelled', filled=0.0, remaining=1.0, avgFillPrice=0.0, permId=2015205777, parentId=0, lastFillPrice=0.0, clientId=162, whyHeld='', mktCapPrice=0.0), fills=[], log=[TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 26, 47, 804067, tzinfo=datetime.timezone.utc), status='PendingSubmit', message='', errorCode=0), TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 26, 49, 43876, tzinfo=datetime.timezone.utc), status='Submitted', message='', errorCode=0), TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 27, 3, 518860, tzinfo=datetime.timezone.utc), status='Submitted', message='Modify', errorCode=0), TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 27, 3, 652881, tzinfo=datetime.timezone.utc), status='Submitted', message='Modified', errorCode=0), TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 56, 57, 396244, tzinfo=datetime.timezone.utc), status='PendingCancel', message='', errorCode=0), TradeLogEntry(time=datetime.datetime(2026, 2, 4, 16, 56, 57, 470784, tzinfo=datetime.timezone.utc), status='Cancelled', message='', errorCode=0)], advancedError='')
2026-02-04 16:56:57,471 - OrderManager - INFO - Order 74 status update: Cancelled
2026-02-04 16:56:57,472 - ib_insync.wrapper - INFO - Warning 202, reqId 74: Order Canceled - reason:
2026-02-04 16:56:57,928 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-02-04 16:56:57,930 - OrderManager - INFO - --- Finished monitoring and cleanup. ---
2026-02-04 16:56:57,931 - OrderManager - INFO - Order placement complete. Releasing event handlers.
2026-02-04 16:56:57,931 - OrderManager - INFO - >>> Combined task 'Generate and Execute Orders' complete <<<
2026-02-04 16:56:57,932 - ib_insync.ib - INFO - Disconnecting from 127.0.0.1:7497, 8.68 kB sent in 124 messages, 169 kB received in 1539 messages, session time 2.45 ks.
2026-02-04 16:56:57,932 - ib_insync.client - INFO - Disconnecting
2026-02-04 16:56:57,933 - ib_insync.client - INFO - Disconnected.
2026-02-04 16:56:58,264 - Utilities - INFO - Connection pool released successfully
2026-02-04 17:53:12,185 - ib_insync.client - INFO - Connecting to 127.0.0.1:7497 with clientId 6442...
2026-02-04 17:53:12,186 - ib_insync.client - INFO - Connected
2026-02-04 17:53:12,198 - ib_insync.client - INFO - Logged on to server version 176
2026-02-04 17:53:12,204 - ib_insync.wrapper - INFO - Warning 2104, reqId -1: Market data farm connection is OK:usfuture.nj
2026-02-04 17:53:12,204 - ib_insync.wrapper - INFO - Warning 2104, reqId -1: Market data farm connection is OK:usfarm
2026-02-04 17:53:12,205 - ib_insync.wrapper - INFO - Warning 2106, reqId -1: HMDS data farm connection is OK:ushmds
2026-02-04 17:53:12,205 - ib_insync.wrapper - INFO - Warning 2158, reqId -1: Sec-def data farm connection is OK:secdefil
2026-02-04 17:53:12,205 - ib_insync.client - INFO - API connection ready
2026-02-04 17:53:12,214 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=745575714, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.35, right='C', multiplier='37500', currency='USD', localSymbol='KOK6 C3.35', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 17:53:12,215 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=743955683, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.15, right='P', multiplier='37500', currency='USD', localSymbol='KOK6 P3.15', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 17:53:12,215 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=725781080, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.2, right='P', multiplier='37500', currency='USD', localSymbol='KOK6 P3.2', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 17:53:12,215 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=745191382, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.075, right='P', multiplier='37500', currency='USD', localSymbol='KOK6 P3.075', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 17:53:12,215 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=756864355, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.225, right='C', multiplier='37500', currency='USD', localSymbol='KOK6 C3.225', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 17:53:12,215 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=757830282, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.275, right='C', multiplier='37500', currency='USD', localSymbol='KOK6 C3.275', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 17:53:12,215 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=745575700, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.125, right='P', multiplier='37500', currency='USD', localSymbol='KOK6 P3.125', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 17:53:12,215 - ib_insync.wrapper - INFO - position: Position(account='DUM450165', contract=FuturesOption(conId=732415567, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=3.3, right='C', multiplier='37500', currency='USD', localSymbol='KOK6 C3.3', tradingClass='KO'), position=0.0, avgCost=0.0)
2026-02-04 17:53:12,322 - ib_insync.wrapper - INFO - updatePortfolio: PortfolioItem(contract=FuturesOption(conId=745191382, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=307.5, right='P', multiplier='37500', primaryExchange='NYBOT', currency='USD', localSymbol='KOK6 P3.075', tradingClass='KO'), position=0.0, marketPrice=1.7976931348623157e+308, marketValue=1.7976931348623157e+308, averageCost=1.7976931348623157e+308, unrealizedPNL=0.0, realizedPNL=0.0, account='DUM450165')
2026-02-04 17:53:12,323 - ib_insync.wrapper - INFO - updatePortfolio: PortfolioItem(contract=FuturesOption(conId=745575700, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=312.5, right='P', multiplier='37500', primaryExchange='NYBOT', currency='USD', localSymbol='KOK6 P3.125', tradingClass='KO'), position=0.0, marketPrice=1.7976931348623157e+308, marketValue=1.7976931348623157e+308, averageCost=1.7976931348623157e+308, unrealizedPNL=0.0, realizedPNL=0.0, account='DUM450165')
2026-02-04 17:53:12,323 - ib_insync.wrapper - INFO - updatePortfolio: PortfolioItem(contract=FuturesOption(conId=743955683, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=315.0, right='P', multiplier='37500', primaryExchange='NYBOT', currency='USD', localSymbol='KOK6 P3.15', tradingClass='KO'), position=0.0, marketPrice=1.7976931348623157e+308, marketValue=1.7976931348623157e+308, averageCost=1.7976931348623157e+308, unrealizedPNL=0.0, realizedPNL=0.0, account='DUM450165')
2026-02-04 17:53:12,323 - ib_insync.wrapper - INFO - updatePortfolio: PortfolioItem(contract=FuturesOption(conId=725781080, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=320.0, right='P', multiplier='37500', primaryExchange='NYBOT', currency='USD', localSymbol='KOK6 P3.2', tradingClass='KO'), position=0.0, marketPrice=1.7976931348623157e+308, marketValue=1.7976931348623157e+308, averageCost=1.7976931348623157e+308, unrealizedPNL=0.0, realizedPNL=0.0, account='DUM450165')
2026-02-04 17:53:12,324 - ib_insync.wrapper - INFO - updatePortfolio: PortfolioItem(contract=FuturesOption(conId=756864355, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=322.5, right='C', multiplier='37500', primaryExchange='NYBOT', currency='USD', localSymbol='KOK6 C3.225', tradingClass='KO'), position=0.0, marketPrice=1.7976931348623157e+308, marketValue=1.7976931348623157e+308, averageCost=1.7976931348623157e+308, unrealizedPNL=0.0, realizedPNL=0.0, account='DUM450165')
2026-02-04 17:53:12,324 - ib_insync.wrapper - INFO - updatePortfolio: PortfolioItem(contract=FuturesOption(conId=757830282, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=327.5, right='C', multiplier='37500', primaryExchange='NYBOT', currency='USD', localSymbol='KOK6 C3.275', tradingClass='KO'), position=0.0, marketPrice=1.7976931348623157e+308, marketValue=1.7976931348623157e+308, averageCost=1.7976931348623157e+308, unrealizedPNL=0.0, realizedPNL=0.0, account='DUM450165')
2026-02-04 17:53:12,325 - ib_insync.wrapper - INFO - updatePortfolio: PortfolioItem(contract=FuturesOption(conId=732415567, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=330.0, right='C', multiplier='37500', primaryExchange='NYBOT', currency='USD', localSymbol='KOK6 C3.3', tradingClass='KO'), position=0.0, marketPrice=1.7976931348623157e+308, marketValue=1.7976931348623157e+308, averageCost=1.7976931348623157e+308, unrealizedPNL=0.0, realizedPNL=0.0, account='DUM450165')
2026-02-04 17:53:12,325 - ib_insync.wrapper - INFO - updatePortfolio: PortfolioItem(contract=FuturesOption(conId=745575714, symbol='KC', lastTradeDateOrContractMonth='20260410', strike=335.0, right='C', multiplier='37500', primaryExchange='NYBOT', currency='USD', localSymbol='KOK6 C3.35', tradingClass='KO'), position=0.0, marketPrice=1.7976931348623157e+308, marketValue=1.7976931348623157e+308, averageCost=1.7976931348623157e+308, unrealizedPNL=0.0, realizedPNL=0.0, account='DUM450165')
2026-02-04 17:53:12,333 - ib_insync.ib - INFO - Synchronization complete
2026-02-04 17:53:12,333 - trading_bot.utils - INFO - ðŸ› ï¸ Configuring Market Data: Requesting LIVE (Type 1) Data.
2026-02-04 17:53:13,556 - ib_insync.ib - INFO - Disconnecting from 127.0.0.1:7497, 744 B sent in 11 messages, 32.7 kB received in 679 messages, session time 1.37 s.
2026-02-04 17:53:13,557 - ib_insync.client - INFO - Disconnecting
2026-02-04 17:53:16,836 - trading_bot.tms - INFO - TMS initialized at ./data/tms
