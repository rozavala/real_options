
  You can now view your Streamlit app in your browser.

  URL: http://0.0.0.0:8501

2026-01-27 17:04:23,802 - OrderManager - INFO - >>> Starting combined task: Generate and Execute Orders <<<
2026-01-27 17:04:23,802 - OrderManager - INFO - --- Starting order generation and queuing process ---
2026-01-27 17:04:23,802 - OrderManager - INFO - Step 1: Running data pull...
Setup complete.
Dynamically determining the next 5 coffee tickers...
... chronological tickers found: ['KCH26.NYB', 'KCK26.NYB', 'KCN26.NYB', 'KCU26.NYB', 'KCZ26.NYB']

Fetching Coffee Prices...

Fetching weather data...

Fetching economic data from FRED...

Fetching other market data from yfinance...

Processing OHLV and fetching COT data...
Fetching historical COT data directly from CFTC...
... Successfully processed and filtered year 1986 (Rows: 24)
... Successfully processed and filtered year 1987 (Rows: 24)
... Successfully processed and filtered year 1988 (Rows: 24)
... Successfully processed and filtered year 1989 (Rows: 24)
... Successfully processed and filtered year 1990 (Rows: 23)
... Successfully processed and filtered year 1991 (Rows: 24)
... Successfully processed and filtered year 1992 (Rows: 31)
... Successfully processed and filtered year 1993 (Rows: 52)
... Successfully processed and filtered year 1994 (Rows: 52)
... Successfully processed and filtered year 1995 (Rows: 52)
... Successfully processed and filtered year 1996 (Rows: 53)
... Successfully processed and filtered year 1997 (Rows: 52)
... Successfully processed and filtered year 1998 (Rows: 52)
... Successfully processed and filtered year 1999 (Rows: 52)
... Successfully processed and filtered year 2000 (Rows: 52)
... Successfully processed and filtered year 2001 (Rows: 52)
... Successfully processed and filtered year 2002 (Rows: 52)
... Successfully processed and filtered year 2003 (Rows: 52)
... Successfully processed and filtered year 2004 (Rows: 52)
... Successfully processed and filtered year 2005 (Rows: 52)
... Successfully processed and filtered year 2006 (Rows: 52)
... Successfully processed and filtered year 2007 (Rows: 53)
... Successfully processed and filtered year 2008 (Rows: 52)
... Successfully processed and filtered year 2009 (Rows: 52)
... Successfully processed and filtered year 2010 (Rows: 52)
... Successfully processed and filtered year 2011 (Rows: 52)
... Successfully processed and filtered year 2012 (Rows: 53)
... Successfully processed and filtered year 2013 (Rows: 52)
... Successfully processed and filtered year 2014 (Rows: 52)
... Successfully processed and filtered year 2015 (Rows: 52)
... Successfully processed and filtered year 2016 (Rows: 52)
... Successfully processed and filtered year 2017 (Rows: 52)
... Successfully processed and filtered year 2018 (Rows: 53)
... Successfully processed and filtered year 2019 (Rows: 52)
... Successfully processed and filtered year 2020 (Rows: 52)
... Successfully processed and filtered year 2021 (Rows: 52)
... Successfully processed and filtered year 2022 (Rows: 52)
... Successfully processed and filtered year 2023 (Rows: 52)
... Successfully processed and filtered year 2024 (Rows: 53)
... Successfully processed and filtered year 2025 (Rows: 52)
... Successfully processed and filtered year 2026 (Rows: 3)
Concatenating COT data...

All data fetching complete.

Successfully processed data. Shape: (523, 51)

==============================
<b>Data Pull Validation Report</b>
Timestamp: 2026-01-27 17:04:52

<b>Overall Status: âœ… SUCCESS</b>
(9 checks passed, 0 checks failed)

âœ… <b>Coffee Price Fetch:</b> Successfully fetched 5 active contracts.
âœ… <b>Weather Data Fetch:</b> Successfully fetched data for 4 locations.
âœ… <b>FRED Data Fetch:</b> Completed all FRED series requests.
âœ… <b>Other Market Data Fetch:</b> Completed all other yfinance requests.
âœ… <b>Coffee OHLV Processing:</b> Successfully processed OHLV data.
âœ… <b>COT Report Fetch:</b> Successfully fetched CFTC data. Last entry: 2026-01-20
âœ… <b>Pre-Fill Missing Data:</b> Total missing data before fill is 9.03%.
âœ… <b>Data Recency:</b> Most recent data point is from 2026-01-27.
âœ… <b>Price Spike Detection:</b> Max daily change was 8.51%. Threshold is 15%.

<b>Final Output File Stats:</b>
- Rows: 523
- Columns: 51
==============================
2026-01-27 17:04:53,021 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-01-27 17:04:53,031 - OrderManager - INFO - Data pull complete.
2026-01-27 17:04:53,031 - OrderManager - INFO - Step 2: Running local model inference...
2026-01-27 17:04:53,032 - root - INFO - Loading all production assets...
2026-01-27 17:04:53,847 - root - INFO - All 10 assets loaded successfully.
2026-01-27 17:04:53,849 - root - INFO - Macro Trend: BULL (Front Month: 368.40, SMA200: 346.77)
2026-01-27 17:04:53,849 - root - INFO - Generating features from new data...
2026-01-27 17:04:58,812 - root - INFO - Feature generation complete.
2026-01-27 17:04:58,812 - root - INFO - Running hybrid prediction...
WARNING: All log messages before absl::InitializeLog() is called are written to STDERR
I0000 00:00:1769533500.428922  394412 device_compiler.h:196] Compiled cluster using XLA!  This line is logged at most once for the lifetime of the process.
[1m1/1[0m [32mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m[37m[0m [1m0s[0m 2s/step[1m1/1[0m [32mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m[37m[0m [1m2s[0m 2s/step
2026-01-27 17:05:01,480 - root - INFO - {
  "signals": [
    {
      "action": "LONG",
      "predicted_return": 0.005858347227169655,
      "ml_confidence": 0.569585183830487,
      "confidence": 0.569585183830487,
      "expected_price": 370.55820897921717,
      "regime": "BULL",
      "reason": "AI Buy + Bull Trend",
      "price": 368.3999938964844,
      "sma_200": 346.77175033569335
    },
    {
      "action": "LONG",
      "predicted_return": 0.00543461346028742,
      "ml_confidence": 0.5646435989129873,
      "confidence": 0.5646435989129873,
      "expected_price": 349.287978579418,
      "regime": "BULL",
      "reason": "AI Buy + Bull Trend",
      "price": 347.3999938964844,
      "sma_200": 346.77175033569335
    },
    {
      "action": "NEUTRAL",
      "predicted_return": 0.004985536023821316,
      "ml_confidence": 0.5593842822131934,
      "confidence": 0.5593842822131934,
      "expected_price": 341.39359885518195,
      "regime": "BULL",
      "reason": "Forecast 0.50% vs Threshold 0.50%",
      "price": 339.70001220703125,
      "sma_200": 346.77175033569335
    },
    {
      "action": "NEUTRAL",
      "predicted_return": 0.004514397761674076,
      "ml_confidence": 0.5538439763449129,
      "confidence": 0.5538439763449129,
      "expected_price": 334.45308099688805,
      "regime": "BULL",
      "reason": "Forecast 0.45% vs Threshold 0.50%",
      "price": 332.95001220703125,
      "sma_200": 346.77175033569335
    },
    {
      "action": "NEUTRAL",
      "predicted_return": 0.004190342112156445,
      "ml_confidence": 0.5500208879935136,
      "confidence": 0.5500208879935136,
      "expected_price": 327.8681466996191,
      "regime": "BULL",
      "reason": "Forecast 0.42% vs Threshold 0.50%",
      "price": 326.5,
      "sma_200": 346.77175033569335
    }
  ]
}
2026-01-27 17:05:01,483 - OrderManager - INFO - Successfully received predictions from local model: [{'action': 'LONG', 'predicted_return': 0.005858347227169655, 'ml_confidence': 0.569585183830487, 'confidence': 0.569585183830487, 'expected_price': 370.55820897921717, 'regime': 'BULL', 'reason': 'AI Buy + Bull Trend', 'price': 368.3999938964844, 'sma_200': 346.77175033569335}, {'action': 'LONG', 'predicted_return': 0.00543461346028742, 'ml_confidence': 0.5646435989129873, 'confidence': 0.5646435989129873, 'expected_price': 349.287978579418, 'regime': 'BULL', 'reason': 'AI Buy + Bull Trend', 'price': 347.3999938964844, 'sma_200': 346.77175033569335}, {'action': 'NEUTRAL', 'predicted_return': 0.004985536023821316, 'ml_confidence': 0.5593842822131934, 'confidence': 0.5593842822131934, 'expected_price': 341.39359885518195, 'regime': 'BULL', 'reason': 'Forecast 0.50% vs Threshold 0.50%', 'price': 339.70001220703125, 'sma_200': 346.77175033569335}, {'action': 'NEUTRAL', 'predicted_return': 0.004514397761674076, 'ml_confidence': 0.5538439763449129, 'confidence': 0.5538439763449129, 'expected_price': 334.45308099688805, 'regime': 'BULL', 'reason': 'Forecast 0.45% vs Threshold 0.50%', 'price': 332.95001220703125, 'sma_200': 346.77175033569335}, {'action': 'NEUTRAL', 'predicted_return': 0.004190342112156445, 'ml_confidence': 0.5500208879935136, 'confidence': 0.5500208879935136, 'expected_price': 327.8681466996191, 'regime': 'BULL', 'reason': 'Forecast 0.42% vs Threshold 0.50%', 'price': 326.5, 'sma_200': 346.77175033569335}]
2026-01-27 17:05:01,484 - trading_bot.connection_pool - INFO - Connecting IB (order_manager) ID: 141...
2026-01-27 17:05:01,604 - trading_bot.connection_pool - INFO - IB (order_manager) connected successfully with ID 141
2026-01-27 17:05:01,613 - trading_bot.utils - INFO - ðŸ› ï¸ Configuring Market Data: Requesting LIVE (Type 1) Data.
2026-01-27 17:05:01,614 - OrderManager - INFO - Connected to IB for signal generation.
2026-01-27 17:05:01,614 - OrderManager - INFO - Step 2.5: Generating structured signals from predictions...
2026-01-27 17:05:01,614 - trading_bot.signal_generator - INFO - --- Starting Multi-Agent Signal Generation (Council) ---
2026-01-27 17:05:01,837 - trading_bot.heterogeneous_router - INFO - ResponseCache initialized with env=DEV, multiplier=0.25
2026-01-27 17:05:01,837 - trading_bot.heterogeneous_router - INFO - HeterogeneousRouter initialized. Available: ['anthropic', 'xai', 'openai', 'gemini']
2026-01-27 17:05:01,837 - trading_bot.agents - INFO - Heterogeneous routing enabled. Diversity: {'available_providers': ['anthropic', 'xai', 'openai', 'gemini'], 'diversity_score': 1.0}
2026-01-27 17:05:01,881 - chromadb.telemetry.product.posthog - INFO - Anonymized telemetry enabled. See                     https://docs.trychroma.com/telemetry for more information.
2026-01-27 17:05:02,046 - trading_bot.tms - INFO - TMS initialized at ./data/tms
2026-01-27 17:05:02,046 - trading_bot.agents - INFO - Coffee Council initialized. Agents: gemini-3-pro-preview, Master: gemini-3-pro-preview
2026-01-27 17:05:02,046 - trading_bot.heterogeneous_router - INFO - ResponseCache initialized with env=DEV, multiplier=0.25
2026-01-27 17:05:02,046 - trading_bot.heterogeneous_router - INFO - HeterogeneousRouter initialized. Available: ['anthropic', 'xai', 'openai', 'gemini']
2026-01-27 17:05:02,046 - root - INFO - Fetching 5 active futures contracts for KC on NYBOT...
2026-01-27 17:05:02,206 - root - INFO - Found 11 active tradeable contracts (>=45d exp). Returning the first 5.
2026-01-27 17:05:02,207 - trading_bot.signal_generator - INFO - Convening Council for KCH6 (202603)...
2026-01-27 17:05:02,207 - trading_bot.signal_generator - INFO - Convening Council for KCK6 (202605)...
2026-01-27 17:05:02,207 - trading_bot.signal_generator - INFO - Convening Council for KCN6 (202607)...
2026-01-27 17:05:03,452 - trading_bot.agents - INFO - Retrieved 3 TMS insights for agronomist.
2026-01-27 17:05:03,452 - trading_bot.agents - INFO - [agronomist] Phase 1: Gathering grounded data...
2026-01-27 17:05:03,454 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:05:04,068 - trading_bot.agents - INFO - Retrieved 3 TMS insights for macro.
2026-01-27 17:05:04,068 - trading_bot.agents - INFO - [macro] Phase 1: Gathering grounded data...
2026-01-27 17:05:04,069 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:05:04,501 - trading_bot.agents - INFO - Retrieved 3 TMS insights for geopolitical.
2026-01-27 17:05:04,501 - trading_bot.agents - INFO - [geopolitical] Phase 1: Gathering grounded data...
2026-01-27 17:05:04,501 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:05:04,820 - trading_bot.agents - INFO - Retrieved 3 TMS insights for supply_chain.
2026-01-27 17:05:04,821 - trading_bot.agents - INFO - [supply_chain] Phase 1: Gathering grounded data...
2026-01-27 17:05:04,823 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:05:05,202 - trading_bot.agents - INFO - Retrieved 3 TMS insights for inventory.
2026-01-27 17:05:05,203 - trading_bot.agents - INFO - [inventory] Phase 1: Gathering grounded data...
2026-01-27 17:05:05,203 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:05:05,518 - trading_bot.agents - INFO - Retrieved 3 TMS insights for sentiment.
2026-01-27 17:05:05,518 - trading_bot.agents - INFO - [sentiment] Phase 1: Gathering grounded data...
2026-01-27 17:05:05,519 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:05:05,852 - trading_bot.agents - INFO - Retrieved 3 TMS insights for technical.
2026-01-27 17:05:05,853 - trading_bot.agents - INFO - [technical] Phase 1: Gathering grounded data...
2026-01-27 17:05:05,853 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:05:06,182 - trading_bot.agents - INFO - Retrieved 3 TMS insights for volatility.
2026-01-27 17:05:06,182 - trading_bot.agents - INFO - [volatility] Phase 1: Gathering grounded data...
2026-01-27 17:05:06,182 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:05:06,500 - trading_bot.agents - INFO - Retrieved 3 TMS insights for agronomist.
2026-01-27 17:05:06,500 - trading_bot.agents - INFO - [agronomist] Phase 1: Gathering grounded data...
2026-01-27 17:05:06,500 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:05:06,801 - trading_bot.agents - INFO - Retrieved 3 TMS insights for macro.
2026-01-27 17:05:06,801 - trading_bot.agents - INFO - [macro] Phase 1: Gathering grounded data...
2026-01-27 17:05:06,802 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:05:07,161 - trading_bot.agents - INFO - Retrieved 3 TMS insights for geopolitical.
2026-01-27 17:05:07,161 - trading_bot.agents - INFO - [geopolitical] Phase 1: Gathering grounded data...
2026-01-27 17:05:07,162 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:05:07,474 - trading_bot.agents - INFO - Retrieved 3 TMS insights for supply_chain.
2026-01-27 17:05:07,474 - trading_bot.agents - INFO - [supply_chain] Phase 1: Gathering grounded data...
2026-01-27 17:05:07,474 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:05:07,778 - trading_bot.agents - INFO - Retrieved 3 TMS insights for inventory.
2026-01-27 17:05:07,778 - trading_bot.agents - INFO - [inventory] Phase 1: Gathering grounded data...
2026-01-27 17:05:07,778 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:05:08,113 - trading_bot.agents - INFO - Retrieved 3 TMS insights for sentiment.
2026-01-27 17:05:08,113 - trading_bot.agents - INFO - [sentiment] Phase 1: Gathering grounded data...
2026-01-27 17:05:08,114 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:05:08,459 - trading_bot.agents - INFO - Retrieved 3 TMS insights for technical.
2026-01-27 17:05:08,459 - trading_bot.agents - INFO - [technical] Phase 1: Gathering grounded data...
2026-01-27 17:05:08,459 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:05:08,854 - trading_bot.agents - INFO - Retrieved 3 TMS insights for volatility.
2026-01-27 17:05:08,854 - trading_bot.agents - INFO - [volatility] Phase 1: Gathering grounded data...
2026-01-27 17:05:08,854 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:05:09,249 - trading_bot.agents - INFO - Retrieved 3 TMS insights for agronomist.
2026-01-27 17:05:09,250 - trading_bot.agents - INFO - [agronomist] Phase 1: Gathering grounded data...
2026-01-27 17:05:09,250 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:05:09,671 - trading_bot.agents - INFO - Retrieved 3 TMS insights for macro.
2026-01-27 17:05:09,672 - trading_bot.agents - INFO - [macro] Phase 1: Gathering grounded data...
2026-01-27 17:05:09,672 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:05:10,016 - trading_bot.agents - INFO - Retrieved 3 TMS insights for geopolitical.
2026-01-27 17:05:10,016 - trading_bot.agents - INFO - [geopolitical] Phase 1: Gathering grounded data...
2026-01-27 17:05:10,016 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:05:10,424 - trading_bot.agents - INFO - Retrieved 3 TMS insights for supply_chain.
2026-01-27 17:05:10,424 - trading_bot.agents - INFO - [supply_chain] Phase 1: Gathering grounded data...
2026-01-27 17:05:10,424 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:05:10,762 - trading_bot.agents - INFO - Retrieved 3 TMS insights for inventory.
2026-01-27 17:05:10,763 - trading_bot.agents - INFO - [inventory] Phase 1: Gathering grounded data...
2026-01-27 17:05:10,763 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:05:11,139 - trading_bot.agents - INFO - Retrieved 3 TMS insights for sentiment.
2026-01-27 17:05:11,139 - trading_bot.agents - INFO - [sentiment] Phase 1: Gathering grounded data...
2026-01-27 17:05:11,139 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:05:11,477 - trading_bot.agents - INFO - Retrieved 3 TMS insights for technical.
2026-01-27 17:05:11,477 - trading_bot.agents - INFO - [technical] Phase 1: Gathering grounded data...
2026-01-27 17:05:11,477 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:05:11,795 - trading_bot.agents - INFO - Retrieved 3 TMS insights for volatility.
2026-01-27 17:05:11,795 - trading_bot.agents - INFO - [volatility] Phase 1: Gathering grounded data...
2026-01-27 17:05:11,796 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:05:35,084 - trading_bot.rate_limiter - INFO - GlobalRateLimiter initialized: ['gemini', 'openai', 'anthropic', 'xai']
2026-01-27 17:05:35,189 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:05:50,416 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:05:50,643 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 17:05:51,060 - trading_bot.tms - INFO - TMS: Stored insight from macro
2026-01-27 17:05:51,061 - trading_bot.tms - INFO - TMS: macro insight on '[EVIDENCE]: [2026-01...' cues -> ['geopolitical', 'fundamentalist', 'technical', 'sentiment']
2026-01-27 17:05:52,045 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:05:52,153 - trading_bot.heterogeneous_router - WARNING - Attempt 1 failed for generate, retrying in 8.7s: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_requests_per_model, limit: 25, model: gemini-3-pro\nPlease retry in 7.867985924s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_requests_per_model', 'quotaId': 'GenerateRequestsPerMinutePerProjectPerModel', 'quotaDimensions': {'location': 'global', 'model': 'gemini-3-pro'}, 'quotaValue': '25'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '7s'}]}}
2026-01-27 17:05:52,441 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:05:52,515 - trading_bot.heterogeneous_router - WARNING - Attempt 1 failed for generate, retrying in 8.4s: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_requests_per_model, limit: 25, model: gemini-3-pro\nPlease retry in 7.503373821s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_requests_per_model', 'quotaId': 'GenerateRequestsPerMinutePerProjectPerModel', 'quotaDimensions': {'location': 'global', 'model': 'gemini-3-pro'}, 'quotaValue': '25'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '7s'}]}}
2026-01-27 17:05:59,053 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:05:59,139 - trading_bot.heterogeneous_router - WARNING - Attempt 1 failed for generate, retrying in 10.0s: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_requests_per_model, limit: 25, model: gemini-3-pro\nPlease retry in 883.840823ms.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_requests_per_model', 'quotaId': 'GenerateRequestsPerMinutePerProjectPerModel', 'quotaDimensions': {'location': 'global', 'model': 'gemini-3-pro'}, 'quotaValue': '25'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '0s'}]}}
2026-01-27 17:06:00,816 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:06:00,883 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:06:00,910 - trading_bot.heterogeneous_router - WARNING - Attempt 2 failed for generate, retrying in 60.0s: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_requests_per_model, limit: 25, model: gemini-3-pro\nPlease retry in 59.1078855s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_requests_per_model', 'quotaId': 'GenerateRequestsPerMinutePerProjectPerModel', 'quotaDimensions': {'location': 'global', 'model': 'gemini-3-pro'}, 'quotaValue': '25'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '59s'}]}}
2026-01-27 17:06:00,986 - trading_bot.heterogeneous_router - WARNING - Attempt 2 failed for generate, retrying in 59.9s: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_requests_per_model, limit: 25, model: gemini-3-pro\nPlease retry in 59.030931319s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_requests_per_model', 'quotaId': 'GenerateRequestsPerMinutePerProjectPerModel', 'quotaDimensions': {'location': 'global', 'model': 'gemini-3-pro'}, 'quotaValue': '25'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '59s'}]}}
2026-01-27 17:06:02,707 - trading_bot.tms - INFO - TMS: Stored insight from agronomist
2026-01-27 17:06:02,707 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:06:02,790 - trading_bot.heterogeneous_router - WARNING - Attempt 1 failed for generate, retrying in 58.2s: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_requests_per_model, limit: 25, model: gemini-3-pro\nPlease retry in 57.231423884s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_requests_per_model', 'quotaId': 'GenerateRequestsPerMinutePerProjectPerModel', 'quotaDimensions': {'model': 'gemini-3-pro', 'location': 'global'}, 'quotaValue': '25'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '57s'}]}}
2026-01-27 17:06:08,180 - trading_bot.tms - INFO - TMS: Stored insight from agronomist
2026-01-27 17:06:08,181 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:06:08,186 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:06:08,251 - trading_bot.heterogeneous_router - WARNING - Attempt 1 failed for generate, retrying in 53.1s: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_requests_per_model, limit: 25, model: gemini-3-pro\nPlease retry in 51.766399194s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_requests_per_model', 'quotaId': 'GenerateRequestsPerMinutePerProjectPerModel', 'quotaDimensions': {'location': 'global', 'model': 'gemini-3-pro'}, 'quotaValue': '25'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '51s'}]}}
2026-01-27 17:06:08,270 - trading_bot.heterogeneous_router - WARNING - Attempt 1 failed for generate, retrying in 52.4s: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_requests_per_model, limit: 25, model: gemini-3-pro\nPlease retry in 51.748460237s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_requests_per_model', 'quotaId': 'GenerateRequestsPerMinutePerProjectPerModel', 'quotaDimensions': {'location': 'global', 'model': 'gemini-3-pro'}, 'quotaValue': '25'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '51s'}]}}
2026-01-27 17:06:09,139 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:06:09,223 - trading_bot.heterogeneous_router - WARNING - Attempt 2 failed for generate, retrying in 51.4s: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_requests_per_model, limit: 25, model: gemini-3-pro\nPlease retry in 50.795316468s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_requests_per_model', 'quotaId': 'GenerateRequestsPerMinutePerProjectPerModel', 'quotaDimensions': {'model': 'gemini-3-pro', 'location': 'global'}, 'quotaValue': '25'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '50s'}]}}
2026-01-27 17:06:10,615 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 17:06:11,001 - trading_bot.tms - INFO - TMS: Stored insight from macro
2026-01-27 17:06:11,001 - trading_bot.tms - INFO - TMS: macro insight on '[EVIDENCE]: [2026-01...' cues -> ['geopolitical', 'fundamentalist']
2026-01-27 17:06:13,368 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:06:14,175 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 17:06:14,490 - trading_bot.tms - INFO - TMS: Stored insight from sentiment
2026-01-27 17:06:21,322 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:06:23,049 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:06:24,576 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:06:24,733 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 17:06:25,026 - trading_bot.tms - INFO - TMS: Stored insight from macro
2026-01-27 17:06:25,027 - trading_bot.tms - INFO - TMS: macro insight on '[EVIDENCE]: [2026-01...' cues -> ['geopolitical', 'fundamentalist']
2026-01-27 17:06:25,992 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:06:27,199 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 17:06:27,507 - trading_bot.tms - INFO - TMS: Stored insight from sentiment
2026-01-27 17:06:29,500 - trading_bot.tms - INFO - TMS: Stored insight from inventory
2026-01-27 17:06:29,503 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 17:06:29,785 - trading_bot.tms - INFO - TMS: Stored insight from geopolitical
2026-01-27 17:06:30,897 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 17:06:31,236 - trading_bot.tms - INFO - TMS: Stored insight from sentiment
2026-01-27 17:06:35,258 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:06:37,031 - trading_bot.tms - INFO - TMS: Stored insight from supply_chain
2026-01-27 17:06:40,377 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 17:06:40,722 - trading_bot.tms - INFO - TMS: Stored insight from technical
2026-01-27 17:06:41,030 - trading_bot.tms - INFO - TMS: Stored insight from volatility
2026-01-27 17:06:41,341 - trading_bot.tms - INFO - TMS: Stored insight from inventory
2026-01-27 17:06:44,626 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 17:06:44,971 - trading_bot.tms - INFO - TMS: Stored insight from geopolitical
2026-01-27 17:06:46,231 - trading_bot.tms - INFO - TMS: Stored insight from agronomist
2026-01-27 17:06:46,232 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:06:50,374 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 17:06:50,724 - trading_bot.tms - INFO - TMS: Stored insight from geopolitical
2026-01-27 17:06:55,532 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 17:06:55,840 - trading_bot.tms - INFO - TMS: Stored insight from technical
2026-01-27 17:07:00,588 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:07:00,638 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:07:00,905 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:07:00,912 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:07:01,013 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:07:01,339 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:07:14,065 - trading_bot.tms - INFO - TMS: Stored insight from volatility
2026-01-27 17:07:17,411 - trading_bot.tms - INFO - TMS: Stored insight from supply_chain
2026-01-27 17:07:17,732 - trading_bot.tms - INFO - TMS: Stored insight from inventory
2026-01-27 17:07:18,146 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 17:07:18,149 - trading_bot.weighted_voting - INFO - Market Regime Detected: HIGH_VOLATILITY
2026-01-27 17:07:18,176 - trading_bot.weighted_voting - INFO - ML confidence normalized: 0.57 -> 0.55
2026-01-27 17:07:18,176 - trading_bot.weighted_voting - WARNING - Regime=HIGH_VOLATILITY: Zeroing ML weight (structural break risk)
2026-01-27 17:07:18,176 - trading_bot.weighted_voting - INFO - ML Blend: Reliability=0.50, DynamicWeight=0.00, Regime=HIGH_VOLATILITY
2026-01-27 17:07:18,176 - trading_bot.weighted_voting - INFO - Weighted Vote: BULLISH (score=0.237, dominant=agronomist)
2026-01-27 17:07:18,177 - trading_bot.weighted_voting - INFO - Vote Breakdown: [
  {
    "agent": "agronomist",
    "direction": "BEARISH",
    "confidence": 0.9,
    "domain_weight": 2.25,
    "reliability_mult": 0.5,
    "final_weight": 1.12,
    "contribution": -1.012
  },
  {
    "agent": "macro",
    "direction": "BULLISH",
    "confidence": 0.85,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.637
  },
  {
    "agent": "geopolitical",
    "direction": "BEARISH",
    "confidence": 0.85,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": -0.637
  },
  {
    "agent": "supply_chain",
    "direction": "BULLISH",
    "confidence": 0.95,
    "domain_weight": 1.0,
    "reliability_mult": 0.5,
    "final_weight": 0.5,
    "contribution": 0.475
  },
  {
    "agent": "inventory",
    "direction": "BULLISH",
    "confidence": 0.95,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.712
  },
  {
    "agent": "sentiment",
    "direction": "NEUTRAL",
    "confidence": 0.9,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.0
  },
  {
    "agent": "technical",
    "direction": "BULLISH",
    "confidence": 0.68,
    "domain_weight": 1.0499999999999998,
    "reliability_mult": 0.5,
    "final_weight": 0.52,
    "contribution": 0.357
  },
  {
    "agent": "volatility",
    "direction": "BULLISH",
    "confidence": 0.85,
    "domain_weight": 2.25,
    "reliability_mult": 0.5,
    "final_weight": 1.12,
    "contribution": 0.956
  }
]
2026-01-27 17:07:18,289 - trading_bot.signal_generator - WARNING - Signal PRICED IN. Market up 3.2% in 24h. Forcing NEUTRAL.
2026-01-27 17:07:18,289 - trading_bot.signal_generator - INFO - Convening Council for KCU6 (202609)...
2026-01-27 17:07:19,100 - trading_bot.agents - INFO - Retrieved 3 TMS insights for agronomist.
2026-01-27 17:07:19,100 - trading_bot.agents - INFO - [agronomist] Phase 1: Gathering grounded data...
2026-01-27 17:07:19,100 - trading_bot.agents - INFO - [agronomist] Using cached grounded data.
2026-01-27 17:07:19,427 - trading_bot.tms - INFO - TMS: Stored insight from agronomist
2026-01-27 17:07:19,709 - trading_bot.agents - INFO - Retrieved 3 TMS insights for macro.
2026-01-27 17:07:19,709 - trading_bot.agents - INFO - [macro] Phase 1: Gathering grounded data...
2026-01-27 17:07:19,709 - trading_bot.agents - INFO - [macro] Using cached grounded data.
2026-01-27 17:07:19,995 - trading_bot.tms - INFO - TMS: Stored insight from macro
2026-01-27 17:07:19,996 - trading_bot.tms - INFO - TMS: macro insight on '[EVIDENCE]: [2026-01...' cues -> ['geopolitical', 'fundamentalist']
2026-01-27 17:07:20,267 - trading_bot.agents - INFO - Retrieved 3 TMS insights for geopolitical.
2026-01-27 17:07:20,267 - trading_bot.agents - INFO - [geopolitical] Phase 1: Gathering grounded data...
2026-01-27 17:07:20,268 - trading_bot.agents - INFO - [geopolitical] Using cached grounded data.
2026-01-27 17:07:20,536 - trading_bot.tms - INFO - TMS: Stored insight from geopolitical
2026-01-27 17:07:20,841 - trading_bot.agents - INFO - Retrieved 3 TMS insights for supply_chain.
2026-01-27 17:07:20,841 - trading_bot.agents - INFO - [supply_chain] Phase 1: Gathering grounded data...
2026-01-27 17:07:20,841 - trading_bot.agents - INFO - [supply_chain] Using cached grounded data.
2026-01-27 17:07:21,157 - trading_bot.tms - INFO - TMS: Stored insight from supply_chain
2026-01-27 17:07:21,476 - trading_bot.agents - INFO - Retrieved 3 TMS insights for inventory.
2026-01-27 17:07:21,476 - trading_bot.agents - INFO - [inventory] Phase 1: Gathering grounded data...
2026-01-27 17:07:21,476 - trading_bot.agents - INFO - [inventory] Using cached grounded data.
2026-01-27 17:07:21,754 - trading_bot.tms - INFO - TMS: Stored insight from inventory
2026-01-27 17:07:22,017 - trading_bot.agents - INFO - Retrieved 3 TMS insights for sentiment.
2026-01-27 17:07:22,017 - trading_bot.agents - INFO - [sentiment] Phase 1: Gathering grounded data...
2026-01-27 17:07:22,017 - trading_bot.agents - INFO - [sentiment] Using cached grounded data.
2026-01-27 17:07:22,312 - trading_bot.agents - INFO - Retrieved 3 TMS insights for technical.
2026-01-27 17:07:22,313 - trading_bot.agents - INFO - [technical] Phase 1: Gathering grounded data...
2026-01-27 17:07:22,313 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:07:22,609 - trading_bot.agents - INFO - Retrieved 3 TMS insights for volatility.
2026-01-27 17:07:22,609 - trading_bot.agents - INFO - [volatility] Phase 1: Gathering grounded data...
2026-01-27 17:07:22,610 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:07:22,614 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 17:07:22,962 - trading_bot.tms - INFO - TMS: Stored insight from technical
2026-01-27 17:07:22,963 - trading_bot.tms - INFO - TMS: technical insight on '[EVIDENCE]: 1) March...' cues -> ['volatility', 'sentiment']
2026-01-27 17:07:25,555 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 17:07:25,933 - trading_bot.tms - INFO - TMS: Stored insight from sentiment
2026-01-27 17:07:34,147 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 17:07:34,152 - trading_bot.weighted_voting - INFO - Market Regime Detected: RANGE_BOUND
2026-01-27 17:07:34,152 - trading_bot.weighted_voting - INFO - ML confidence normalized: 0.56 -> 0.54
2026-01-27 17:07:34,153 - trading_bot.weighted_voting - INFO - ML Blend: Reliability=0.50, DynamicWeight=0.15, Regime=RANGE_BOUND
2026-01-27 17:07:34,153 - trading_bot.weighted_voting - INFO - Weighted Vote: BULLISH (score=0.189, dominant=inventory)
2026-01-27 17:07:34,153 - trading_bot.weighted_voting - INFO - Vote Breakdown: [
  {
    "agent": "agronomist",
    "direction": "BEARISH",
    "confidence": 0.85,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": -0.637
  },
  {
    "agent": "macro",
    "direction": "BULLISH",
    "confidence": 0.85,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.637
  },
  {
    "agent": "geopolitical",
    "direction": "NEUTRAL",
    "confidence": 0.9,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.0
  },
  {
    "agent": "supply_chain",
    "direction": "NEUTRAL",
    "confidence": 0.0,
    "domain_weight": 1.0,
    "reliability_mult": 0.5,
    "final_weight": 0.5,
    "contribution": 0.0
  },
  {
    "agent": "inventory",
    "direction": "BULLISH",
    "confidence": 0.9,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.675
  },
  {
    "agent": "sentiment",
    "direction": "BULLISH",
    "confidence": 0.85,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.637
  },
  {
    "agent": "technical",
    "direction": "NEUTRAL",
    "confidence": 0.59,
    "domain_weight": 2.25,
    "reliability_mult": 0.5,
    "final_weight": 1.12,
    "contribution": 0.0
  },
  {
    "agent": "volatility",
    "direction": "NEUTRAL",
    "confidence": 0.0,
    "domain_weight": 1.0499999999999998,
    "reliability_mult": 0.5,
    "final_weight": 0.52,
    "contribution": 0.0
  }
]
2026-01-27 17:07:52,076 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-01-27 17:07:54,990 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 17:07:54,992 - trading_bot.weighted_voting - INFO - Market Regime Detected: HIGH_VOLATILITY
2026-01-27 17:07:54,993 - trading_bot.weighted_voting - INFO - ML confidence normalized: 0.56 -> 0.54
2026-01-27 17:07:54,993 - trading_bot.weighted_voting - WARNING - Regime=HIGH_VOLATILITY: Zeroing ML weight (structural break risk)
2026-01-27 17:07:54,993 - trading_bot.weighted_voting - INFO - ML Blend: Reliability=0.50, DynamicWeight=0.00, Regime=HIGH_VOLATILITY
2026-01-27 17:07:54,993 - trading_bot.weighted_voting - INFO - Weighted Vote: NEUTRAL (score=0.005, dominant=volatility)
2026-01-27 17:07:54,993 - trading_bot.weighted_voting - INFO - Vote Breakdown: [
  {
    "agent": "agronomist",
    "direction": "BEARISH",
    "confidence": 0.9,
    "domain_weight": 2.25,
    "reliability_mult": 0.5,
    "final_weight": 1.12,
    "contribution": -1.012
  },
  {
    "agent": "macro",
    "direction": "BULLISH",
    "confidence": 0.9,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.675
  },
  {
    "agent": "geopolitical",
    "direction": "NEUTRAL",
    "confidence": 0.8,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.0
  },
  {
    "agent": "supply_chain",
    "direction": "BULLISH",
    "confidence": 0.95,
    "domain_weight": 1.0,
    "reliability_mult": 0.5,
    "final_weight": 0.5,
    "contribution": 0.475
  },
  {
    "agent": "inventory",
    "direction": "BULLISH",
    "confidence": 0.9,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.675
  },
  {
    "agent": "sentiment",
    "direction": "NEUTRAL",
    "confidence": 0.85,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.0
  },
  {
    "agent": "technical",
    "direction": "BULLISH",
    "confidence": 0.55,
    "domain_weight": 1.0499999999999998,
    "reliability_mult": 0.5,
    "final_weight": 0.52,
    "contribution": 0.289
  },
  {
    "agent": "volatility",
    "direction": "BEARISH",
    "confidence": 0.95,
    "domain_weight": 2.25,
    "reliability_mult": 0.5,
    "final_weight": 1.12,
    "contribution": -1.069
  }
]
2026-01-27 17:08:05,295 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 17:08:14,040 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-01-27 17:08:19,138 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 17:08:28,407 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 17:08:33,167 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:08:40,166 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 17:08:47,470 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-01-27 17:08:47,473 - trading_bot.agents - ERROR - Devil's Advocate failed: Expecting value: line 1 column 1 (char 0)
2026-01-27 17:08:49,518 - trading_bot.tms - INFO - TMS: Stored insight from volatility
2026-01-27 17:08:52,883 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-01-27 17:08:52,886 - trading_bot.signal_generator - WARNING - COMPLIANCE BLOCKED KCN6 (202607): The decision direction is BEARISH but contradicts the weighted voting result which shows BULLISH consensus. While the agronomist report is bearish, both inventory (0.9 confidence) and sentiment (0.85 confidence) reports are explicitly BULLISH, and the macro report (0.85 confidence) is also BULLISH due to BRL strength supporting prices. The reasoning overweights the agronomist's bearish stance while downplaying the strong bullish signals from inventory drawdowns and backwardation structure. Additionally, the 24h change of +2.37% and 5-day trend of +4.60% suggest the market is moving bullish, not bearish.
2026-01-27 17:08:53,106 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-01-27 17:08:53,108 - trading_bot.signal_generator - INFO - Council Decision KCN6 (202607): NEUTRAL (0.0)
2026-01-27 17:08:53,111 - root - INFO - Logged Council decision for KCN6 (202607)
2026-01-27 17:08:53,112 - trading_bot.signal_generator - INFO - Convening Council for KCZ6 (202612)...
2026-01-27 17:08:53,998 - trading_bot.agents - INFO - Retrieved 3 TMS insights for agronomist.
2026-01-27 17:08:53,998 - trading_bot.agents - INFO - [agronomist] Phase 1: Gathering grounded data...
2026-01-27 17:08:53,998 - trading_bot.agents - INFO - [agronomist] Using cached grounded data.
2026-01-27 17:08:54,343 - trading_bot.tms - INFO - TMS: Stored insight from agronomist
2026-01-27 17:08:54,693 - trading_bot.agents - INFO - Retrieved 3 TMS insights for macro.
2026-01-27 17:08:54,694 - trading_bot.agents - INFO - [macro] Phase 1: Gathering grounded data...
2026-01-27 17:08:54,694 - trading_bot.agents - INFO - [macro] Using cached grounded data.
2026-01-27 17:08:54,990 - trading_bot.tms - INFO - TMS: Stored insight from macro
2026-01-27 17:08:54,990 - trading_bot.tms - INFO - TMS: macro insight on '[EVIDENCE]: [2026-01...' cues -> ['geopolitical', 'fundamentalist']
2026-01-27 17:08:55,274 - trading_bot.agents - INFO - Retrieved 3 TMS insights for geopolitical.
2026-01-27 17:08:55,275 - trading_bot.agents - INFO - [geopolitical] Phase 1: Gathering grounded data...
2026-01-27 17:08:55,275 - trading_bot.agents - INFO - [geopolitical] Using cached grounded data.
2026-01-27 17:08:55,589 - trading_bot.tms - INFO - TMS: Stored insight from geopolitical
2026-01-27 17:08:55,867 - trading_bot.agents - INFO - Retrieved 3 TMS insights for supply_chain.
2026-01-27 17:08:55,867 - trading_bot.agents - INFO - [supply_chain] Phase 1: Gathering grounded data...
2026-01-27 17:08:55,867 - trading_bot.agents - INFO - [supply_chain] Using cached grounded data.
2026-01-27 17:08:56,188 - trading_bot.tms - INFO - TMS: Stored insight from supply_chain
2026-01-27 17:08:56,473 - trading_bot.agents - INFO - Retrieved 3 TMS insights for inventory.
2026-01-27 17:08:56,473 - trading_bot.agents - INFO - [inventory] Phase 1: Gathering grounded data...
2026-01-27 17:08:56,473 - trading_bot.agents - INFO - [inventory] Using cached grounded data.
2026-01-27 17:08:56,764 - trading_bot.tms - INFO - TMS: Stored insight from inventory
2026-01-27 17:08:57,050 - trading_bot.agents - INFO - Retrieved 3 TMS insights for sentiment.
2026-01-27 17:08:57,050 - trading_bot.agents - INFO - [sentiment] Phase 1: Gathering grounded data...
2026-01-27 17:08:57,050 - trading_bot.agents - INFO - [sentiment] Using cached grounded data.
2026-01-27 17:08:57,394 - trading_bot.tms - INFO - TMS: Stored insight from sentiment
2026-01-27 17:08:57,716 - trading_bot.agents - INFO - Retrieved 3 TMS insights for technical.
2026-01-27 17:08:57,716 - trading_bot.agents - INFO - [technical] Phase 1: Gathering grounded data...
2026-01-27 17:08:57,716 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:08:57,974 - trading_bot.agents - INFO - Retrieved 3 TMS insights for volatility.
2026-01-27 17:08:57,974 - trading_bot.agents - INFO - [volatility] Phase 1: Gathering grounded data...
2026-01-27 17:08:57,974 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:09:01,687 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-01-27 17:09:01,691 - trading_bot.signal_generator - WARNING - Devil's Advocate VETOED trade: DO NOT PROCEED. The trade exhibits dangerous confirmation bias - we cherry-picked the agronomist's bearish 72.5M bag forecast and volatility's expensive premium call while dismissing three agents (supply_chain 0.95, inventory 0.90, macro 0.90) with higher confidence bullish readings. The weighted consensus is NEUTRAL (0.61) not bearish, yet we're proposing a directional short. We're also succumbing to recency bias on the technical overbought signal - RSI can stay overbought for extended periods in trending markets, and the technical agent itself called the bias 'strategically positive.' Most critically, we're fighting verified physical tightness (declining ICE stocks, backwardation, logistical friction) with forward supply expectations that won't materialize for months. The asymmetry is wrong: being wrong on a bearish coffee bet here exposes us to unlimited upside in a potentially parabolic market.
2026-01-27 17:09:01,691 - trading_bot.signal_generator - INFO - Council Decision KCK6 (202605): NEUTRAL (0.7)
2026-01-27 17:09:01,692 - root - INFO - Logged Council decision for KCK6 (202605)
2026-01-27 17:09:25,672 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 17:09:26,005 - trading_bot.tms - INFO - TMS: Stored insight from technical
2026-01-27 17:10:04,470 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-27 17:10:39,246 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 17:10:39,567 - trading_bot.tms - INFO - TMS: Stored insight from technical
2026-01-27 17:10:39,568 - trading_bot.tms - INFO - TMS: technical insight on '[EVIDENCE]: 1) KCZ26...' cues -> ['fundamentalist']
2026-01-27 17:10:41,734 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 17:10:41,737 - trading_bot.weighted_voting - INFO - Market Regime Detected: RANGE_BOUND
2026-01-27 17:10:41,738 - trading_bot.weighted_voting - INFO - ML confidence normalized: 0.55 -> 0.54
2026-01-27 17:10:41,738 - trading_bot.weighted_voting - INFO - ML Blend: Reliability=0.50, DynamicWeight=0.15, Regime=RANGE_BOUND
2026-01-27 17:10:41,738 - trading_bot.weighted_voting - INFO - Weighted Vote: BULLISH (score=0.186, dominant=agronomist)
2026-01-27 17:10:41,738 - trading_bot.weighted_voting - INFO - Vote Breakdown: [
  {
    "agent": "agronomist",
    "direction": "BEARISH",
    "confidence": 0.9,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": -0.675
  },
  {
    "agent": "macro",
    "direction": "BULLISH",
    "confidence": 0.9,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.675
  },
  {
    "agent": "geopolitical",
    "direction": "NEUTRAL",
    "confidence": 0.8,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.0
  },
  {
    "agent": "supply_chain",
    "direction": "BULLISH",
    "confidence": 0.95,
    "domain_weight": 1.0,
    "reliability_mult": 0.5,
    "final_weight": 0.5,
    "contribution": 0.475
  },
  {
    "agent": "inventory",
    "direction": "BULLISH",
    "confidence": 0.9,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.675
  },
  {
    "agent": "sentiment",
    "direction": "BULLISH",
    "confidence": 0.85,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.637
  },
  {
    "agent": "technical",
    "direction": "NEUTRAL",
    "confidence": 0.67,
    "domain_weight": 2.25,
    "reliability_mult": 0.5,
    "final_weight": 1.12,
    "contribution": 0.0
  },
  {
    "agent": "volatility",
    "direction": "BEARISH",
    "confidence": 0.95,
    "domain_weight": 1.0499999999999998,
    "reliability_mult": 0.5,
    "final_weight": 0.52,
    "contribution": -0.499
  }
]
2026-01-27 17:11:02,918 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-01-27 17:11:21,953 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 17:11:26,173 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 17:11:26,175 - trading_bot.weighted_voting - INFO - Market Regime Detected: RANGE_BOUND
2026-01-27 17:11:26,176 - trading_bot.weighted_voting - INFO - ML confidence normalized: 0.55 -> 0.53
2026-01-27 17:11:26,176 - trading_bot.weighted_voting - INFO - ML Blend: Reliability=0.50, DynamicWeight=0.15, Regime=RANGE_BOUND
2026-01-27 17:11:26,176 - trading_bot.weighted_voting - INFO - Weighted Vote: NEUTRAL (score=0.138, dominant=technical)
2026-01-27 17:11:26,176 - trading_bot.weighted_voting - INFO - Vote Breakdown: [
  {
    "agent": "agronomist",
    "direction": "BEARISH",
    "confidence": 0.9,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": -0.675
  },
  {
    "agent": "macro",
    "direction": "BULLISH",
    "confidence": 0.9,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.675
  },
  {
    "agent": "geopolitical",
    "direction": "NEUTRAL",
    "confidence": 0.8,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.0
  },
  {
    "agent": "supply_chain",
    "direction": "BULLISH",
    "confidence": 0.95,
    "domain_weight": 1.0,
    "reliability_mult": 0.5,
    "final_weight": 0.5,
    "contribution": 0.475
  },
  {
    "agent": "inventory",
    "direction": "BULLISH",
    "confidence": 0.9,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.675
  },
  {
    "agent": "sentiment",
    "direction": "BULLISH",
    "confidence": 0.85,
    "domain_weight": 1.5,
    "reliability_mult": 0.5,
    "final_weight": 0.75,
    "contribution": 0.637
  },
  {
    "agent": "technical",
    "direction": "BEARISH",
    "confidence": 0.74,
    "domain_weight": 2.25,
    "reliability_mult": 0.5,
    "final_weight": 1.12,
    "contribution": -0.833
  },
  {
    "agent": "volatility",
    "direction": "NEUTRAL",
    "confidence": 0.0,
    "domain_weight": 1.0499999999999998,
    "reliability_mult": 0.5,
    "final_weight": 0.52,
    "contribution": 0.0
  }
]
2026-01-27 17:11:31,316 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 17:11:45,464 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-01-27 17:12:03,740 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 17:12:04,251 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-01-27 17:12:04,254 - trading_bot.agents - ERROR - Devil's Advocate failed: Expecting value: line 1 column 1 (char 0)
2026-01-27 17:12:06,148 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-01-27 17:12:06,150 - trading_bot.signal_generator - INFO - Council Decision KCU6 (202609): BULLISH (0.7)
2026-01-27 17:12:06,152 - root - INFO - Logged Council decision for KCU6 (202609)
2026-01-27 17:12:15,520 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-27 17:12:30,445 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-01-27 17:12:30,446 - trading_bot.signal_generator - WARNING - Devil's Advocate VETOED trade: DO NOT PROCEED. The trade suffers from severe confirmation bias - it cherry-picks the technical/agronomist bearish signals (2 agents) while dismissing 4 BULLISH signals from supply_chain (0.95), inventory (0.9), macro (0.9), and sentiment (0.85). The 24h price move of +1.89% and 5-day trend of +4.15% suggest the market is ALREADY pricing in bullish fundamentals we are trying to fade. The consensus was NEUTRAL at only 0.55 confidence - this is NOT a high-conviction bearish setup. The technical agent's 315.95 reference price is stale vs. current 326.2 (already broke above 323.15 resistance). This is a classic 'fighting the tape' scenario where physical market tightness overwhelms chart patterns. Wait for either: (a) certified stocks to stabilize/rebuild, (b) shipping routes to normalize, or (c) a decisive close below 312.90 support before considering bearish exposure.
2026-01-27 17:12:30,446 - trading_bot.signal_generator - INFO - Council Decision KCZ6 (202612): NEUTRAL (0.7)
2026-01-27 17:12:30,448 - root - INFO - Logged Council decision for KCZ6 (202612)
2026-01-27 17:12:30,460 - trading_bot.signal_generator - INFO - Persisted 8 agent reports to state.
2026-01-27 17:12:30,479 - trading_bot.signal_generator - INFO - Persisted latest ML signals to state.
2026-01-27 17:12:30,495 - trading_bot.model_signals - INFO - Successfully logged signal: Contract=202603, Signal=NEUTRAL
2026-01-27 17:12:30,498 - trading_bot.model_signals - INFO - Successfully logged signal: Contract=202605, Signal=NEUTRAL
2026-01-27 17:12:30,502 - trading_bot.model_signals - INFO - Successfully logged signal: Contract=202607, Signal=VOLATILITY
2026-01-27 17:12:30,505 - trading_bot.model_signals - INFO - Successfully logged signal: Contract=202609, Signal=BULLISH
2026-01-27 17:12:30,510 - trading_bot.model_signals - INFO - Successfully logged signal: Contract=202612, Signal=VOLATILITY
2026-01-27 17:12:30,510 - OrderManager - INFO - Generated 5 signals: [{'action': 'NEUTRAL', 'predicted_return': 0.005858347227169655, 'ml_confidence': 0.569585183830487, 'confidence': 0.0, 'expected_price': 370.55820897921717, 'regime': 'BULL', 'reason': 'Signal Priced In (24h move > 3%)', 'price': 368.3999938964844, 'sma_200': 346.77175033569335, 'contract_month': '202603', 'prediction_type': 'NEUTRAL', 'direction': 'NEUTRAL'}, {'contract_month': '202605', 'prediction_type': 'DIRECTIONAL', 'direction': 'NEUTRAL', 'reason': "The permabear highlights overbought technical indicators and upcoming Brazilian supply surplus that could overwhelm current tight conditions. The permabull argues the current logistical bottlenecks and strong Brazilian Real support prices, emphasizing structural tightness. The agronomist's bearish supply outlook is countered by ongoing supply chain issues causing artificial scarcity. The technical and volatility reports suggest potential corrections due to overbought conditions and expensive volatility. While the bull argument of real-time supply tightness and strong BRL cannot be ignored, the mounting technical signals and upcoming supply reality weigh more. Additionally, the ML signal is tepid and does not strongly support the bull case. Therefore, the evidence leans towards a market likely to correct or consolidate in the near term. [DA VETO: SUPPLY CHAIN REVERSAL: The Port of Santos 0-day delay report contradicts the supply chain analyst's 1.7M bag backlog narrative. If the logistical bottleneck clears faster than expected (as current port data suggests), the artificial scarcity premium evaporates immediately, sending prices lower not higher - making our bearish bet look directionally correct but our timing catastrophically wrong as the market rallies further before correcting.]", 'regime': 'HIGH_VOLATILITY', 'volatility_sentiment': 'BEARISH', 'confidence': 0.7, 'price': 347.3999938964844, 'sma_200': 346.77175033569335, 'expected_price': 349.287978579418, 'predicted_return': 0.00543461346028742}, {'contract_month': '202607', 'prediction_type': 'VOLATILITY', 'level': 'HIGH', 'direction': 'VOLATILITY', 'reason': 'Volatility Play: Drought conditions developing', 'regime': 'RANGE_BOUND', 'volatility_sentiment': 'NEUTRAL', 'confidence': 0.0, 'price': 339.70001220703125, 'sma_200': 346.77175033569335, 'expected_price': 341.39359885518195, 'predicted_return': 0.004985536023821316}, {'contract_month': '202609', 'prediction_type': 'DIRECTIONAL', 'direction': 'BULLISH', 'reason': 'The debate between the Permabear and Permabull reveals a complex picture with valid points from both sides. The Permabear argues that weather conditions improving in Minas Gerais could diminish the current supply fear premium, while technical indicators suggest a potential downside risk. However, the Permabull effectively counters that the ongoing structural supply chain constraints, farmer withholding due to currency factors, and current inventory conditions provide a strong foundation for continued bullish momentum. Additionally, the technical setup shows signs of hidden bullish divergence, pointing to continued upward potential. The ML model regime is bullish, albeit with moderate confidence, which aligns with a slightly upward bias in the market. Ultimately, while the Permabear highlights significant risks, the overall evidence, including geopolitical and supply chain factors, supports a continuation of the bullish trend.', 'regime': 'RANGE_BOUND', 'volatility_sentiment': 'BEARISH', 'confidence': 0.7, 'price': 332.95001220703125, 'sma_200': 346.77175033569335, 'expected_price': 334.45308099688805, 'predicted_return': 0.004514397761674076}, {'contract_month': '202612', 'prediction_type': 'VOLATILITY', 'level': 'HIGH', 'direction': 'VOLATILITY', 'reason': 'Volatility Play: Drought conditions developing', 'regime': 'RANGE_BOUND', 'volatility_sentiment': 'NEUTRAL', 'confidence': 0.7, 'price': 326.5, 'sma_200': 346.77175033569335, 'expected_price': 327.8681466996191, 'predicted_return': 0.004190342112156445}]
2026-01-27 17:12:30,511 - root - INFO - Fetching 5 active futures contracts for KC on NYBOT...
2026-01-27 17:12:30,576 - root - INFO - Found 11 active tradeable contracts (>=45d exp). Returning the first 5.
2026-01-27 17:12:30,676 - OrderManager - INFO - Account Value for Sizing: $50,000.00
2026-01-27 17:12:30,787 - OrderManager - INFO - Requesting snapshot market price for KCN6...
2026-01-27 17:12:30,999 - OrderManager - INFO - Using bid/ask midpoint for KCN6: 339.025
2026-01-27 17:12:30,999 - root - INFO - Fetching option chain for future KCN6...
2026-01-27 17:12:31,001 - root - INFO - --- Defining HIGH Volatility Strategy for KCN6 ---
2026-01-27 17:12:31,003 - trading_bot.position_sizer - INFO - Dynamic Sizing: Base=1 * Conf(0.50) * Vol(1.0) * Heat(1.0) = 0
2026-01-27 17:12:31,003 - root - INFO - --- Pricing individual legs and creating order object ---
2026-01-27 17:12:31,229 - root - INFO - Fetching market data for option: KON6 C3.4
2026-01-27 17:12:33,230 - root - INFO - Using IBKR Model Greeks IV: 34.69%
2026-01-27 17:12:33,235 - root - INFO - Theoretical price calculated for C @ 340.0: {'price': np.float64(30.4914), 'delta': np.float64(0.5646), 'gamma': np.float64(0.0055), 'vega': np.float64(81.4735), 'theta': np.float64(-0.1216)}
2026-01-27 17:12:33,235 - root - INFO -   -> Leg Theoretical Price (BUY): KON6 C3.4 @ 30.49
2026-01-27 17:12:33,235 - root - INFO - Fetching market data for option: KON6 P3.4
2026-01-27 17:12:35,236 - root - INFO - Using IBKR Model Greeks IV: 34.69%
2026-01-27 17:12:35,237 - root - INFO - Theoretical price calculated for P @ 340.0: {'price': np.float64(26.4366), 'delta': np.float64(-0.4354), 'gamma': np.float64(0.0055), 'vega': np.float64(81.4735), 'theta': np.float64(-0.123)}
2026-01-27 17:12:35,238 - root - INFO -   -> Leg Theoretical Price (BUY): KON6 P3.4 @ 26.44
2026-01-27 17:12:35,238 - root - INFO - Net Theoretical: 56.93, Market Spread: 1.78
2026-01-27 17:12:35,238 - root - INFO - Adaptive Strategy: Start @ 56.53, Cap/Floor @ 57.43
2026-01-27 17:12:35,238 - root - INFO - Creating Limit Order for BUY 1 @ 56.53 (Adaptive Cap: 57.43).
2026-01-27 17:12:35,238 - root - INFO - Using Custom Adaptive Logic (IBKR Algo Disabled).
2026-01-27 17:12:35,239 - root - INFO - Assigned OrderRef: 83346077-5ac0-4df8-b86f-7ac5b137d406
2026-01-27 17:12:35,239 - OrderManager - INFO - Successfully queued order for KCN6.
2026-01-27 17:12:35,450 - OrderManager - INFO - Requesting snapshot market price for KCU6...
2026-01-27 17:12:35,625 - OrderManager - INFO - Using bid/ask midpoint for KCU6: 332.1
2026-01-27 17:12:35,625 - root - INFO - Fetching option chain for future KCU6...
2026-01-27 17:12:35,630 - root - INFO - --- Defining BULLISH Spread for KCU6 ---
2026-01-27 17:12:35,631 - root - INFO - Identified ATM strike: 332.5 for underlying price 332.1
2026-01-27 17:12:35,631 - root - INFO - Defined Bull Call Spread legs: BUY 332.5C, SELL 500.0C
2026-01-27 17:12:35,632 - trading_bot.position_sizer - INFO - Dynamic Sizing: Base=1 * Conf(0.85) * Vol(0.6) * Heat(1.0) = 0
2026-01-27 17:12:35,632 - root - INFO - --- Pricing individual legs and creating order object ---
2026-01-27 17:12:35,854 - root - INFO - Fetching market data for option: KOU6 C3.325
2026-01-27 17:12:37,856 - root - INFO - Using IBKR Model Greeks IV: 35.22%
2026-01-27 17:12:37,857 - root - INFO - Theoretical price calculated for C @ 332.5: {'price': np.float64(37.4978), 'delta': np.float64(0.5829), 'gamma': np.float64(0.0045), 'vega': np.float64(95.7085), 'theta': np.float64(-0.1018)}
2026-01-27 17:12:37,857 - root - INFO -   -> Leg Theoretical Price (BUY): KOU6 C3.325 @ 37.50
2026-01-27 17:12:37,857 - root - INFO - Fetching market data for option: KOU6 C5
2026-01-27 17:12:39,858 - root - INFO - Using IBKR Model Greeks IV: 37.86%
2026-01-27 17:12:39,860 - root - INFO - Theoretical price calculated for C @ 500.0: {'price': np.float64(4.2328), 'delta': np.float64(0.1064), 'gamma': np.float64(0.002), 'vega': np.float64(45.0097), 'theta': np.float64(-0.0462)}
2026-01-27 17:12:39,861 - root - INFO -   -> Leg Theoretical Price (SELL): KOU6 C5 @ 4.23
2026-01-27 17:12:39,862 - root - INFO - Net Theoretical: 33.27, Market Spread: 4.11
2026-01-27 17:12:39,862 - root - INFO - Adaptive Strategy: Start @ 28.47, Cap/Floor @ 33.76
2026-01-27 17:12:39,862 - root - INFO - Creating Limit Order for BUY 1 @ 28.47 (Adaptive Cap: 33.76).
2026-01-27 17:12:39,862 - root - INFO - Using Custom Adaptive Logic (IBKR Algo Disabled).
2026-01-27 17:12:39,862 - root - INFO - Assigned OrderRef: 1f94192b-2209-45cf-8476-7af91ca02961
2026-01-27 17:12:39,863 - OrderManager - INFO - Successfully queued order for KCU6.
2026-01-27 17:12:40,074 - OrderManager - INFO - Requesting snapshot market price for KCZ6...
2026-01-27 17:12:40,286 - OrderManager - INFO - Using bid/ask midpoint for KCZ6: 326.075
2026-01-27 17:12:40,287 - root - INFO - Fetching option chain for future KCZ6...
2026-01-27 17:12:40,293 - root - INFO - --- Defining HIGH Volatility Strategy for KCZ6 ---
2026-01-27 17:12:40,296 - trading_bot.position_sizer - INFO - Dynamic Sizing: Base=1 * Conf(0.85) * Vol(1.0) * Heat(1.0) = 0
2026-01-27 17:12:40,296 - root - INFO - --- Pricing individual legs and creating order object ---
2026-01-27 17:12:40,518 - root - INFO - Fetching market data for option: KOZ6 C3.25
2026-01-27 17:12:42,519 - root - INFO - Using IBKR Model Greeks IV: 34.13%
2026-01-27 17:12:42,520 - root - INFO - Theoretical price calculated for C @ 325.0: {'price': np.float64(44.5378), 'delta': np.float64(0.6053), 'gamma': np.float64(0.0039), 'vega': np.float64(111.6989), 'theta': np.float64(-0.0827)}
2026-01-27 17:12:42,521 - root - INFO -   -> Leg Theoretical Price (BUY): KOZ6 C3.25 @ 44.54
2026-01-27 17:12:42,521 - root - INFO - Fetching market data for option: KOZ6 P3.25
2026-01-27 17:12:44,521 - root - INFO - Using IBKR Model Greeks IV: 34.13%
2026-01-27 17:12:44,524 - root - INFO - Theoretical price calculated for P @ 325.0: {'price': np.float64(33.331), 'delta': np.float64(-0.3947), 'gamma': np.float64(0.0039), 'vega': np.float64(111.6989), 'theta': np.float64(-0.0837)}
2026-01-27 17:12:44,524 - root - INFO -   -> Leg Theoretical Price (BUY): KOZ6 P3.25 @ 33.33
2026-01-27 17:12:44,525 - root - INFO - Net Theoretical: 77.87, Market Spread: 0.00
2026-01-27 17:12:44,525 - root - INFO - Adaptive Strategy: Start @ -199.95, Cap/Floor @ 78.37
2026-01-27 17:12:44,525 - root - INFO - Creating Limit Order for BUY 1 @ -199.95 (Adaptive Cap: 78.37).
2026-01-27 17:12:44,525 - root - INFO - Using Custom Adaptive Logic (IBKR Algo Disabled).
2026-01-27 17:12:44,525 - root - INFO - Assigned OrderRef: d22a0f35-a4c8-4053-9d76-387d7882bafd
2026-01-27 17:12:44,525 - OrderManager - INFO - Successfully queued order for KCZ6.
2026-01-27 17:12:44,525 - OrderManager - INFO - --- Order generation complete. 3 orders queued. ---
2026-01-27 17:12:44,812 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-01-27 17:12:45,133 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-01-27 17:12:45,355 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-01-27 17:12:45,586 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-01-27 17:12:45,828 - notifications - INFO - Pushover chunk sent successfully (Attachment: False).
2026-01-27 17:12:45,831 - OrderManager - INFO - --- Placing and monitoring 3 orders ---
2026-01-27 17:12:45,831 - trading_bot.heterogeneous_router - INFO - ResponseCache initialized with env=DEV, multiplier=0.25
2026-01-27 17:12:45,832 - trading_bot.heterogeneous_router - INFO - HeterogeneousRouter initialized. Available: ['anthropic', 'xai', 'openai', 'gemini']
2026-01-27 17:12:45,833 - trading_bot.utils - INFO - ðŸ› ï¸ Configuring Market Data: Requesting LIVE (Type 1) Data.
2026-01-27 17:12:45,833 - OrderManager - INFO - Using pooled IB connection for order placement.
2026-01-27 17:12:45,833 - OrderManager - INFO - Sorted orders by expiration proximity.
2026-01-27 17:12:45,833 - OrderManager - INFO - Current Available Funds: $50,000.00 | Equity: $50,000.00
2026-01-27 17:12:47,894 - ib_insync.wrapper - ERROR - Error 162, reqId 34: Historical Market Data Service error message:No data of type EODChart is available for the exchange 'NYBOT' and the security type 'Futures Options' and '2 d' and '1 day', contract: Contract(secType='FOP', conId=743955844, symbol='KC', lastTradeDateOrContractMonth='20260612', strike=340.0, right='C', multiplier='37500', exchange='NYBOT', currency='USD', localSymbol='KON6 C3.4', tradingClass='KO')
2026-01-27 17:12:47,898 - trading_bot.compliance - INFO - Resolved underlying future: KCN6 (conId: 646040490)
2026-01-27 17:12:48,015 - trading_bot.compliance - INFO - Volume from IB (KCN6): 63.0
2026-01-27 17:12:54,424 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-01-27 17:12:54,427 - OrderManager - WARNING - Order for  blocked by Compliance: REJECTED: Article I violation - Notional value ($2,119,875.00) is 4239.75% of equity, exceeding the 25% maximum ($12,500.00). This single position would represent extreme concentration risk and catastrophic capital exposure.
2026-01-27 17:12:56,485 - ib_insync.wrapper - ERROR - Error 162, reqId 40: Historical Market Data Service error message:No data of type EODChart is available for the exchange 'NYBOT' and the security type 'Futures Options' and '2 d' and '1 day', contract: Contract(secType='FOP', conId=760187176, symbol='KC', lastTradeDateOrContractMonth='20260814', strike=332.5, right='C', multiplier='37500', exchange='NYBOT', currency='USD', localSymbol='KOU6 C3.325', tradingClass='KO')
2026-01-27 17:12:56,490 - trading_bot.compliance - INFO - Resolved underlying future: KCU6 (conId: 657732419)
2026-01-27 17:12:56,606 - trading_bot.compliance - INFO - Volume from IB (KCU6): 41.0
2026-01-27 17:13:04,342 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-01-27 17:13:04,344 - OrderManager - WARNING - Order for  blocked by Compliance: REJECTED: Article I violation - Position notional ($1,067,625) equals 2135% of equity, catastrophically exceeding the 25% maximum ($12,500). This represents extreme concentration risk that would destroy capital preservation.
2026-01-27 17:13:04,345 - OrderManager - INFO - Refreshing account summary for margin safety...
2026-01-27 17:13:04,345 - OrderManager - INFO - Refreshed Available Funds: $50,000.00
2026-01-27 17:13:06,402 - ib_insync.wrapper - ERROR - Error 162, reqId 46: Historical Market Data Service error message:No data of type EODChart is available for the exchange 'NYBOT' and the security type 'Futures Options' and '2 d' and '1 day', contract: Contract(secType='FOP', conId=760187216, symbol='KC', lastTradeDateOrContractMonth='20261112', strike=325.0, right='C', multiplier='37500', exchange='NYBOT', currency='USD', localSymbol='KOZ6 C3.25', tradingClass='KO')
2026-01-27 17:13:06,449 - trading_bot.compliance - INFO - Resolved underlying future: KCZ6 (conId: 675565688)
2026-01-27 17:13:06,564 - trading_bot.compliance - INFO - Volume from IB (KCZ6): 35.0
2026-01-27 17:13:11,002 - ib_insync.wrapper - ERROR - Error 10197, reqId 44: No market data during competing live session, contract: Bag(symbol='KC', exchange='NYBOT', currency='USD', comboLegs=[ComboLeg(conId=760187216, ratio=1, action='BUY', exchange='NYBOT', openClose=0, shortSaleSlot=0, designatedLocation='', exemptCode=-1), ComboLeg(conId=760187221, ratio=1, action='BUY', exchange='NYBOT', openClose=0, shortSaleSlot=0, designatedLocation='', exemptCode=-1)])
2026-01-27 17:13:15,650 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2026-01-27 17:13:15,652 - OrderManager - WARNING - Order for  blocked by Compliance: REJECTED - Article I Violation: Notional value of $7,498,125 represents 14,996% of equity, far exceeding the 25% ($12,500) maximum position limit. Additionally, no symbol specified and no stop-loss logic defined (Article III violation). This order poses existential risk to capital.
2026-01-27 17:13:15,652 - OrderManager - WARNING - No orders fit within available funds or compliance limits. Aborting placement.
2026-01-27 17:13:15,652 - OrderManager - INFO - Order placement complete. Releasing event handlers.
2026-01-27 17:13:15,653 - OrderManager - INFO - >>> Combined task 'Generate and Execute Orders' complete <<<
Exception ignored in: <function IB.__del__ at 0x716cf6f4f560>
Traceback (most recent call last):
  File "/home/rodrigo/real_options/venv/lib/python3.12/site-packages/ib_insync/ib.py", line 243, in __del__
    self.disconnect()
  File "/home/rodrigo/real_options/venv/lib/python3.12/site-packages/ib_insync/ib.py", line 297, in disconnect
    self.client.disconnect()
  File "/home/rodrigo/real_options/venv/lib/python3.12/site-packages/ib_insync/client.py", line 232, in disconnect
    self.conn.disconnect()
  File "/home/rodrigo/real_options/venv/lib/python3.12/site-packages/ib_insync/connection.py", line 44, in disconnect
    self.transport.write_eof()
  File "uvloop/handles/stream.pyx", line 700, in uvloop.loop.UVStream.write_eof
  File "uvloop/handles/handle.pyx", line 159, in uvloop.loop.UVHandle._ensure_alive
RuntimeError: unable to perform operation on <TCPTransport closed=True reading=False 0x716c46129690>; the handler is closed
